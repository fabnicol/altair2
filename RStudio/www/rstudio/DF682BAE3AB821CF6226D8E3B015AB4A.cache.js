if(!String.prototype.trimRight){var trimEndRegexp=/\s\s*$/;String.prototype.trimRight=function(){return(""+this).replace(trimEndRegexp,"")}}
define("rstudio/loader",function(c,g){var k=c("ace/lib/oop");c("ace/lib/event");c("ace/lib/event_emitter");var j=c("ace/editor").Editor,b=c("ace/edit_session").EditSession,d=c("ace/undomanager").UndoManager,a=c("ace/range").Range,f=c("mode/utils"),e=function(e,a){j.call(this,e,a);this.setBehavioursEnabled(!0)};k.inherits(e,j);(function(){this.remove=function(e){return this.session.getMode().wrapRemove?this.session.getMode().wrapRemove(this,j.prototype.remove,e):j.prototype.remove.call(this,e)};this.undo=
function(){j.prototype.undo.call(this);this._dispatchEvent("undo")};this.redo=function(){j.prototype.redo.call(this);this._dispatchEvent("redo")}}).call(e.prototype);var i=function(e,a){b.call(this,e,a)};k.inherits(i,b);(function(){this.insert=function(e,a){return this.getMode().wrapInsert?this.getMode().wrapInsert(this,b.prototype.insert,e,a):b.prototype.insert.call(this,e,a)};this.reindent=function(e){var a=this.getMode();if(a.getNextLineIndent){for(var b=e.start.row,e=e.end.row,h=b;h<=e;h++)if(0===
h)this.applyIndent(h,"");else{var d=f.getPrimaryState(this,h-1);if(!("qstring"==d||"qqstring"==d)){var i=this.getLine(h-1);this.getLine(h);i=a.getNextLineIndent(d,i,this.getTabString(),h-1,!0);this.applyIndent(h,i);a.autoOutdent(d,this,h)}}a=a.codeModel;"undefined"!==typeof a&&(a=a.alignContinuationSlashes,"undefined"!==typeof a&&a(this.getDocument(),{start:b,end:e}))}};this.applyIndent=function(e,b){var h=this.getLine(e).match(/^\s*/g)[0].length;this.replace(new a(e,0,e,h),b)};this.setDisableOverwrite=
function(e){e?(this.setOverwrite(!1),this.setOverwrite=function(){},this.getOverwrite=function(){return!1}):(this.setOverwrite=b.prototype.setOverwrite,this.getOverwrite=b.prototype.getOverwrite)}}).call(i.prototype);var h=function(){d.call(this)};k.inherits(h,d);(function(){this.peek=function(){return this.$undoStack.length?this.$undoStack[this.$undoStack.length-1]:null}}).call(h.prototype);g.loadEditor=function(a){var b;function d(e){b.commands.removeCommand(e)}b=void 0;var f=c("ace/virtual_renderer").VirtualRenderer,
j=c("ace/mode/text").Mode;b=new e(new f(a,{}),new i(""));a=b.getSession();a.setMode(new j);a.setUndoManager(new h);j=c("ace/config");j.set("workerPath","js/workers");j.setDefaultValue("session","useWorker",!1);d("findnext");d("findprevious");d("find");d("replace");d("togglecomment");d("gotoline");d("foldall");d("unfoldall");d("touppercase");d("tolowercase");return b}});define("mode/auto_brace_insert",function(c,g){var k=c("ace/range").Range,j=c("ace/mode/text").Mode;(function(){this.$complements={"(":")","[":"]",'"':'"',"{":"}"};this.$reOpen=/^[(["{]$/;this.$reClose=/^[)\]"}]$/;this.$reStop=/^[;,\s)\]}]$/;this.wrapInsert=function(b,d,a,f){if(!this.insertMatching)return d.call(b,a,f);var e=b.selection.getCursor();if(e=b.selection.isEmpty()&&a.row==e.row&&a.column==e.column){var i=k.fromPoints(a,{row:a.row,column:a.column+1}),h=b.doc.getTextRange(i);if(this.$reClose.test(h)&&
h==f){b.selection.moveCursorTo(i.end.row,i.end.column,!1);return}}i=null;e&&(i=this.$moveLeft(b.doc,a),i=b.doc.getTextRange(k.fromPoints(i,a)));d=d.call(b,a,f);if(e&&this.$reOpen.test(f)){if(a=k.fromPoints(d,{row:d.row,column:d.column+1}),a=b.doc.getTextRange(a),(this.$reStop.test(a)||0==a.length)&&this.allowAutoInsert(b,d,this.$complements[f]))b.doc.insert(d,this.$complements[f]),b.selection.moveCursorTo(d.row,d.column,!1)}else if(e&&"\n"===f&&(f=this.$moveRight(b.doc,d),f=b.doc.getTextRange(k.fromPoints(d,
f)),"{"===i&&"}"===f||"("===i&&")"===f||"["===i&&"]"===f))a=this.getIndentForOpenBrace?this.getIndentForOpenBrace(this.$moveLeft(b.doc,a)):this.$getIndent(b.doc.getLine(d.row-1)),b.doc.insert(d,"\n"+a),b.selection.moveCursorTo(d.row,d.column,!1);return d};this.allowAutoInsert=function(){return!0};this.smartAllowAutoInsert=function(b,d,a){return"'"!==a&&'"'!==a||0==d.column?!0:(b=this.codeModel.getTokenForPos(d,!1,!0))&&"string"===b.type&&b.column===d.column-1};this.wrapRemove=function(b,d,a){var f=
b.selection.getCursor(),e=b.session.getDocument();if(!this.insertMatching||"left"!=a||!b.selection.isEmpty()||b.$readOnly||0==f.column||e.getLine(f.row).length<=f.column)return d.call(b,a);var i=k.fromPoints(this.$moveLeft(e,f),f),f=k.fromPoints(f,this.$moveRight(e,f)),i=e.getTextRange(i),e=this.$reOpen.test(i)&&this.$complements[i]==e.getTextRange(f);d.call(b,a);e&&d.call(b,"right")};this.$moveLeft=function(b,d){if(0==d.row&&0==d.column)return d;var a=d.row,f=d.column;f?f--:(a--,f=b.getLine(a).length);
return{row:a,column:f}};this.$moveRight=function(b,d){var a=d.row,f=d.column;b.getLine(a).length!=f?f++:(a++,f=0);return a>=b.getLength()?d:{row:a,column:f}}}).call(j.prototype);g.setInsertMatching=function(b){j.prototype.insertMatching=b}});define("mode/token_utils",function(c,g){var k=function(c,b,d,a,f){this.$doc=c;this.$tokenizer=b;this.$tokens=d;this.$endStates=Array(c.getLength());this.$statePattern=a;this.$codeBeginPattern=f};(function(){this.getTokenForPos=function(c,b,d){this.$tokenizeUpToRow(c.row);if(this.$tokens.length<=c.row)return null;for(var a=this.$tokens[c.row],f=0;f<a.length;f++){var e=a[f];if(b&&c.column==e.column)return e;if(c.column<=e.column)break;if(d&&c.column==e.column+e.value.length||c.column<e.column+e.value.length)return e}return null};
this.$tokenizeUpToRow=function(c){for(var c=Math.min(c,this.$doc.getLength()-1),b=0,d=!0;b<=c;b++)if(!d||!this.$endStates[b]){var d=!1,a=0===b?"start":this.$endStates[b-1],f=this.$tokenizer.getLineTokens(this.$doc.getLine(b),a);this.$tokens[b]=!this.$statePattern||this.$statePattern.test(f.state)||this.$statePattern.test(a)?this.$filterWhitespaceAndComments(f.tokens):[];f.state===this.$endStates[b]?d=!0:this.$endStates[b]=f.state}d||b<this.$tokens.length&&this.$invalidateRow(b);return!0};this.$filterWhitespaceAndComments=
function(c){for(var c=c.filter(function(e){e=/\bcode(?:begin|end)\b/.test(e.type)||/\bsectionhead\b/.test(e.type)?!1:/^\s*$/.test(e.value)||e.type.match(/\b(?:ace_virtual-)?comment\b/);return!e}),b=c.length-1;0<=b;b--)if(1<c[b].value.length&&/\bparen\b/.test(c[b].type)){var d=c[b];c.splice(b,1);for(var a=d.value.length-1;0<=a;a--){var f={type:d.type,value:d.value.charAt(a),column:d.column+a};c.splice(b,0,f)}}return c};this.$invalidateRow=function(c){this.$tokens[c]=null;this.$endStates[c]=null};this.$insertNewRows=
function(c,b){for(var d=[c,0],a=0;a<b;a++)d.push(null);this.$tokens.splice.apply(this.$tokens,d);this.$endStates.splice.apply(this.$endStates,d)};this.$removeRows=function(c,b){this.$tokens.splice(c,b);this.$endStates.splice(c,b)};this.$walkParens=function(c,b,d){var a=/\bparen\b/;return c<b?function(){for(;c<=b;c++)for(var f=this.$tokens[c],e=0;e<f.length;e++)if(a.test(f[e].type)&&!d(f[e].value,{row:c,column:f[e].column}))return!1;return!0}.call(this):function(){c=Math.max(0,c);for(b=Math.max(0,
b);c>=b;c--)for(var f=this.$tokens[c],e=f.length-1;0<=e;e--)if(a.test(f[e].type)&&!d(f[e].value,{row:c,column:f[e].column}))return!1;return!0}.call(this)};this.$walkParensBalanced=function(c,b,d,a,f){var e=[],i=null;this.$walkParens(c,b,function(b,c){if(d&&d(e,b,c))return i=c,!1;if(/[\[({]/.test(b))if(e[e.length-1]===f[b])e.pop();else return!0;else e.push(b);return a&&a(e,b,c)?(i=c,!1):!0});return i};this.$findNextSignificantToken=function(c,b){if(0==this.$tokens.length)return null;for(var b=Math.min(b,
this.$tokens.length-1),d=c.row,a=c.column;d<=b;d++){for(var f=this.$tokens[d],e=0;e<f.length;e++)if(f[e].column+f[e].value.length>a)return{token:f[e],row:d,column:Math.max(f[e].column,a),offset:e};a=0}return null};this.findNextSignificantToken=function(c){return this.$findNextSignificantToken(c,this.$tokens.length-1)};this.$findPreviousSignificantToken=function(c,b){if(0==this.$tokens.length)return null;for(var b=Math.max(0,b),d=Math.min(c.row,this.$tokens.length-1);d>=b;d--){var a=this.$tokens[d];
if(0!=a.length){if(d!=c.row)return{row:d,column:a[a.length-1].column,token:a[a.length-1],offset:a.length-1};for(var f=a.length-1;0<=f;f--)if(a[f].column<c.column)return{row:d,column:a[f].column,token:a[f],offset:f}}}return null}}).call(k.prototype);g.TokenUtils=k});define("mode/token_cursor",function(c,g){var k=c("ace/lib/oop"),j=function(a,b,e){this.$tokens=a;this.$row=b||0;this.$offset=e||0};(function(){function a(e,a){function b(){return e.apply(this,a)}b.prototype=e.prototype;return new b}var b={"(":")","{":"}","<":">","[":"]",")":"(","}":"{",">":"<","]":"["};this.moveToStartOfRow=function(e){this.$row=e;this.$offset=0};this.moveToPreviousToken=function(){if(0>=this.$row&&0>=this.$offset)return this.$offset=this.$row=0,!1;if(0<this.$offset)return this.$offset--,
!0;for(var e=this.$row-1,a=0;0<=e;){var b=this.$tokens[e];if(b&&0!==b.length){a=b.length;break}e--}if(0>e)return!1;this.$row=e;this.$offset=a-1;return!0};this.moveToNextToken=function(e){"undefined"===typeof e&&(e=(this.$tokens||[]).length);if(this.$row>e)return!1;null==this.$tokens[this.$row]&&this.$codeModel&&this.$codeModel.$tokenizeUpToRow&&this.$codeModel.$tokenizeUpToRow.call(this.$codeModel,e);var a=this.$tokens[this.$row];if(a&&this.$offset<a.length-1)return this.$offset++,!0;for(var b=this.$row+
1;b<=e&&!((a=this.$tokens[b])&&0!==a.length);)b++;if(b>e)return!1;this.$row=b;this.$offset=0;return!0};this.peekBwd=function(e){"undefined"===typeof e&&(e=1);for(var a=this.cloneCursor(),b=0;b<e;b++)if(!a.moveToPreviousToken())return a.$invalidate();return a};this.peekFwd=function(e){"undefined"===typeof e&&(e=1);for(var a=this.cloneCursor(),b=0;b<e;b++)if(!a.moveToNextToken())return a.$invalidate();return a};this.$invalidate=function(){this.$column=this.$row=0;this.$tokens=[];return this};this.seekToNearestToken=
function(e,a){if(e.row>a)return!1;this.$row=e.row;var b=this.$tokens[this.$row]||[];for(this.$offset=0;this.$offset<b.length;this.$offset++)if(b[this.$offset].column>=e.column)return!0;return e.row<a?this.moveToNextToken(a):!1};this.bwdToNearestToken=function(e){this.$row=e.row;this.$offset=e.column;for(var a=this.$tokens[this.$row]||[];0<=this.$offset;this.$offset--){var b=a[this.$offset];if("undefined"!==typeof b&&b.column<=e.column)return!0}return this.moveToPreviousToken()};this.bwdToMatchingToken=
function(){var e=this.currentValue(),a=b[e];if(![")","}","]"].some(function(a){return a===e}))return!1;for(var d=0;this.moveToPreviousToken();)if(this.currentValue()===a){if(0===d)return!0;d--}else this.currentValue()===e&&d++;return!1};this.fwdToMatchingToken=function(){var e=this.currentValue(),a=b[e];if(!["(","{","["].some(function(a){return a===e}))return!1;for(var d=0;this.moveToNextToken();)if(this.currentValue()===a){if(0===d)return!0;d--}else this.currentValue()===e&&d++;return!1};this.equals=
function(e){return this.$row===e.$row&&this.$offset===e.$offset};this.bwdToMatchingTokenShortCircuit=function(e){var a=this.currentValue(),d=b[a];if(!"),},],>,',\"".split(",").some(function(e){return e===a}))return!1;for(var c=0;this.moveToPreviousToken()&&!e(this);)if(this.currentValue()===d){if(0===c)return!0;c--}else this.currentValue()===a&&c++;return!1};this.moveBackwardOverMatchingParens=function(){if(!this.moveToPreviousToken())return!1;if(")"!==this.currentValue())return this.moveToNextToken(),
!1;for(var a=!1,b=0;this.moveToPreviousToken();)if("("===this.currentValue()){if(0===b){a=!0;break}b--}else")"===this.currentValue()&&b++;return a};this.findToken=function(a,b){do{var d=this.currentToken();if(d&&a(d))return d}while(this.moveToNextToken(b));return null};this.findTokenBwd=function(a,b){do{var d=this.currentToken();if(d&&a(d))return d}while(this.moveToPreviousToken(b));return null};this.currentToken=function(){var a=(this.$tokens[this.$row]||[])[this.$offset];return"undefined"===typeof a?
{}:a};this.currentValue=function(){return this.currentToken().value};this.currentType=function(){return this.currentToken().type};this.currentPosition=function(){var a=this.currentToken();return null===a?null:{row:this.$row,column:a.column}};this.cloneCursor=function(){var e=[],b;for(b in this)this.hasOwnProperty(b)&&e.push(this[b]);return a(this.constructor,e)};this.isFirstSignificantTokenOnLine=function(){return 0===this.$offset};this.isLastSignificantTokenOnLine=function(){return this.$offset==
(this.$tokens[this.$row]||[]).length-1};this.bwdUntil=function(a){for(;!a(this);)this.moveToPreviousToken()};this.bwdWhile=function(a){for(;a(this);)this.moveToPreviousToken()};this.moveToPosition=function(a){var b=a.row,a=a.column,d=this.$tokens[b];null==d&&this.$codeModel&&this.$codeModel.$tokenizeUpToRow&&(this.$codeModel.$tokenizeUpToRow.call(this.$codeModel,b),d=this.$tokens[b]);if(d&&0<d.length&&d[0].column<a){for(var c=1;c<d.length&&!(d[c].column>=a);c++);this.$row=b;this.$offset=c-1;return!0}a=
this.cloneCursor();a.$row=b;a.$offset=0;return a.moveToPreviousToken()?(this.$row=a.$row,this.$offset=a.$offset,!0):!1};this.findOpeningBracket=function(a,b){"[object Array]"===Object.prototype.toString.call(a)||(a=[a]);var d=this.cloneCursor();do{var c=d.currentValue();if(b&&"{"===c)break;for(var f=0;f<a.length;f++)if(c===a[f])return this.$row=d.$row,this.$offset=d.$offset,!0;d.bwdToMatchingToken()}while(d.moveToPreviousToken());return!1};this.findOpeningBracketCountCommas=function(a,b){"[object Array]"===
Object.prototype.toString.call(a)||(a=[a]);var d=this.cloneCursor(),c=0;do{var f=d.currentValue();/,\s*$/.test(d.currentValue())&&"text"===d.currentType()&&(c+=f.length-f.replace(/,/g,"").length);if(b&&"{"===f)break;for(var r=0;r<a.length;r++)if(f===a[r])return this.$row=d.$row,this.$offset=d.$offset,c;d.bwdToMatchingToken()}while(d.moveToPreviousToken());return-1}}).call(j.prototype);var b=function(a,b,e,d){this.$tokens=a;this.$row=b||0;this.$offset=e||0;this.$codeModel=d};k.mixin(b.prototype,j.prototype);
(function(){this.bwdOverConstNoexceptDecltype=function(){var a=this.cloneCursor();if("{"!==a.currentValue()||!a.moveToPreviousToken())return!1;var b=a.cloneCursor();")"===b.currentValue()&&b.bwdToMatchingToken()&&b.moveToPreviousToken()&&"decltype"===b.currentValue()&&b.moveToPreviousToken()&&(a.$row=b.$row,a.$offset=b.$offset);b=a.cloneCursor();")"===b.currentValue()&&b.bwdToMatchingToken()&&b.moveToPreviousToken()&&"noexcept"===b.currentValue()&&(a.$row=b.$row,a.$offset=b.$offset);if("noexcept"===
a.currentValue()&&!a.moveToPreviousToken()||"const"===a.currentValue()&&!a.moveToPreviousToken()||")"===a.currentValue()&&!a.moveToNextToken())return!1;this.$row=a.$row;this.$offset=a.$offset;return!0};this.bwdToMatchingArrow=function(){if(">"!==this.currentValue())return!1;for(var a=0,b=this.cloneCursor();b.moveToPreviousToken();)if("<"===b.currentValue()){if(0===a)return this.$row=b.$row,this.$offset=b.$offset,!0;a--}else">"===b.currentValue()&&a++;return!1};this.bwdOverClassySpecifiers=function(){var a=
this.currentValue();(":"===a||","===a||"{"===a)&&this.moveToPreviousToken();do{this.bwdToMatchingArrow()&&this.moveToPreviousToken();var a=this.currentType(),b=this.currentValue();if(!("keyword"===a||"::"===b||"identifier"===a||"constant"===a))break;if("class"===b||"struct"===b||"enum"===b||":"===b||","===b)return!0}while(this.moveToPreviousToken());return!1};this.bwdOverClassInheritance=function(){var b=this.cloneCursor();return a(b,this)};var a=function(b,d){b.bwdOverClassySpecifiers();var c=b.currentValue();
if(","===c)return a(b,d);return":"===c?(d.$row=b.$row,d.$offset=b.$offset,!0):!1};this.bwdOverInitializationList=function(){return this.doBwdOverInitializationList(this.cloneCursor(),this)};this.doBwdOverInitializationList=function(a,b){a.moveBackwardOverMatchingParens();if(!a.moveBackwardOverMatchingParens()&&!a.moveToPreviousToken())return!1;for(;"keyword"===a.currentType();)if(!a.moveToPreviousToken())return!1;if(a.moveToPreviousToken()){var d=a.currentValue();if(","===d)return this.doBwdOverInitializationList(a,
b);if(":"===d){var c=a.peekBwd().currentValue();if(!["public","private","protected"].some(function(a){return a===c}))return b.$row=a.$row,b.$offset=a.$offset,!0}}return!1}}).call(b.prototype);var d=function(a,b,d,c){this.$tokens=a;this.$row=b||0;this.$offset=d||0;this.$codeModel=c};k.mixin(d.prototype,j.prototype);(function(){this.isValidAsIdentifier=function(){var a=this.currentType();return"identifier"===a||"symbol"===a||"keyword"===a||"string"===a||-1!==a.indexOf("constant")};this.isLookingAtInfixySymbol=
function(){var a=this.currentValue();return"$"===a||"@"===a||":"===a||-1!==this.currentType().indexOf("infix")?!0:!1};this.findStartOfEvaluationContext=function(){var a=this.cloneCursor();do if(!a.bwdToMatchingToken()){if(a.isValidAsIdentifier()){if(!a.moveToPreviousToken())break;if(a.isLookingAtInfixySymbol()){for(;a.isLookingAtInfixySymbol();)if(!a.moveToPreviousToken())return!1;if(!a.moveToNextToken())return!1;continue}if(!a.moveToNextToken())return!1;break}return!1}while(a.moveToPreviousToken());
this.$row=a.$row;this.$offset=a.$offset;return!0}}).call(d.prototype);g.TokenCursor=j;g.CppTokenCursor=b;g.RTokenCursor=d});define("mode/utils",function(c,g){(function(){var c=this;this.contains=function(c,b){for(var d=0;d<c.length;d++)if(c[d]===b)return!0;return!1};this.isArray=function(c){return"[object Array]"===Object.prototype.toString.call(c)};this.getPrimaryState=function(j,b){var d=j.getState(b);return c.isArray(d)?d[0]:d};this.primaryState=function(j){return c.isArray(j)?j[0]:j}}).call(g)});define("mode/r_background_highlighter",function(c,g){var k=c("ace/range").Range,j=function(b){this.$session=b;this.$doc=b.getDocument();var d=this;this.$doc.on("change",function(a){d.$onDocChange.apply(d,[a])});this.$rowState=Array(this.$doc.getLength());this.$markers=[];for(b=0;b<this.$doc.getLength();b++)this.$updateRow(b);this.$syncMarkers(0)};(function(){this.$updateRow=function(b){this.$rowState[b]=this.$doc.getLine(b).match("^\\s*#+'.*$")?!0:!1};this.$syncMarkers=function(b,d){"undefined"==
typeof d&&(d=this.$doc.getLength()-1);for(var a=b;a<=d;a++)!!this.$rowState[a]!=!!this.$markers[a]&&(this.$rowState[a]?this.$markers[a]=this.$session.addMarker(new k(a,0,a,this.$session.getLine(a).length),"ace_foreign_line","background",!1):(this.$session.removeMarker(this.$markers[a]),delete this.$markers[a]))};this.$insertNewRows=function(b,d){var a=Array(d+2);a[0]=b;a[1]=0;Array.prototype.splice.apply(this.$rowState,a)};this.$removeRows=function(b,d){this.$rowState.splice(b,d)};this.$onDocChange=
function(b){b=b.data;if("insertLines"===b.action){var d=b.range.end.row-b.range.start.row;this.$insertNewRows(b.range.start.row,d);for(var a=0;a<d;a++)this.$updateRow(b.range.start.row+a);this.$syncMarkers(b.range.start.row)}else"insertText"===b.action?this.$doc.isNewLine(b.text)?(this.$insertNewRows(b.range.end.row,1),this.$updateRow(b.range.start.row),this.$updateRow(b.range.start.row+1),this.$syncMarkers(b.range.start.row)):(this.$updateRow(b.range.start.row),this.$syncMarkers(b.range.start.row,
b.range.start.row)):"removeLines"===b.action?(this.$removeRows(b.range.start.row,b.range.end.row-b.range.start.row),this.$updateRow(b.range.start.row),this.$syncMarkers(b.range.start.row)):"removeText"===b.action&&(this.$doc.isNewLine(b.text)?(this.$removeRows(b.range.end.row,1),this.$updateRow(b.range.start.row),this.$syncMarkers(b.range.start.row)):(this.$updateRow(b.range.start.row),this.$syncMarkers(b.range.start.row,b.range.start.row)))}}).call(j.prototype);g.RBackgroundHighlighter=j});define("mode/r_highlight_rules",function(c,g){var k=c("ace/lib/oop"),j=c("ace/lib/lang"),b=c("ace/mode/text_highlight_rules").TextHighlightRules,d=c("mode/tex_highlight_rules").TexHighlightRules,a=function(){var a=j.arrayToMap("function,if,in,break,next,repeat,else,for,return,switch,while,try,tryCatch,stop,warning,require,library,attach,detach,source,setMethod,setGeneric,setGroupGeneric,setClass,setRefClass".split(",")),b=j.arrayToMap("NULL,NA,TRUE,FALSE,T,F,Inf,NaN,NA_integer_,NA_real_,NA_character_,NA_complex_".split(","));
this.$rules={start:[{token:"comment.sectionhead",regex:"#+(?!').*(?:----|====|####)\\s*$"},{token:"comment",regex:"#+'",next:"rd-start"},{token:"comment",regex:"#.*$"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"string",merge:!0,regex:'["]',next:"qqstring"},{token:"string",merge:!0,regex:"[']",next:"qstring"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+[Li]?\\b",merge:!1},{token:"constant.numeric",regex:"\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?[iL]?\\b",
merge:!1},{token:"constant.numeric",regex:"\\.\\d+(?:[eE][+\\-]?\\d*)?[iL]?\\b",merge:!1},{token:"constant.language.boolean",regex:"(?:TRUE|FALSE|T|F)\\b",merge:!1},{token:"identifier",regex:"`.*?`",merge:!1},{token:function(d){return a[d]?"keyword":b[d]?"constant.language":d.match(/^\.\.\d+$/)?"variable.language":"identifier"},regex:"[a-zA-Z.][a-zA-Z0-9._]*"},{token:"keyword.operator",regex:":::|::|%%|>=|<=|==|!=|\\->|<\\-|<<\\-|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||~|\\$|:|@",merge:!1},{token:"keyword.operator.infix",
regex:"%.*?%",merge:!1},{token:"paren.keyword.operator",merge:!1,regex:"[[({]"},{token:"paren.keyword.operator",merge:!1,regex:"[\\])}]"},{token:"punctuation",regex:"[;,]",merge:!1},{token:"text",regex:"\\s+"}],qqstring:[{token:"string",regex:'(?:(?:\\\\.)|(?:[^"\\\\]))*?"',next:"start"},{token:"string",regex:".+",merge:!0}],qstring:[{token:"string",regex:"(?:(?:\\\\.)|(?:[^'\\\\]))*?'",next:"start"},{token:"string",regex:".+",merge:!0}]};for(var c=(new d("comment")).getRules(),h=0;h<c.start.length;h++)c.start[h].token+=
".virtual-comment";this.addRules(c,"rd-");this.$rules["rd-start"].unshift({token:"text",regex:"^",next:"start"});this.$rules["rd-start"].unshift({token:"keyword",regex:"@(?!@)[^ ]*"});this.$rules["rd-start"].unshift({token:"comment",regex:"@@"});this.$rules["rd-start"].push({token:"comment",regex:"[^%\\\\[({\\])}]+"})};k.inherits(a,b);g.RHighlightRules=a});define("mode/r_matching_brace_outdent",function(c,g){var k=c("ace/range").Range,j={};(function(){this.checkOutdent=function(b,d,a){return/^\s+$/.test(d)&&/^\s*[\{\}\)]/.test(a)||/^\s*}\s*$/.test(d)&&"\n"==a||/}\s*$/.test(d)&&/\n/.test(a)?!0:!1};this.autoOutdent=function(b,d,a,c){if(0===a)return 0;var b=d.getLine(a),e=b.match(/^(\s*[\}\)])/);if(e){var e=e[1].length,i=d.findMatchingBracket({row:a,column:e});if(!i||i.row==a)return 0;i=c.getIndentForOpenBrace(i);d.replace(new k(a,0,a,e-1),i)}if(e=b.match(/^(\s*\{)/))e=
e[1].length,i=c.getBraceIndent(a-1),d.replace(new k(a,0,a,e-1),i)}}).call(j);g.RMatchingBraceOutdent=j});define("mode/r_code_model",function(c,g){function k(a,b){for(var d=0;d<b.length;d++)if(a===b[d])return!0;return!1}var j=c("ace/range").Range,b=c("ace/token_iterator").TokenIterator,d=c("mode/token_cursor").RTokenCursor,a=!1,f=c("mode/r_scope_tree").ScopeManager,e=c("mode/r_scope_tree").ScopeNode,i=function(a,b,d,c){this.$session=a;this.$doc=a.getDocument();this.$tokenizer=b;this.$tokens=Array(this.$doc.getLength());this.$endStates=Array(this.$doc.getLength());this.$statePattern=d;this.$codeBeginPattern=
c;this.$scopes=new f(e);var i=this;this.$doc.on("change",function(a){i.$onDocChange.apply(i,[a])})};(function(){function c(a){return"keyword"==a.type&&"function"==a.value}function e(a){return/\boperator\b/.test(a.type)&&/^(=|<-|<<-)$/.test(a.value)}function f(a){return/\bidentifier\b/.test(a.type)}function i(a){var b=a.cloneCursor();if("{"!==b.currentValue()||!b.moveBackwardOverMatchingParens()||!b.moveToPreviousToken()||!c(b.currentToken()))return!1;a.$row=b.$row;a.$offset=b.$offset;return!0}function p(a){for(;a.findOpeningBracket("(")&&
a.moveToPreviousToken();)if(k(a.currentValue(),["if","for","while"]))return!0;return!1}function g(a){var b=a.cloneCursor();if(!c(b.currentToken())||!b.moveToPreviousToken()||!e(b.currentToken())||!b.moveToPreviousToken())return!1;a.$row=b.$row;a.$offset=b.$offset;return!0}function A(a){return/\binfix\b/.test(a.type)}function E(a){if(c(a.currentToken())&&!a.moveToNextToken()||"("===a.currentValue()&&!a.moveToNextToken()||")"===a.currentValue())return[];var b=[];for(f(a.currentToken())&&b.push(a.currentValue());a.moveToNextToken();)if(!a.fwdToMatchingToken()){if(")"===
a.currentValue())break;if(","===a.currentValue()){for(;","===a.currentValue()&&a.moveToNextToken(););f(a.currentToken())&&b.push(a.currentValue())}}return b}this.getTokenCursor=function(){return new d(this.$tokens,0,0,this)};this.$complements={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{"};var y=function(a){a=a.trim();return a=a.replace(/[\n\s]+/g," ")};this.getFunctionsInScope=function(a){this.$buildScopeTreeUpToRow(a.row);return this.$scopes.getFunctionsInScope(a)};this.getAllFunctionScopes=function(a){"undefined"===
typeof a&&(a=this.$doc.getLength());this.$buildScopeTreeUpToRow(a);return this.$scopes.getAllFunctionScopes()};this.getDplyrJoinContextFromInfixChain=function(a){var a=a.cloneCursor(),b="";"identifier"===a.currentType()&&(b=a.currentValue());var d="left";"="===a.currentValue()&&(d="right");if("identifier"===a.currentType()){if(!a.moveToPreviousToken())return null;"="===a.currentValue()&&(d="right")}if(!a.findOpeningBracket("(",!0)||!a.moveToPreviousToken())return null;for(;a.findOpeningBracket("(",
!0)&&a.moveToPreviousToken();)if(/_join$/.test(a.currentValue())){var c=a.currentValue();if(!a.moveToNextToken())break;if(!a.moveToNextToken())break;var e=a.currentValue(),h="";if(!1===this.moveToDataObjectFromInfixChain(a))break;h=a.currentValue();return{token:b,leftData:h,rightData:e,verb:c,cursorPos:d}}return null};this.getDataFromInfixChain=function(a){var b=this.moveToDataObjectFromInfixChain(a),d=[],c=[],e="",h=!1;!1!==b&&(b.excludeArgsFromObject&&(h=b.excludeArgsFromObject),e=a.currentValue(),
d=b.additionalArgs,c=b.excludeArgs);return{name:e,additionalArgs:d,excludeArgs:c,excludeArgsFromObject:h}};var u="mutate,summarise,summarize,rename,transmute,select,rename_vars,inner_join,left_join,right_join,semi_join,anti_join,outer_join,full_join".split(","),v=function(a,b,d,c){if(!a.moveToNextToken()||"("!==a.currentValue()||!a.moveToNextToken()||")"===a.currentValue())return!1;"identifier"===a.currentType()&&b.additionalArgs.push(a.currentValue());if("rename"===c){if(!a.moveToNextToken())return!1;
b.excludeArgs.push(a.currentValue())}"select"===c&&(b.excludeArgsFromObject=!0);do{if(")"===a.currentValue())break;if(a.$row>d.$row||a.$row===d.$row&&a.$offset>=d.$offset)break;if(a.fwdToMatchingToken()){if(!a.moveToNextToken())break}else if(","===a.currentValue()){if(!a.moveToNextToken())return!1;"identifier"===a.currentType()&&b.additionalArgs.push(a.currentValue());if(!a.moveToNextToken())return!1;if("="===a.currentValue()&&k(c,["rename","rename_vars"])){if(!a.moveToNextToken())return!1;"identifier"===
a.currentType()&&b.excludeArgs.push(a.currentValue())}}}while(a.moveToNextToken());return!0},o=function(a){for(var b=a.cloneCursor();b.findOpeningBracket("(",!1)&&b.moveToPreviousToken();){if(!b.moveToPreviousToken())break;if(":"===b.currentValue()){for(;":"===b.currentValue();)if(!b.moveToPreviousToken())return!1;if(!b.moveToPreviousToken())break}if(A(b.currentToken()))return a.$row=b.$row,a.$offset=b.$offset,!0}return!1};this.moveToDataObjectFromInfixChain=function(a){var b=a.cloneCursor();if(!o(b))return!1;
for(var d={additionalArgs:[],excludeArgs:[]};;){if(0===b.$row&&0===b.$offset)return a.$row=0,a.$offset=0,d;b.moveBackwardOverMatchingParens();if(!b.moveToPreviousToken())return!1;var c=b.currentValue();u.some(function(a){return a===c})&&v(b.cloneCursor(),d,a,c);if(!b.moveToPreviousToken())return 0===b.$row&&0===b.$offset?(a.$row=0,a.$offset=0,d):!1;if(":"===b.currentValue()){for(;":"===b.currentValue();)if(!b.moveToPreviousToken())return!1;if(!b.moveToPreviousToken())return!1}if(!A(b.currentToken()))break}if(!b.moveToNextToken())return!1;
a.$row=b.$row;a.$offset=b.$offset;return d};this.getVariablesInScope=function(a){var b=this.getTokenCursor();if(!b.moveToPosition(a))return[];a=b.cloneCursor();!a.findOpeningBracket("(",!0)||!a.moveToPreviousToken()?a=!1:"function"!==a.currentValue()?a=!1:(b.$row=a.$row,b.$offset=a.$offset,a=!0);a&&g(b)&&b.findStartOfEvaluationContext();a={};do if(!b.bwdToMatchingToken()){var d=a,c=b.cloneCursor();if(!("for"!==c.currentValue()||!c.moveToNextToken()||"("!==c.currentValue())&&c.moveToNextToken()){var h=
c.currentValue();c.moveToNextToken()&&"in"===c.currentValue()&&(d[h]="variable")}e(b.currentToken())&&(d="variable",c=b.cloneCursor(),c.moveToNextToken()&&"function"===c.currentValue()&&(d="function"),c=b.cloneCursor(),c.moveToPreviousToken()&&f(c.currentToken())&&(c=c.currentValue(),a[c]=d))}while(b.moveToPreviousToken());var b=[],u;for(u in a)b.push({token:u,type:a[u]});b.sort();return b};this.$buildScopeTreeUpToRow=function(a){function b(a,d){if("undefined"===typeof a)return"";var c=a.exec(d);
if(!c)return null;var e=c[1].split(",");if(0==e.length)return null;if(!/=/.test(e[0]))return e[0].replace(/(^\s+)|(\s+$)/g,"");for(var h=0;h<e.length;h++)if(c=/^\s*label\s*=\s*(.*)$/.exec(e[h]))return c=c[1].replace(/(^\s+)|(\s+$)/g,""),c=(e=/^(['"])(.*)\1$/.exec(c))?e[2]:c,c;return null}a=Math.min(a+30,this.$doc.getLength()-1);this.$tokenizeUpToRow(a);var d=this.getTokenCursor();if(d.seekToNearestToken(this.$scopes.parsePos,a)){do{this.$scopes.parsePos=d.currentPosition();this.$scopes.parsePos.column+=
d.currentValue().length;var c=d.currentToken().type;if(/\bsectionhead\b/.test(c))c=""+/^#+'?[-=#\s]*(.*?)\s*[-=#]+\s*$/.exec(d.currentValue())[1],0===c.length&&(c="(Untitled)"),50<c.length&&(c=c.substring(0,50)+"..."),this.$scopes.onSectionHead(c,d.currentPosition());else if(/\bcodebegin\b/.test(c)){var c=d.currentPosition(),e={row:c.row+1,column:0},h=this.$scopes.getTopLevelScopeCount()+1,f=b(this.$codeBeginPattern,d.currentValue()),h="Chunk "+h;f&&(h+=": "+f);this.$scopes.onChunkStart(f,h,c,e)}else if(/\bcodeend\b/.test(c)){for(c=
d.currentPosition();this.$scopes.onScopeEnd(c););c.column+=d.currentValue().length;this.$scopes.onChunkEnd(c)}else if("{"===d.currentValue()){var f=d.cloneCursor(),h=f.currentPosition(),u;if(i(f)){c=f.cloneCursor();c.moveToNextToken();var v=c.currentPosition(),e=null;if(g(f)&&(u=f.cloneCursor(),f.findStartOfEvaluationContext()))var e=f.currentPosition(),n=u.currentPosition(),e=this.$doc.getTextRange(new j(e.row,e.column,n.row,n.column+u.currentValue().length));u=f.currentPosition();f.isFirstSignificantTokenOnLine()&&
(u.column=0);f=this.$doc.getTextRange(new j(v.row,v.column,h.row,h.column));f=null===e?y("<function>"+f):y(e+f);c=E(c);this.$scopes.onFunctionScopeStart(f,u,d.currentPosition(),e,c)}else u=d.currentPosition(),d.isFirstSignificantTokenOnLine()&&(u.column=0),this.$scopes.onScopeStart(u)}else"}"===d.currentValue()&&(c=d.currentPosition(),d.isLastSignificantTokenOnLine()?c.column=this.$getLine(c.row).length+1:c.column++,this.$scopes.onScopeEnd(c))}while(d.moveToNextToken(a))}};this.$getFoldToken=function(a,
b,d){this.$tokenizeUpToRow(d);if(this.$statePattern&&!this.$statePattern.test(this.$endStates[d]))return"";a=this.$tokens[d];if(1==a.length&&/\bsectionhead\b/.test(a[0].type))return a[0];for(var d=0,c=null,e=null,h=0;h<a.length;h++){var f=a[h];if(/\bparen\b/.test(f.type))switch(f.value){case "{":d++;1==d&&(c=f);break;case "}":d--,0==d&&(c=null),0>d&&(e=f,d=0)}}return c?c:"markbeginend"==b&&e?e:1<=a.length&&(/\bcodebegin\b/.test(a[0].type)||/\bcodeend\b/.test(a[0].type))?a[0]:null};this.getFoldWidget=
function(a,b,d){a=this.$getFoldToken(a,b,d);return null==a?"":"{"==a.value?"start":"}"==a.value?"end":/\bcodebegin\b/.test(a.type)?"start":/\bcodeend\b/.test(a.type)?"end":/\bsectionhead\b/.test(a.type)?"start":""};this.getFoldWidgetRange=function(a,d,c){var e=this.$getFoldToken(a,d,c);if(e){d={row:c,column:e.column+1};if("{"==e.value)return a=a.$findClosingBracket(e.value,d),!a?void 0:j.fromPoints(d,a);if("}"==e.value)return a=a.$findOpeningBracket(e.value,d),!a?void 0:j.fromPoints({row:a.row,column:a.column+
1},{row:d.row,column:d.column-1});if(/\bcodebegin\b/.test(e.type))for(var d=new b(a,c,0),h;h=d.stepForward();){if(/\bcode(begin|end)\b/.test(h.type))return h=/\bcodebegin\b/.test(h.type),d=d.getCurrentTokenRow(),a=h?{row:d-1,column:a.getLine(d-1).length}:{row:d,column:a.getLine(d).length},j.fromPoints({row:c,column:e.column+e.value.length},a)}else if(/\bcodeend\b/.test(e.type))for(d=new b(a,c,0);e=d.stepBackward();){if(/\bcodebegin\b/.test(e.type))return d=d.getCurrentTokenRow(),j.fromPoints({row:d,
column:a.getLine(d).length},{row:c,column:a.getLine(c).length})}else if(/\bsectionhead\b/.test(e.type)&&(e=/([-=#])\1+\s*$/.exec(e.value))){d.column+=e.index-1;for(e=new b(a,c,0);(h=e.stepForward())&&!/\bsectionhead\b/.test(h.type);)c=e.getCurrentTokenRow();return j.fromPoints(d,{row:c,column:a.getLine(c).length})}}};this.getCurrentScope=function(a,b){b||(b=function(){return!0});if(!a)return"";this.$buildScopeTreeUpToRow(a.row);var d=this.$scopes.getActiveScopes(a);if(d)for(var c=d.length-1;0<=c;c--)if(b(d[c]))return d[c];
return null};this.getScopeTree=function(){this.$buildScopeTreeUpToRow(this.$doc.getLength()-1);return this.$scopes.getScopeList()};this.findFunctionDefinitionFromUsage=function(a,b){this.$buildScopeTreeUpToRow(this.$doc.getLength()-1);return this.$scopes.findFunctionDefinitionFromUsage(a,b)};this.getIndentForOpenBrace=function(a){if(this.$tokenizeUpToRow(a.row)){var b=this.getTokenCursor();if(b.seekToNearestToken(a,a.row)&&"{"==b.currentValue()&&b.moveBackwardOverMatchingParens())return this.$getIndent(this.$getLine(b.currentPosition().row))}return this.$getIndent(this.$getLine(a.row))};
this.getIndentForRow=function(a){return this.getNextLineIndent("start",this.$getLine(a),this.$session.getTabString())};this.getNextLineIndent=function(b,d,c,h){if("qstring"==b||"qqstring"==b)return"";"number"!==typeof h&&(h=this.$session.getSelection().getCursor().row-1);var f=this.$session.getTabSize(),u=Array(f+1).join(" ");this.$lineOverrides=null;this.$doc.getLine(h)!==d&&(this.$lineOverrides={},this.$lineOverrides[h]=d,this.$invalidateRow(h));try{var i=0>h?"":this.$getIndent(this.$getLine(h));
if(!this.$tokenizeUpToRow(h)||this.$statePattern&&!this.$statePattern.test(b))return i;var y={row:h,column:this.$getLine(h).length},v=this.$findPreviousSignificantToken(y,h-10),b="",i=!1;if(v&&/\boperator\b/.test(v.token.type)&&!/\bparen\b/.test(v.token.type))b=c,i=!0;else if(v&&/\bparen\b/.test(v.token.type)&&/\)$/.test(v.token.value)){var l=this.$walkParensBalanced(v.row,v.row-10,null,function(a){return 0===a.length});if(null!=l){var r=this.$findPreviousSignificantToken(l,0);if(r&&"keyword"===r.token.type&&
/^(if|while|for|function)$/.test(r.token.value))return this.$getIndent(this.$getLine(r.row))+c}}else if(v&&"keyword"===v.token.type&&("repeat"===v.token.value||"else"===v.token.value))return this.$getIndent(this.$getLine(v.row))+c;var o=this.getTokenCursor();if(!o.moveToPosition(y))return"";do{var E=o.currentValue();if(!o.bwdToMatchingToken()){if("{"===E)break;if(["[","("].some(function(a){return a===o.currentValue()})){var j=o.currentPosition(),y=null;a&&(y=this.$findNextSignificantToken({row:j.row,
column:j.column+1},h));if(y){for(var d=this.$getLine(y.row),g=d.replace(/[^\s].*$/,""),A=y.column-g.length,D=Math.floor(A/f),f=A-f*D,j="",d=0;d<D;d++)j+=c;for(c=0;c<f;c++)j+=" ";for(var c=g+j,H=c.replace("\t",u).length,I,d=y.row+1;d<=h;d++)if(/[^\s]/.test(this.$getLine(d))){var N=this.$endStates[d-1];if(!("qstring"===N||"qqstring"===N)){I=this.$getLine(d).replace(/[^\s].*$/,"");var L=I.replace("\t",u).length;L<H&&(c=I,H=L)}}return p(o)?c:c+b}return this.getIndentForOpenBrace(j)+c+b}}}while(o.moveToPreviousToken());
if(!o.moveToPosition(y))return"";do if(!o.bwdToMatchingToken()){if("{"===o.currentValue())return this.getIndentForOpenBrace(o.currentPosition())+c+b;if(e(o.currentToken())){for(;e(o.currentToken())&&o.moveToPreviousToken();){if(!o.findStartOfEvaluationContext())break;var x=o.cloneCursor();if(x.moveToPreviousToken()&&("else"===x.currentValue()||"repeat"===x.currentValue()||")"===x.currentValue()&&x.bwdToMatchingToken()&&x.moveToPreviousToken()&&(E=x.currentValue(),["if","for","while","repeat","else"].some(function(a){return a===
E}))))return this.$getIndent(this.$doc.getLine(x.$row))+b+b;e(o.peekBwd().currentToken())&&o.moveToPreviousToken()}return this.$getIndent(this.$getLine(o.$row))+b}}while(o.moveToPreviousToken());if(i){u=0;o=this.getTokenCursor();o.moveToPosition(y);o.moveToPreviousToken();do{if(k(o.currentValue(),["if","else"])){b+=c;break}if(/\bconstant\b|\bidentifier\b/.test(o.currentType())){if(!o.moveToPreviousToken())break;if(k(o.currentValue(),["if","else"])){b+=c;break}if(")"===o.currentValue()){if(!o.bwdToMatchingToken())break;
if(!o.moveToPreviousToken())break;if(k(o.currentValue(),["if","else"])){b+=c;break}}if(!/\boperator\b/.test(o.currentType()))break}else if(!o.findStartOfEvaluationContext())break}while(o.moveToPreviousToken()&&20>u++)}var C=this.$findNextSignificantToken({row:0,column:0},h);return C?this.$getIndent(this.$getLine(C.row))+b:""+b}finally{this.$lineOverrides&&(this.$lineOverrides=null,this.$invalidateRow(h))}};this.getBraceIndent=function(a){var b=this.getTokenCursor(),d={row:a,column:this.$getLine(a).length};
if(!b.moveToPosition(d))return"";if(")"===b.currentValue()){if(b.bwdToMatchingToken()&&b.moveToPreviousToken()&&(d=b.currentValue(),k(d,["if","while","for","function"])))return this.$getIndent(this.$getLine(b.$row))}else if(k(b.currentValue(),["else","repeat","<-","<<-","="])||-1!==b.currentType().indexOf("infix")||"keyword.operator"===b.currentType())return this.$getIndent(this.$getLine(b.$row));return this.getIndentForRow(a)};this.getTokenForPos=function(a,b,d){this.$tokenizeUpToRow(a.row);if(this.$tokens.length<=
a.row)return null;for(var c=this.$tokens[a.row],e=0;e<c.length;e++){var h=c[e];if(b&&a.column==h.column)return h;if(a.column<=h.column)break;if(d&&a.column==h.column+h.value.length||a.column<h.column+h.value.length)return h}return null};this.$tokenizeUpToRow=function(a){for(var a=Math.min(a,this.$endStates.length-1),b=0,d=!0;b<=a;b++)if(!d||!this.$endStates[b]){var d=!1,c=0===b?"start":this.$endStates[b-1],e=this.$tokenizer.getLineTokens(this.$getLine(b),c);this.$tokens[b]=!this.$statePattern||this.$statePattern.test(e.state)||
this.$statePattern.test(c)?this.$filterWhitespaceAndComments(e.tokens):[];e.state===this.$endStates[b]?d=!0:this.$endStates[b]=e.state}d||b<this.$tokens.length&&this.$invalidateRow(b);return!0};this.$onDocChange=function(a){a=a.data;"insertLines"===a.action?this.$insertNewRows(a.range.start.row,a.range.end.row-a.range.start.row):"insertText"===a.action?this.$doc.isNewLine(a.text)?(this.$invalidateRow(a.range.start.row),this.$insertNewRows(a.range.end.row,1)):this.$invalidateRow(a.range.start.row):
"removeLines"===a.action?(this.$removeRows(a.range.start.row,a.range.end.row-a.range.start.row),this.$invalidateRow(a.range.start.row)):"removeText"===a.action&&(this.$doc.isNewLine(a.text)&&this.$removeRows(a.range.end.row,1),this.$invalidateRow(a.range.start.row));this.$scopes.invalidateFrom(a.range.start)};this.$invalidateRow=function(a){this.$tokens[a]=null;this.$endStates[a]=null};this.$insertNewRows=function(a,b){for(var d=[a,0],c=0;c<b;c++)d.push(null);this.$tokens.splice.apply(this.$tokens,
d);this.$endStates.splice.apply(this.$endStates,d)};this.$removeRows=function(a,b){this.$tokens.splice(a,b);this.$endStates.splice(a,b)};this.$getIndent=function(a){return(a=/^([ \t]*)/.exec(a))?a[1]:""};this.$getLine=function(a){return this.$lineOverrides&&"undefined"!=typeof this.$lineOverrides[a]?this.$lineOverrides[a]:this.$doc.getLine(a)};this.$walkParens=function(a,b,d){var c=/\bparen\b/;return a<b?function(){for(;a<=b;a++)for(var e=this.$tokens[a],h=0;h<e.length;h++)if(c.test(e[h].type)&&!d(e[h].value,
{row:a,column:e[h].column}))return!1;return!0}.call(this):function(){a=Math.max(0,a);for(b=Math.max(0,b);a>=b;a--)for(var e=this.$tokens[a],h=e.length-1;0<=h;h--)if(c.test(e[h].type)&&!d(e[h].value,{row:a,column:e[h].column}))return!1;return!0}.call(this)};this.$walkParensBalanced=function(a,b,d,c){var e=[],h=null,f=this;this.$walkParens(a,b,function(a,b){if(d&&d(e,a,b))return h=b,!1;if(/[\[({]/.test(a))if(e[e.length-1]===f.$complements[a])e.pop();else return!0;else e.push(a);return c&&c(e,a,b)?(h=
b,!1):!0});return h};this.$findNextSignificantToken=function(a,b){if(0==this.$tokens.length)return null;for(var b=Math.min(b,this.$tokens.length-1),d=a.row,c=a.column;d<=b;d++){for(var e=this.$tokens[d],h=0;h<e.length;h++)if(e[h].column+e[h].value.length>c)return{token:e[h],row:d,column:Math.max(e[h].column,c),offset:h};c=0}return null};this.findNextSignificantToken=function(a){return this.$findNextSignificantToken(a,this.$tokens.length-1)};this.$findPreviousSignificantToken=function(a,b){if(0===
this.$tokens.length)return null;for(var b=Math.max(0,b),d=Math.min(a.row,this.$tokens.length-1);d>=b;d--){var c=this.$tokens[d];if(0!==c.length){if(d!=a.row)return{row:d,column:c[c.length-1].column,token:c[c.length-1],offset:c.length-1};for(var e=c.length-1;0<=e;e--)if(c[e].column<a.column)return{row:d,column:c[e].column,token:c[e],offset:e}}}};this.$filterWhitespaceAndComments=function(a){for(var a=a.filter(function(a){a=/\bcode(?:begin|end)\b/.test(a.type)||/\bsectionhead\b/.test(a.type)?!1:/^\s*$/.test(a.value)||
a.type.match(/\b(?:ace_virtual-)?comment\b/);return!a}),b=a.length-1;0<=b;b--)if(1<a[b].value.length&&/\bparen\b/.test(a[b].type)){var d=a[b];a.splice(b,1);for(var c=d.value.length-1;0<=c;c--){var e={type:d.type,value:d.value.charAt(c),column:d.column+c};a.splice(b,0,e)}}return a}}).call(i.prototype);g.RCodeModel=i;g.setVerticallyAlignFunctionArgs=function(b){a=b};g.getVerticallyAlignFunctionArgs=function(){return a}});define("mode/r_scope_tree",function(c,g){function k(b,a){return b.row!=a.row?b.row-a.row:b.column-a.column}var j=function(d){this.$ScopeNodeFactory=d;this.parsePos={row:0,column:0};this.$root=new this.$ScopeNodeFactory("(Top Level)",this.parsePos,null,b.TYPE_ROOT)};(function(){this.onSectionHead=function(a,d){var c=this.getActiveScopes(d);if(2==c.length&&c[1].isSection())this.$root.closeScope(d,b.TYPE_SECTION);else if(1!=c.length)return;this.$root.addNode(new this.$ScopeNodeFactory(a,d,d,b.TYPE_SECTION))};
this.onChunkStart=function(a,d,c,i){this.$root.closeScope(c,b.TYPE_CHUNK);d=new this.$ScopeNodeFactory(d,i,c,b.TYPE_CHUNK);d.chunkLabel=a;this.$root.addNode(d);this.printScopeTree()};this.onChunkEnd=function(a){a=this.$root.closeScope(a,b.TYPE_CHUNK);this.printScopeTree();return a};this.onFunctionScopeStart=function(a,d,c,i,h){this.$root.addNode(new this.$ScopeNodeFactory(a,c,d,b.TYPE_BRACE,{name:i,args:h}));this.printScopeTree()};this.onScopeStart=function(a){this.$root.addNode(new this.$ScopeNodeFactory(null,
a,null,b.TYPE_BRACE));this.printScopeTree()};this.onScopeEnd=function(a){a=this.$root.closeScope(a,b.TYPE_BRACE);this.printScopeTree();return a};this.getActiveScopes=function(a){return this.$root.findNode(a)};this.getScopeList=function(){return this.$root.$children};this.findFunctionDefinitionFromUsage=function(a,b){return this.$root.findFunctionDefinitionFromUsage(a,b)};this.getFunctionsInScope=function(a,b){return this.$root.getFunctionsInScope(a,b)};this.invalidateFrom=function(a){a={row:Math.max(0,
a.row-1),column:0};0<k(this.parsePos,a)&&(this.parsePos=this.$root.invalidateFrom(a));this.printScopeTree()};this.getTopLevelScopeCount=function(){return this.$root.$children.length};this.printScopeTree=function(){this.$root.printDebug()};this.getAllFunctionScopes=function(){var a=[];d(this.$root,a);return a};var d=function(a,b){a.isFunction()&&b.push(a);for(var c=a.$children,i=0;i<c.length;i++)d(c[i],b)}}).call(j.prototype);var b=function(b,a,c,e,i){this.label=b;this.start=a;this.preamble=c||a;this.end=
null;this.scopeType=e;this.parentScope=null;this.attributes=i;this.$children=[]};b.TYPE_ROOT=1;b.TYPE_BRACE=2;b.TYPE_CHUNK=3;b.TYPE_SECTION=4;(function(){this.isRoot=function(){return this.scopeType==b.TYPE_ROOT};this.isBrace=function(){return this.scopeType==b.TYPE_BRACE};this.isChunk=function(){return this.scopeType==b.TYPE_CHUNK};this.isSection=function(){return this.scopeType==b.TYPE_SECTION};this.isFunction=function(){return this.isBrace()&&!!this.label};this.addNode=function(b){!b.end||window.alert("[ASSERTION FAILED] New node is already closed");
0==b.$children.length||window.alert("[ASSERTION FAILED] New node already had children");this.end=null;var a=this.$binarySearch(b.preamble);0<=a?this.$children[a].addNode(b):(a=-(a+1),a<this.$children.length&&(b.$children=this.$children.splice(a,this.$children.length-a)),b.parentScope=this,this.$children.push(b))};this.closeScope=function(b,a){if(0==this.$children.length)return null;var c=this.$children[this.$children.length-1];if(c.end)return null;var e=c.closeScope(b,a);if(e)return e;return a==c.scopeType?
(c.end=b,c.$forceDescendantsClosed(b),c):null};this.$forceDescendantsClosed=function(b){if(0!=this.$children.length){var a=this.$children[this.$children.length-1];a.end||(a.$forceDescendantsClosed(b),a.end=b)}};this.findNode=function(b){var a=this.$binarySearch(b);return 0<=a&&(b=this.$children[a].findNode(b))?(this.label&&b.unshift(this),b):this.label?[this]:null};this.$getFunctionStack=function(b){var a=this.$binarySearch(b),b=0<=a?this.$children[a].$getFunctionStack(b):[];this.isFunction()&&b.push(this);
return b};this.findFunctionDefinitionFromUsage=function(b,a){for(var c=this.$getFunctionStack(b),e=0;e<c.length;e++)for(var i=c[e],h=0;h<i.$children.length;h++)if(i.$children[h].label==a)return i.$children[h];return null};this.getFunctionsInScope=function(b){for(var b=this.$getFunctionStack(b),a=[],c=0;c<b.length;c++)a.push({name:b[c].attributes.name,args:b[c].attributes.args.slice()});return a};this.invalidateFrom=function(b){var a=this.$binarySearch(b);0<=a?0>=k(b,this.$children[a].start)?b=this.$children[a].preamble:
(b=this.$children[a].invalidateFrom(b),a++):a=-(a+1);a<this.$children.length&&this.$children.splice(a,this.$children.length-a);this.end=null;return b};this.$binarySearch=function(b,a,c){"undefined"===typeof a&&(a=0);"undefined"===typeof c&&(c=this.$children.length);if(a===c)return-(a+1);var e=Math.floor((a+c)/2),i=this.$children[e].comparePosition(b);return 0===i?e:0>i?this.$binarySearch(b,a,e):this.$binarySearch(b,e+1,c)};this.comparePosition=function(b){return 0>k(b,this.preamble)?-1:null!=this.end&&
0<=k(b,this.end)?1:0};this.printDebug=function(b){"undefined"===typeof b&&(b="");for(var a=0;a<this.$children.length;a++)this.$children[a].printDebug(b+"    ")}}).call(b.prototype);g.ScopeManager=j;g.ScopeNode=b});define("mode/r",function(c,g){c("ace/editor");c("ace/edit_session");c("ace/range");var k=c("ace/lib/oop"),j=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("ace/mode/text_highlight_rules").TextHighlightRules,a=c("mode/r_highlight_rules").RHighlightRules,f=c("mode/r_code_model").RCodeModel,e=c("mode/r_matching_brace_outdent").RMatchingBraceOutdent;c("mode/auto_brace_insert");var i=c("ace/unicode"),h=function(c,h){this.$tokenizer=c?new b((new d).getRules()):new b((new a).getRules());this.foldingRules=
this.codeModel=new f(h,this.$tokenizer,null);this.$outdent={};k.implement(this.$outdent,e)};k.inherits(h,j);(function(){this.checkOutdent=function(a,b,c){return this.$outdent.checkOutdent(a,b,c)};this.autoOutdent=function(a,b,c){return this.$outdent.autoOutdent(a,b,c,this.codeModel)};this.tokenRe=RegExp("^["+i.packages.L+i.packages.Mn+i.packages.Mc+i.packages.Nd+i.packages.Pc+"._]+","g");this.nonTokenRe=RegExp("^(?:[^"+i.packages.L+i.packages.Mn+i.packages.Mc+i.packages.Nd+i.packages.Pc+"._]|s])+",
"g");this.$complements={"(":")","[":"]",'"':'"',"'":"'","{":"}"};this.$reOpen=/^[(["'{]$/;this.$reClose=/^[)\]"'}]$/;this.getNextLineIndent=function(a,b,c,d){return this.codeModel.getNextLineIndent(a,b,c,d)};this.allowAutoInsert=this.smartAllowAutoInsert;this.getIndentForOpenBrace=function(a){return this.codeModel.getIndentForOpenBrace(a)};this.$getIndent=function(a){return(a=a.match(/^(\s+)/))?a[1]:""};this.transformAction=function(a,b,c,d,e){return"insertion"===b&&"\n"===e&&(a=c.getSelectionRange().start,
(d=/^((\s*#+')\s*)/.exec(d.doc.getLine(a.row)))&&c.getSelectionRange().start.column>=d[2].length)?{text:"\n"+d[1]}:!1}}).call(h.prototype);g.Mode=h});define("mode/markdown_highlight_rules",function(c,g){function k(a,b){return{token:"support.function",regex:"^\\s*```"+a+"\\s*$",push:b+"start"}}var j=c("ace/lib/oop"),b=c("ace/lib/lang"),d=c("ace/mode/text_highlight_rules").TextHighlightRules,a=c("ace/mode/javascript_highlight_rules").JavaScriptHighlightRules,f=c("ace/mode/xml_highlight_rules").XmlHighlightRules,e=c("ace/mode/html_highlight_rules").HtmlHighlightRules,i=c("ace/mode/css_highlight_rules").CssHighlightRules,h=function(a){return"(?:[^"+
b.escapeRegExp(a)+"\\\\]|\\\\.)*"},n=function(){b.arrayToMap("title,author,date,rtl,depends,autosize,width,height,transition,transition-speed,font-family,css,class,navigation,incremental,left,right,id,audio,video,type,at,help-doc,help-topic,source,console,console-input,execute,pause".split(","));this.$rules={basic:[{token:"constant.language.escape",regex:/\\[\\`*_{}\[\]()#+\-.!]/},{token:["support.function","support.function","support.function"],regex:"(`+)(.*?[^`])(\\1)"},{token:"text,constant,text,url,string,text".split(","),
regex:'^([ ]{0,3}\\[)([^\\]]+)(\\]:\\s*)([^ ]+)(\\s*(?:["][^"]+["])?(\\s*))$'},{token:["text","keyword","text","constant","text"],regex:"(\\[)("+h("]")+")(\\]s*\\[)("+h("]")+")(\\])"},{token:"text,keyword,text,markup.underline,string,text".split(","),regex:"(\\[)("+h("]")+')(\\]\\()((?:[^\\)\\s\\\\]|\\\\.|\\s(?=[^"]))*)(\\s*"'+h('"')+'"\\s*)?(\\))'},{token:["constant.numeric","constant.numeric","constant.numeric"],regex:"([*]{2}|[_]{2}(?=\\S))(.*?\\S[*_]*)(\\1)"},{token:["constant.language.boolean",
"constant.language.boolean","constant.language.boolean"],regex:"([*]|[_](?=\\S))(.*?\\S[*_]*)(\\1)"},{token:["text","keyword","text"],regex:"(<)((?:https?|ftp|dict):[^'\">\\s]+|(?:mailto:)?[-.\\w]+\\@[-a-z0-9]+(?:\\.[-a-z0-9]+)*\\.[a-z]+)(>)"}],start:[{token:"empty_line",regex:"^$",next:"allowBlock"},{token:["support.function","support.function","support.function"],regex:"(`+)([^\\r]*?[^`])(\\1)"},{token:"markup.heading.1",regex:"^\\={3,}\\s*$",next:"fieldblock"},{token:"markup.heading.1",regex:"^=+(?=\\s*$)"},
{token:"markup.heading.2",regex:"^\\-+(?=\\s*$)"},{token:function(a){return"markup.heading."+a.length},regex:/^#{1,6}(?=\s*[^ #]|\s+#.)/,next:"header"},k("(?:javascript|js)","jscode-"),k("xml","xmlcode-"),k("html","htmlcode-"),k("css","csscode-"),{token:"support.function",regex:"^\\s*```\\s*\\S*(?:{.*?\\})?\\s*$",next:"githubblock"},{token:"string.blockquote",regex:"^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",next:"blockquote"},{token:"text,constant,text,url,string,text".split(","),regex:'^([ ]{0,3}\\[)([^\\]]+)(\\]:\\s*)([^ ]+)(\\s*(?:["][^"]+["])?(\\s*))$'},
{token:["text","keyword","text","constant","text"],regex:"(\\[)((?:[[^\\]]*\\]|[^\\[\\]])*)(\\][ ]?(?:\\n[ ]*)?\\[)(.*?)(\\])"},{token:"text,keyword,text,markup.underline,string,text".split(","),regex:'(\\[)(\\[[^\\]]*\\]|[^\\[\\]]*)(\\]\\([ \\t]*)(<?(?:(?:[^\\(]*?\\([^\\)]*?\\)\\S*?)|(?:.*?))>?)((?:[ \t]*"(?:.*?)"[ \\t]*)?)(\\))'},{token:"constant",regex:"^[ ]{0,2}(?:[ ]?\\*[ ]?){3,}\\s*$"},{token:"constant",regex:"^[ ]{0,2}(?:[ ]?\\-[ ]?){3,}\\s*$"},{token:"constant",regex:"^[ ]{0,2}(?:[ ]?\\_[ ]?){3,}\\s*$"},
{token:"markup.list",regex:"\\\\\\[",next:"mathjaxnativedisplay"},{token:"markup.list",regex:"\\\\\\(",next:"mathjaxnativeinline"},{token:"text",regex:"\\\\\\$"},{token:"markup.list",regex:"\\${2}",next:"mathjaxdisplay"},{token:["markup.list","support.function","markup.list"],regex:"(\\$)((?!\\s)[^$]*[^$\\s])(\\$)(?![\\w\\d`])"},{token:["constant.numeric","constant.numeric","constant.numeric"],regex:"([*]{2}|[_]{2}(?=\\S))([^\\r]*?\\S[*_]*)(\\1)"},{token:["constant.language.boolean","constant.language.boolean",
"constant.language.boolean"],regex:"([*]|[_](?=\\S))([^\\r]*?\\S[*_]*)(\\1)"},{token:["text","keyword","text"],regex:"(<)((?:https?|ftp|dict):[^'\">\\s]+|(?:mailto:)?[-.\\w]+\\@[-a-z0-9]+(?:\\.[-a-z0-9]+)*\\.[a-z]+)(>)"},{token:"keyword",regex:"\\\\(?:[a-zA-z0-9]+|[^a-zA-z0-9])"},{token:["paren.keyword.operator","text","paren.keyword.operator"],regex:"(\\{)([^\\}]*)(\\})"},{token:"markup.list",regex:"\\[-?\\@[\\w\\d-]+\\]"},{token:"markup.list",regex:"-?\\@[\\w\\d-]+"},{token:"text",regex:"[^\\*_%$`\\[#<>\\\\]+"},
{token:"text",regex:"\\\\"},{token:"constant",regex:"^ {0,2}(?:(?: ?\\* ?){3,}|(?: ?\\- ?){3,}|(?: ?\\_ ?){3,})\\s*$",next:"allowBlock"},{token:"text",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock-start"},{token:"comment",regex:"<\\!--",next:"html-comment"},{include:"basic"}],"html-comment":[{token:"comment",regex:"--\>",next:"start"},{defaultToken:"comment"}],allowBlock:[{token:"support.function",regex:"^ {4}.+",next:"allowBlock"},{token:"empty",regex:"",next:"start"}],header:[{regex:"$",
next:"start"},{include:"basic"},{defaultToken:"heading"}],"listblock-start":[{token:"text",regex:/(?:\[[ x]\])?/,next:"listblock"}],listblock:[{token:"empty_line",regex:"^$",next:"start"},{token:"text",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock-start"},{include:"basic",noEscape:!0},{token:"support.function",regex:"^\\s*```\\s*[a-zA-Z]*(?:{.*?\\})?\\s*$",next:"githubblock"},{defaultToken:"text"}],blockquote:[{token:"empty_line",regex:"^\\s*$",next:"start"},{token:"string.blockquote",regex:"^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",
next:"blockquote"},{include:"basic",noEscape:!0},{defaultToken:"string.blockquote"}],githubblock:[{token:"support.function",regex:"^\\s*```",next:"start"},{token:"support.function",regex:".+"}]};this.embedRules(a,"jscode-",[{token:"support.function",regex:"^\\s*```",next:"pop"}]);this.embedRules(e,"htmlcode-",[{token:"support.function",regex:"^\\s*```",next:"pop"}]);this.embedRules(i,"csscode-",[{token:"support.function",regex:"^\\s*```",next:"pop"}]);this.embedRules(f,"xmlcode-",[{token:"support.function",
regex:"^\\s*```",next:"pop"}]);this.normalizeRules()};j.inherits(n,d);g.MarkdownHighlightRules=n});define("mode/markdown_folding",function(c,g){var k=c("ace/lib/oop"),j=c("ace/mode/folding/fold_mode").FoldMode,b=c("ace/range").Range,d=g.FoldMode=function(){},a=c("mode/utils");k.inherits(d,j);(function(){this.foldingStartMarker=/^(?:[=-]+\s*$|#{1,6} |`{3})/;this.getFoldWidget=function(b,c,d){c=b.getLine(d);return!this.foldingStartMarker.test(c)?"":"`"==c[0]&&"start"===a.getPrimaryState(b,d)?"end":"start"};this.getFoldWidgetRange=function(c,d,i){function h(a){return(g=c.getTokens(a)[0])&&0===g.type.lastIndexOf(E,
0)}function n(){var a=g.value[0];return"="==a?6:"-"==a?5:7-g.value.search(/[^#]/)}var l=c.getLine(i),d=l.length,r=c.getLength(),p=i,j=i;if(l.match(this.foldingStartMarker)){if("`"==l[0]){if("start"!==a.getPrimaryState(c,i)){for(;++i<r&&!(l=c.getLine(i),"`"==l[0]&"```"==l.substring(0,3)););return new b(p,d,i,0)}for(;0<i--&&!(l=c.getLine(i),"`"==l[0]&"```"==l.substring(0,3)););return new b(i,l.length,p,0)}var g,E="markup.heading";if(h(i)){for(j=n();++i<r&&!(h(i)&&n()>=j););j=i-(!g||-1==["=","-"].indexOf(g.value[0])?
1:2);if(j>p)for(;j>p&&/^\s*$/.test(c.getLine(j));)j--;if(j>p)return i=c.getLine(j).length,new b(p,d,j,i)}}}}).call(d.prototype)});define("mode/markdown",function(c,g){var k=c("ace/lib/oop"),j=c("ace/mode/text").Mode,b=c("ace/mode/javascript").Mode,d=c("ace/mode/xml").Mode,a=c("ace/mode/html").Mode,f=c("mode/markdown_highlight_rules").MarkdownHighlightRules,e=c("mode/markdown_folding").FoldMode,i=function(){this.HighlightRules=f;this.createModeDelegates({"js-":b,"xml-":d,"html-":a});this.foldingRules=new e};k.inherits(i,j);(function(){this.type="text";this.blockComment={start:"<\!--",end:"--\>"};this.getNextLineIndent=function(a,
b){return this.$getIndent(b)};this.$id="mode/markdown"}).call(i.prototype);g.Mode=i});define("mode/tex_highlight_rules",function(c,g){var k=c("ace/lib/oop");c("ace/lib/lang");var j=c("ace/mode/text_highlight_rules").TextHighlightRules,b=function(b){b||(b="text");this.$rules={start:[{token:"comment",regex:"%.*$"},{token:b,regex:"\\\\[$&%#\\{\\}]"},{token:"keyword",regex:"\\\\(?:documentclass|usepackage|newcounter|setcounter|addtocounter|value|arabic|stepcounter|newenvironment|renewenvironment|ref|vref|eqref|pageref|label|cite[a-zA-Z]*|tag|begin|end|bibitem)\\b",next:"nospell"},{token:"keyword",
regex:"\\\\(?:[a-zA-z0-9]+|[^a-zA-z0-9])"},{token:"paren.keyword.operator",regex:"[[({]"},{token:"paren.keyword.operator",regex:"[\\])}]"},{token:b,regex:"\\s+"}],nospell:[{token:"comment",regex:"%.*$",next:"start"},{token:"nospell."+b,regex:"\\\\[$&%#\\{\\}]"},{token:"keyword",regex:"\\\\(?:documentclass|usepackage|newcounter|setcounter|addtocounter|value|arabic|stepcounter|newenvironment|renewenvironment|ref|vref|eqref|pageref|label|cite[a-zA-Z]*|tag|begin|end|bibitem)\\b"},{token:"keyword",regex:"\\\\(?:[a-zA-z0-9]+|[^a-zA-z0-9])",
next:"start"},{token:"paren.keyword.operator",regex:"[[({]"},{token:"paren.keyword.operator",regex:"[\\])]"},{token:"paren.keyword.operator",regex:"}",next:"start"},{token:"nospell."+b,regex:"\\s+"},{token:"nospell."+b,regex:"\\w+"}]}};k.inherits(b,j);g.TexHighlightRules=b});define("mode/tex",function(c,g){var k=c("ace/lib/oop"),j=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("ace/mode/text_highlight_rules").TextHighlightRules,a=c("mode/tex_highlight_rules").TexHighlightRules,f=c("ace/mode/matching_brace_outdent").MatchingBraceOutdent,e=function(c){this.$tokenizer=c?new b((new d).getRules()):new b((new a).getRules());this.$outdent=new f};k.inherits(e,j);(function(){this.getNextLineIndent=function(a,b){return this.$getIndent(b)};this.allowAutoInsert=function(){return!1}}).call(e.prototype);
g.Mode=e});define("mode/sweave_background_highlighter",function(c,g){var k=c("ace/range").Range,j=function(b,c,a,f){this.$session=b;this.$doc=b.getDocument();this.$reCode=c;this.$reText=a;this.$textIsTerminator=f;var e=this;this.$doc.on("change",function(a){e.$onDocChange.apply(e,[a])});this.$rowState=Array(this.$doc.getLength());this.$markers=[];for(c=0;c<this.$doc.getLength();c++)this.$updateRow(c);var b=b.getMarkers(!1),i;for(i in b)c=b[i],c.range&&"ace_foreign_line sweave_background_highlight"===c.clazz&&
"background"==c.type&&(this.$markers[c.range.start.row]=i);this.$syncMarkers(0)};(function(){this.$updateRow=function(b){var c=this.$doc.getLine(b),a="text",f="text";if(c.match(this.$reCode))a="begin",f="r";else if(!this.$textIsTerminator&&c.match(this.$reText))a="end",f="text";else if(0<b){var e=this.$rowState[b-1];if("begin"===e||"r"===e)c.match(this.$reText)?(a="end",f="text"):f=a="r"}this.$rowState[b]=a;for(b+=1;b<this.$rowState.length;b++){c=this.$rowState[b];if("begin"===c)break;if("end"===
c){this.$textIsTerminator&&"text"===f&&(this.$rowState[b]="text");break}if(this.$textIsTerminator&&"r"===f&&this.$doc.getLine(b).match(this.$reText)){this.$updateRow(b);break}if(this.$rowState[b]===f)break;this.$rowState[b]=f}};this.$syncMarkers=function(b,c){for(var a="undefined"==typeof c?this.$doc.getLength():b+c,f=this.$doc.getLength()-1,e=b;e<=f;e++){var i="text"!=this.$rowState[e];if(!!i!=!!this.$markers[e])this.$markers[e]&&this.$session.removeMarker(this.$markers[e]),i?this.$markers[e]=this.$session.addMarker(new k(e,
0,e+1,0),"ace_foreign_line sweave_background_highlight","background",!1):delete this.$markers[e];else if(e>a)break}};this.$insertNewRows=function(b,c){var a=Array(c+2);a[0]=b;a[1]=0;Array.prototype.splice.apply(this.$rowState,a)};this.$removeRows=function(b,c){this.$rowState.splice(b,c)};this.$onDocChange=function(b){b=b.data;if("insertLines"===b.action){var c=b.range.end.row-b.range.start.row;this.$insertNewRows(b.range.start.row,c);for(var a=0;a<c;a++)this.$updateRow(b.range.start.row+a);this.$syncMarkers(b.range.start.row)}else"insertText"===
b.action?this.$doc.isNewLine(b.text)?(this.$insertNewRows(b.range.end.row,1),this.$updateRow(b.range.start.row),this.$updateRow(b.range.start.row+1),this.$syncMarkers(b.range.start.row)):(this.$updateRow(b.range.start.row),this.$syncMarkers(b.range.start.row,1)):"removeLines"===b.action?(this.$removeRows(b.range.start.row,b.range.end.row-b.range.start.row),this.$updateRow(b.range.start.row),this.$syncMarkers(b.range.start.row)):"removeText"===b.action&&(this.$doc.isNewLine(b.text)?(this.$removeRows(b.range.end.row,
1),this.$updateRow(b.range.start.row),this.$syncMarkers(b.range.start.row)):(this.$updateRow(b.range.start.row),this.$syncMarkers(b.range.start.row,1)))}}).call(j.prototype);g.SweaveBackgroundHighlighter=j});define("mode/sweave_highlight_rules",function(c,g){var k=c("ace/lib/oop"),j=c("mode/tex_highlight_rules").TexHighlightRules,b=c("mode/r_highlight_rules").RHighlightRules,d=c("ace/mode/text_highlight_rules").TextHighlightRules,a=function(){this.$rules=(new j).getRules();this.$rules.start.unshift({token:"comment.codebegin",regex:"^\\s*\\<\\<.*\\>\\>=.*$",next:"r-start"});this.$rules.start.unshift({token:"comment",regex:"^\\s*@(?:\\s.*)?$"});this.addRules((new b).getRules(),"r-");this.$rules["r-start"].unshift({token:"comment.codeend",
regex:"^\\s*@(?:\\s.*)?$",next:"start"});this.$rules["r-start"].unshift({token:"comment.codebegin",regex:"^\\<\\<.*\\>\\>=.*$",next:"r-start"})};k.inherits(a,d);g.SweaveHighlightRules=a});define("mode/sweave",function(c,g){var k=c("ace/lib/oop"),j=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("ace/mode/text_highlight_rules").TextHighlightRules,a=c("mode/sweave_background_highlighter").SweaveBackgroundHighlighter,f=c("mode/sweave_highlight_rules").SweaveHighlightRules,e=c("mode/r_code_model").RCodeModel,i=c("mode/r_matching_brace_outdent").RMatchingBraceOutdent,h=c("ace/unicode"),n=c("mode/utils"),l=function(c,h){this.$tokenizer=c?new b((new d).getRules()):new b((new f).getRules());
this.foldingRules=this.codeModel=new e(h,this.$tokenizer,/^r-/,/<<(.*?)>>/);this.$sweaveBackgroundHighlighter=new a(h,/^\s*\<\<.*\>\>=.*$/,/^\s*@(?:\s.*)?$/,!1);this.$session=h};k.inherits(l,j);(function(){k.implement(this,i);this.tokenRe=RegExp("^["+h.packages.L+h.packages.Mn+h.packages.Mc+h.packages.Nd+h.packages.Pc+"_]+","g");this.nonTokenRe=RegExp("^(?:[^"+h.packages.L+h.packages.Mn+h.packages.Mc+h.packages.Nd+h.packages.Pc+"_]|s])+","g");this.$complements={"(":")","[":"]",'"':'"',"'":"'","{":"}"};
this.$reOpen=/^[(["'{]$/;this.$reClose=/^[)\]"'}]$/;this.insertChunkInfo={value:"<<>>=\n\n@\n",position:{row:0,column:2}};this.getLanguageMode=function(a){return n.getPrimaryState(this.$session,a.row).match(/^r-/)?"R":"TeX"};this.getNextLineIndent=function(a,b,c){a=n.primaryState(a);return this.codeModel.getNextLineIndent(a,b,c)};this.allowAutoInsert=this.smartAllowAutoInsert}).call(l.prototype);g.Mode=l});define("mode/rdoc_highlight_rules",function(c,g){var k=c("ace/lib/oop");c("ace/lib/lang");var j=c("ace/mode/text_highlight_rules").TextHighlightRules,b=function(){var b;b="\\"+"name|alias|method|S3method|S4method|item|code|preformatted|kbd|pkg|var|env|option|command|author|email|url|source|cite|acronym|href|code|preformatted|link|eqn|deqn|keyword|usage|examples|dontrun|dontshow|figure|if|ifelse|Sexpr|RdOpts|inputencoding|usepackage".replace(/\|/g,"|\\");this.createKeywordMapper({keyword:b},"identifer");
this.$rules={start:[{token:"comment",regex:"%.*$"},{token:"text",regex:"\\\\[$&%#\\{\\}]"},{token:"keyword",regex:"\\\\(?:name|alias|method|S3method|S4method|item|code|preformatted|kbd|pkg|var|env|option|command|author|email|url|source|cite|acronym|href|code|preformatted|link|eqn|deqn|keyword|usage|examples|dontrun|dontshow|figure|if|ifelse|Sexpr|RdOpts|inputencoding|usepackage)\\b",next:"nospell"},{token:"keyword",regex:"\\\\(?:[a-zA-z0-9]+|[^a-zA-z0-9])"},{token:"paren.keyword.operator",regex:"[[({]"},
{token:"paren.keyword.operator",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],nospell:[{token:"comment",regex:"%.*$",next:"start"},{token:"nospell.text",regex:"\\\\[$&%#\\{\\}]"},{token:"keyword",regex:"\\\\(?:name|alias|method|S3method|S4method|item|code|preformatted|kbd|pkg|var|env|option|command|author|email|url|source|cite|acronym|href|code|preformatted|link|eqn|deqn|keyword|usage|examples|dontrun|dontshow|figure|if|ifelse|Sexpr|RdOpts|inputencoding|usepackage)\\b"},{token:"keyword",regex:"\\\\(?:[a-zA-z0-9]+|[^a-zA-z0-9])",
next:"start"},{token:"paren.keyword.operator",regex:"[[({]"},{token:"paren.keyword.operator",regex:"[\\])]"},{token:"paren.keyword.operator",regex:"}",next:"start"},{token:"nospell.text",regex:"\\s+"},{token:"nospell.text",regex:"\\w+"}]}};k.inherits(b,j);g.RDocHighlightRules=b});define("mode/rdoc",function(c,g){var k=c("ace/lib/oop"),j=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("ace/mode/text_highlight_rules").TextHighlightRules,a=c("mode/rdoc_highlight_rules").RDocHighlightRules,f=c("ace/mode/matching_brace_outdent").MatchingBraceOutdent,e=function(c){c?(this.$highlightRules=new d,this.$tokenizer=new b((new d).getRules())):(this.$highlightRules=new a,this.$tokenizer=new b((new a).getRules()));this.$outdent=new f};k.inherits(e,j);(function(){this.getNextLineIndent=
function(a,b){return this.$getIndent(b)}}).call(e.prototype);g.Mode=e});define("mode/rmarkdown_highlight_rules",function(c,g){var k=c("ace/lib/oop"),j=c("mode/r_highlight_rules").RHighlightRules,b=c("mode/c_cpp_highlight_rules").c_cppHighlightRules,d=c("mode/markdown_highlight_rules").MarkdownHighlightRules,a=c("ace/mode/text_highlight_rules").TextHighlightRules,f=function(){this.$rules=(new d).getRules();this.$rules.start.unshift({token:"support.function.codebegin",regex:"^(?:[ ]{4})?`{3,}\\s*\\{r(?:.*)\\}\\s*$",next:"r-start"});this.addRules((new j).getRules(),"r-");
this.$rules["r-start"].unshift({token:"support.function.codeend",regex:"^(?:[ ]{4})?`{3,}\\s*$",next:"start"});this.$rules.start.unshift({token:"support.function.codebegin",regex:"^(?:[ ]{4})?`{3,}\\s*\\{r(?:.*)engine\\='Rcpp'(?:.*)\\}\\s*$",next:"r-cpp-start"});this.addRules((new b).getRules(),"r-cpp-");this.$rules["r-cpp-start"].unshift({token:"support.function.codeend",regex:"^(?:[ ]{4})?`{3,}\\s*$",next:"start"})};k.inherits(f,a);g.RMarkdownHighlightRules=f});define("mode/rmarkdown",function(c,g){var k=c("ace/lib/oop"),j=c("mode/markdown").Mode,b=c("ace/tokenizer").Tokenizer,d=c("mode/rmarkdown_highlight_rules").RMarkdownHighlightRules,a=c("ace/mode/matching_brace_outdent").MatchingBraceOutdent,f=c("mode/r_matching_brace_outdent").RMatchingBraceOutdent,e=c("mode/sweave_background_highlighter").SweaveBackgroundHighlighter,i=c("mode/r_code_model").RCodeModel,h=c("ace/mode/folding/markdown").FoldMode,n=c("mode/utils"),l=c("ace/unicode"),r=function(c,n){var j=
this;this.$session=n;this.$tokenizer=new b((new d).getRules());this.$outdent=new a;this.$r_outdent={};k.implement(this.$r_outdent,f);this.codeModel=new i(n,this.$tokenizer,/^r-/,/^(?:[ ]{4})?`{3,}\s*\{r(.*)\}\s*$/);var l=new h;this.foldingRules={getFoldWidget:function(a,b,c){return"Markdown"==j.getLanguageMode({row:c,column:0})?l.getFoldWidget(a,b,c):j.codeModel.getFoldWidget(a,b,c)},getFoldWidgetRange:function(a,b,c){return"Markdown"==j.getLanguageMode({row:c,column:0})?l.getFoldWidgetRange(a,b,
c):j.codeModel.getFoldWidgetRange(a,b,c)}};this.$sweaveBackgroundHighlighter=new e(n,/^(?:[ ]{4})?`{3,}\s*\{r(?:.*)\}\s*$/,/^(?:[ ]{4})?`{3,}\s*$/,!0)};k.inherits(r,j);(function(){this.insertChunkInfo={value:"```{r}\n\n```\n",position:{row:0,column:5}};this.getLanguageMode=function(a){a=n.getPrimaryState(this.$session,a.row);return a.match(/^r-cpp-(?!r-)/)?"C_CPP":a.match(/^r-/)?"R":"Markdown"};this.inCppLanguageMode=function(a){return a.match(/^r-cpp-(?!r-)/)};this.inMarkdownLanguageMode=function(a){return!a.match(/^r-/)};
this.getNextLineIndent=function(a,b,c){a=n.primaryState(a);if(this.inCppLanguageMode(a)){var d=this.$getIndent(b),e=this.$tokenizer.getLineTokens(b,a),h=e.tokens,e=e.state;if(h.length&&"comment"==h[h.length-1].type)return d;if("r-cpp-start"==a)(a=b.match(/^.*[\{\(\[]\s*$/))&&(d+=c);else if("r-cpp-doc-start"==a){if("start"==e)return"";if(a=b.match(/^\s*(\/?)\*/))a[1]&&(d+=" "),d+="* "}return d}return this.codeModel.getNextLineIndent(a,b,c)};this.checkOutdent=function(a,b,c){a=n.primaryState(a);return this.inCppLanguageMode(a)?
this.$outdent.checkOutdent(b,c):this.$r_outdent.checkOutdent(a,b,c)};this.autoOutdent=function(a,b,c){a=n.primaryState(a);return this.inCppLanguageMode(a)?this.$outdent.autoOutdent(b,c):this.$r_outdent.autoOutdent(a,b,c,this.codeModel)};this.transformAction=function(a,b,c,d,e){a=n.primaryState(a);if("insertion"===b)if("\n"===e&&this.inCppLanguageMode(a)){if(a=c.getSelectionRange().start,(d=/^((\s*\/\/+')\s*)/.exec(d.doc.getLine(a.row)))&&c.getSelectionRange().start.column>=d[2].length)return{text:"\n"+
d[1]}}else if("R"===e&&this.inCppLanguageMode(a)&&(a=c.getSelectionRange().start,(d=/^(\s*\/\*{3,}\s*)/.exec(d.doc.getLine(a.row)))&&c.getSelectionRange().start.column>=d[1].length))return{text:"R\n\n*/\n",selection:[1,0,1,0]};return!1};this.tokenRe=RegExp("^["+l.packages.L+l.packages.Mn+l.packages.Mc+l.packages.Nd+l.packages.Pc+"._]+","g");this.nonTokenRe=RegExp("^(?:[^"+l.packages.L+l.packages.Mn+l.packages.Mc+l.packages.Nd+l.packages.Pc+"._]|s])+","g")}).call(r.prototype);g.Mode=r});define("mode/rhtml_highlight_rules",function(c,g){var k=c("ace/lib/oop"),j=c("mode/r_highlight_rules").RHighlightRules,b=c("ace/mode/html_highlight_rules").HtmlHighlightRules,d=c("ace/mode/text_highlight_rules").TextHighlightRules,a=function(){this.$rules=(new b).getRules();this.$rules.start.unshift({token:"support.function.codebegin",regex:"^<\!--\\s*begin.rcode\\s*(?:.*)",next:"r-start"});this.addRules((new j).getRules(),"r-");this.$rules["r-start"].unshift({token:"support.function.codeend",regex:"^\\s*end.rcode\\s*--\>",
next:"start"})};k.inherits(a,d);g.RHtmlHighlightRules=a});define("mode/rhtml",function(c,g){var k=c("ace/lib/oop"),j=c("ace/mode/html").Mode,b=c("ace/tokenizer").Tokenizer,d=c("mode/rhtml_highlight_rules").RHtmlHighlightRules,a=c("mode/sweave_background_highlighter").SweaveBackgroundHighlighter,f=c("mode/r_code_model").RCodeModel,e=c("mode/utils"),i=function(c,e){this.$session=e;this.$tokenizer=new b((new d).getRules());this.foldingRules=this.codeModel=new f(e,this.$tokenizer,/^r-/,/^<\!--\s*begin.rcode\s*(.*)/);this.$sweaveBackgroundHighlighter=new a(e,
/^<\!--\s*begin.rcode\s*(?:.*)/,/^\s*end.rcode\s*--\>/,!0)};k.inherits(i,j);(function(){this.insertChunkInfo={value:"<\!--begin.rcode\n\nend.rcode--\>\n",position:{row:0,column:15}};this.getLanguageMode=function(a){return e.getPrimaryState(this.$session,a.row).match(/^r-/)?"R":"HTML"};this.getNextLineIndent=function(a,b,c){return this.codeModel.getNextLineIndent(a,b,c)}}).call(i.prototype);g.Mode=i});define("mode/dcf_highlight_rules",function(c,g){var k=c("ace/lib/oop"),j=c("ace/mode/text_highlight_rules").TextHighlightRules,b=function(){this.$rules={start:[{token:["keyword","text"],regex:"^([\\w-]+)(\\:)"},{token:"text",regex:".+"}]}};k.inherits(b,j);g.DcfHighlightRules=b});define("mode/dcf",function(c,g){var k=c("ace/lib/oop"),j=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("mode/dcf_highlight_rules").DcfHighlightRules,a=function(){this.$tokenizer=new b((new d).getRules())};k.inherits(a,j);(function(){this.getNextLineIndent=function(a,b){return this.$getIndent(b)}}).call(a.prototype);g.Mode=a});define("mode/mermaid_highlight_rules",function(c,g){var k=c("ace/lib/oop"),j=c("ace/mode/text_highlight_rules").TextHighlightRules,b=function(){this.createKeywordMapper({keyword:"sequenceDiagram|participant|graph|subgraph|loop|alt|is|opt|else|end|style|linkStyle|classDef|class"},"identifier",!1);this.$rules={start:[{token:"keyword",merge:!1,regex:"^\\s*graph\\s+(?:TB|BT|RL|LR|TD)\\s*$"},{token:"keyword",merge:!1,regex:"^\\s*(?:sequenceDiagram|participant|subgraph|loop|alt(?:\\s+is)?|opt|else(?:\\s+is)?|end|style|linkStyle|classDef|class)"},
{token:"keyword.operator",merge:!1,regex:">|\\->|\\-\\->|\\-\\-\\-|\\-\\-|\\-\\.\\->|\\-\\.|\\.\\->|==>|==|\\->>|\\-\\->>|\\-x|\\-\\-x"},{token:"paren.keyword.operator",merge:!1,regex:"[[({\\|]"},{token:"paren.keyword.operator",merge:!1,regex:"[\\])}]"},{token:"markup.list",merge:!1,regex:"Note\\s+(?:left|right)\\s+of"},{token:"markup.list",merge:!1,regex:"<br/>"},{token:"text",regex:"\\s+",merge:!0}]}};k.inherits(b,j);g.MermaidHighlightRules=b});define("mode/mermaid",function(c,g){var k=c("ace/lib/oop"),j=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("mode/mermaid_highlight_rules").MermaidHighlightRules,a=function(){this.$highlightRules=new d;this.$tokenizer=new b(this.$highlightRules.getRules())};k.inherits(a,j);(function(){this.getNextLineIndent=function(a,b){return this.$getIndent(b)}}).call(a.prototype);g.Mode=a});define("mode/cpp_scope_tree",function(c,g){var k=c("ace/lib/oop"),j=c("mode/r_scope_tree"),b=j.ScopeManager,d=j.ScopeNode,a=function(a,b,c,d,n,j){this.label=a;this.start=b;this.preamble=c||b;this.end=null;this.scopeType=d;this.scopeCategory=n;this.attributes=j;this.parentScope=null;this.$children=[]};k.mixin(a.prototype,d.prototype);a.CATEGORY_CLASS=1;a.CATEGORY_NAMESPACE=2;a.CATEGORY_FUNCTION=3;a.CATEGORY_LAMBDA=4;a.CATEGORY_ANON=5;(function(){this.isClass=function(){return this.scopeType==d.TYPE_BRACE&&
this.scopeCategory==a.CATEGORY_CLASS};this.isNamespace=function(){return this.scopeType==d.TYPE_BRACE&&this.scopeCategory==a.CATEGORY_NAMESPACE};this.isFunction=function(){return this.scopeType==d.TYPE_BRACE&&this.scopeCategory==a.CATEGORY_FUNCTION};this.isLambda=function(){return this.scopeType==d.TYPE_BRACE&&this.scopeCategory==a.CATEGORY_LAMBDA}}).call(a.prototype);j=function(a){this.$ScopeNodeFactory=a;this.parsePos={row:0,column:0};this.$root=new a("(Top Level)",this.parsePos,null,d.TYPE_ROOT,
null)};k.mixin(j.prototype,b.prototype);(function(){this.onClassScopeStart=function(b,c,i){this.$root.addNode(new this.$ScopeNodeFactory(b,i,c,d.TYPE_BRACE,a.CATEGORY_CLASS));this.printScopeTree()};this.onNamespaceScopeStart=function(b,c,i){this.$root.addNode(new this.$ScopeNodeFactory(b,i,c,d.TYPE_BRACE,a.CATEGORY_NAMESPACE));this.printScopeTree()};this.onFunctionScopeStart=function(b,c,i){this.$root.addNode(new this.$ScopeNodeFactory(b,i,c,d.TYPE_BRACE,a.CATEGORY_FUNCTION));this.printScopeTree()};
this.onLambdaScopeStart=function(b,c,i){this.$root.addNode(new this.$ScopeNodeFactory(b,i,c,d.TYPE_BRACE,a.CATEGORY_LAMBDA));this.printScopeTree()};this.onScopeStart=function(a){this.$root.addNode(new this.$ScopeNodeFactory(null,a,null,d.TYPE_BRACE));this.printScopeTree()};this.onScopeEnd=function(a){a=this.$root.closeScope(a,d.TYPE_BRACE);this.printScopeTree();return a}}).call(j.prototype);g.CppScopeManager=j;g.CppScopeNode=a});define("mode/cpp_code_model",function(c,g){c("ace/lib/oop");var k=c("ace/range").Range,j=c("mode/token_utils").TokenUtils;c("ace/token_iterator");var b=c("mode/token_cursor").CppTokenCursor,d=c("mode/cpp_scope_tree").CppScopeNode,a=c("mode/cpp_scope_tree").CppScopeManager,f=c("mode/r_code_model").getVerticallyAlignFunctionArgs,e=c("mode/utils"),i=function(b,c,e,i){this.$session=b;this.$doc=b.getDocument();this.$tokenizer=c;this.$tokens=Array(this.$doc.getLength());this.$statePattern=e;this.$codeBeginPattern=
i;this.$tokenUtils=new j(this.$doc,this.$tokenizer,this.$tokens,this.$statePattern,this.$codeBeginPattern);this.$scopes=new a(d);var f=this;this.$doc.on("change",function(a){f.$onDocChange.apply(f,[a])})};(function(){this.getTokenCursor=function(){return new b(this.$tokens,0,0,this)};this.$tokenizeUpToRow=function(a){this.$tokenUtils.$tokenizeUpToRow(a)};var a=function(a,b){for(;;){var c=a.currentValue(),d=b.$doc.getLine(a.$row);if(["{","}",";"].some(function(a){return a===c}))break;if(":"===c){var e=
a.peekBwd().currentValue();if(["public","private","protected"].some(function(a){return a===e}))break}if(/^\s*#/.test(d))break;if(!a.moveToPreviousToken())break}},c="if,else,for,do,while,struct,class,try,catch,switch".split(","),d=function(a){a=a.trim();return a=a.replace(/[\n\s]+/g," ")},i=function(a,b){var c=d(a),e=b;"undefined"===typeof e&&(e=80);c.length>e&&(c=c.substring(0,e)+"...");return c};this.$complements={"<":">",">":"<","{":"}","}":"{","[":"]","]":"[","(":")",")":"(","'":"'",'"':'"'};this.alignContinuationSlashes=
function(a,b){"undefined"===typeof b&&(b={start:0,end:a.getLength()});var c=a.$lines;if(!(c instanceof Array))return!1;for(var d=b.start;d<b.end;d++)if(g.test(c[d])){for(var e=d,d=d+1;g.test(c[d])&&d<=b.end;)d++;for(var h=d,i=c.slice(e,h).map(function(a){return a.lastIndexOf("\\")}),f=Math.max.apply(null,i),j=0;j<h-e;j++){var n={row:e+j,column:i[j]},r=Array(f-i[j]+1).join(" ");a.insert(n,r)}}return!0};this.allIndicesOf=function(a,b){for(var c=[],d=0;d<a.length;d++)a[d]==b&&c.push(d);return c};this.getRowForMatchingEOLArrows=
function(a,b,c){for(var a=0,d="",e=1;100>e;e++){d=this.getLineSansComments(b,c-e);if(/;\s*$/.test(d))break;if(/<\s*$/.test(d)&&!/<<\s*$/.test(d)){if(0===a)return c-e;a--}else/^\s*>/.test(d)&&!/^\s*>>/.test(d)&&a++}return-1};var j=/^\s*#\s*define/,g=/\\\s*$/,A=/^\s*[+\-/&^%$!<\>.?|=~]|^\s*\*[^/]|^\s*\/[^\*]/,E=/[+\-*&^%$!<\>.?|=~]\s*$|\*[^/]\s*$|\/[^\*]\s*$/;this.inMacro=function(a,b){var c=a[b];return 0>b?!1:g.test(c)?j.test(c)?!0:this.inMacro(a,b-1):!1};this.$buildScopeTreeUpToRow=function(b){b=
Math.min(b+30,this.$doc.getLength()-1);this.$tokenUtils.$tokenizeUpToRow(b);var c=this.getTokenCursor();if(c.seekToNearestToken(this.$scopes.parsePos,b)){do{this.$scopes.parsePos=c.currentPosition();this.$scopes.parsePos.column+=c.currentValue().length;var e=c.currentToken().type;if(/\bsectionhead\b/.test(e))e=""+/^\/\/'?[-=#\s]*(.*?)\s*[-=#]+\s*$/.exec(c.currentValue())[1],0==e.length&&(e="(Untitled)"),50<e.length&&(e=e.substring(0,50)+"..."),this.$scopes.onSectionHead(e,c.currentPosition());else if(/\bcodebegin\b/.test(e)){var e=
c.currentPosition(),f={row:e.row+1,column:0};this.$scopes.getTopLevelScopeCount();this.$scopes.onChunkStart("(R Code Chunk)","(R Code Chunk)",e,f)}else if(/\bcodeend\b/.test(e)){for(e=c.currentPosition();this.$scopes.onScopeEnd(e););e.column+=c.currentValue().length;this.$scopes.onChunkEnd(e)}else if("{"===c.currentValue())if(e=c.cloneCursor(),f=e.currentPosition(),e.isFirstSignificantTokenOnLine()&&(f.column=0),"namespace"===e.peekBwd(2).currentValue())e.moveToPreviousToken(),this.$scopes.onNamespaceScopeStart("namespace "+
e.currentValue(),e.currentPosition(),c.currentPosition());else if("namespace"===e.peekBwd().currentValue())this.$scopes.onNamespaceScopeStart("anonymous namespace",f,c.currentPosition());else if("class"===e.peekBwd(2).currentValue()||"struct"===e.peekBwd(2).currentValue()||e.bwdOverClassInheritance()){e.moveToPreviousToken();var j=e.cloneCursor();a(j,this);j=j.peekFwd().currentPosition();f=this.$session.getTextRange(new k(j.row,j.column,f.row,f.column));f=d(f);this.$scopes.onClassScopeStart(f,e.currentPosition(),
c.currentPosition())}else if(e.bwdOverConstNoexceptDecltype()&&e.bwdOverInitializationList()&&e.moveBackwardOverMatchingParens()||e.moveBackwardOverMatchingParens())if("identifier"===e.peekBwd().currentType()||"]"===e.peekBwd().currentValue()||/^operator/.test(e.peekBwd().currentValue()))if("]"===e.peekBwd().currentValue())e=e.currentPosition(),e=this.$session.getTextRange(new k(e.row,e.column,f.row,f.column-1)),e=d("lambda "+e),this.$scopes.onLambdaScopeStart(e,f,c.currentPosition());else{if(e.moveToPreviousToken()){var n=
"",f=e.currentValue(),j="",g=this.$scopes.getActiveScopes(e.currentPosition());null!=g&&(g=g[g.length-1],g.isClass()&&g.label==="class "+f?"~"===e.peekBwd().currentValue()&&(f="~"+f):(n=e.cloneCursor(),a(n,this),n.moveToNextToken(),n=n.currentPosition(),g=e.currentPosition(),n=this.$session.getTextRange(new k(n.row,n.column,g.row,g.column))));var p=e.peekFwd(),g=p.currentPosition();p.fwdToMatchingToken()&&("const"===p.peekFwd().currentValue()&&p.moveToNextToken(),"noexcept"===p.peekFwd().currentValue()&&
p.moveToNextToken(),"noexcept"===p.currentValue()&&"("===p.peekFwd().currentValue()&&(p.moveToNextToken(),p.fwdToMatchingToken()),(p=p.peekFwd().currentPosition())&&(j=this.$session.getTextRange(new k(g.row,g.column,p.row,p.column))));this.$scopes.onFunctionScopeStart(0<n.length?i(f.trim()+j.trim()+": "+n.trim()):i(f.trim()+j.trim()),e.currentPosition(),c.currentPosition())}}else this.$scopes.onScopeStart(f);else this.$scopes.onScopeStart(f);else"}"===c.currentValue()&&(e=c.currentPosition(),c.isLastSignificantTokenOnLine()?
e.column=this.$doc.getLine(e.row).length+1:e.column++,this.$scopes.onScopeEnd(e))}while(c.moveToNextToken(b))}};this.getCurrentScope=function(a,b){b||(b=function(){return!0});if(!a)return"";this.$buildScopeTreeUpToRow(a.row);var c=this.$scopes.getActiveScopes(a);if(c)for(var d=c.length-1;0<=d;d--)if(b(c[d]))return c[d];return null};this.getScopeTree=function(){this.$buildScopeTreeUpToRow(this.$doc.getLength()-1);return this.$scopes.getScopeList()};this.getRowForOpenBraceIndent=function(a,b,d){if(1>=
a.getDocument().$lines.length)return-1;if(this.$tokenUtils.$tokenizeUpToRow(b))try{for(var e=Array(this.$tokens.length),h=0;h<this.$tokens.length;h++)if(null!=this.$tokens[h]&&0<this.$tokens[h].length){var i=this.$tokens[h];"\\"===i[i.length-1].value&&(e[h]=this.$tokens[h].splice(i.length-1,1)[0])}var f=this.getTokenCursor();if(d){var j=a.getSelection().getCursor();if(!f.moveToPosition(j))return 0}else{f.$row=b;h=f.$tokens[b].length-1;for(h=f.$tokens[b].length-1;0<=h&&!(f.$offset=h,"{"===f.currentValue());h--);
}if("{"===f.peekBwd().currentValue()||";"===f.currentValue())return-1;f.bwdOverInitializationList();f.bwdOverClassInheritance();if("{"===f.currentValue()&&!f.moveToPreviousToken()||"{"===f.currentValue())return-1;for(;"keyword"===f.currentType();){var g=f.currentValue();if(c.some(function(a){return a===g})||0===f.$row&&0===f.$offset)return f.$row;if(!f.moveToPreviousToken())return-1}if(":"===f.currentValue()){var p=f.peekBwd().currentValue();if(["public","private","protected"].some(function(a){return a===
p}))return f.moveToNextToken(),f.$row}if(":"===f.currentValue())for(;f.moveToPreviousToken();){if(f.bwdToMatchingToken())if("keyword"===f.peekBwd().currentType())continue;else break;if("identifier"===f.currentType())break}if(")"===f.currentValue()&&!f.bwdToMatchingToken()||"("===f.currentValue()&&!f.moveToPreviousToken())return-1;"="===f.currentValue()&&f.moveToPreviousToken();return f.$row}finally{for(h=0;h<e.length;h++)"undefined"!==typeof e[h]&&this.$tokens[h].push(e[h])}return-1};this.getLineSansComments=
function(a,b,c){if(0>b)return"";for(var a=a.getLine(b),d=/(?!\\)\"/g,e=a,h=null,b=[];h=d.exec(e);)b.push(h.index);if(0<b.length&&0===b.length%2)for(d=0;d<b.length/2;d+=2)e=b[d+1],a=a.substring(0,b[d]+1)+a.substring(e,a.length);b=a.indexOf("//");-1!=b&&(a=a.substring(0,b));g.test(a)&&(a=a.substring(0,a.lastIndexOf("\\")));c&&(a=a.replace(/\bconst\b/,"").replace(/\bnoexcept\b/,""));return a};this.findStartOfCommentBlock=function(a,b,c){for(var d=0,e=/^\s*\/+\*/;0<=b&&d<c;){if(e.test(a[b]))return b;
--b;++d}return-1};this.getNextLineIndent=function(a,b,c,d,h){var i=f(),n=this.$session,r=n.getTabSize(),l=n.getDocument();"number"!==typeof d&&(d=n.getSelection().getCursor().row-1);if(-1===d)return b=l.getLine(0),0<b.length?this.$getIndent(b):"";if(0===b.length||/^\s*#/.test(b))return this.getNextLineIndent(e.getPrimaryState(n,d-1),l.getLine(d-1),c,d-1,h);var k=this.$getIndent(b),s=this.$getUnindent(b,r),q=l.$lines,G;G=0<d?q[d-1]:"";if("comment"==a||"doc-start"==a){F&&F.row==d&&(b=b.substring(0,
F.column));if(/^\s*$/.test(b))return this.$getIndent(q[d]);F=this.findStartOfCommentBlock(q,d,200);if(null!==F)return this.$getIndent(q[F])+" "}if("start"==a){a=null;if(j.test(b))return/\\\s*$/.test(b)?k+c:k;if(/^\s*#\s*\S/.test(b))return k;if(this.inMacro(q,d-1)&&!g.test(b))return s;var b=this.getLineSansComments(l,d),F=n.getSelection().getCursor();F&&F.row==d&&!h&&(b=b.substring(0,F.column));G=this.getLineSansComments(l,d-1);if("string"!==typeof b)return"";if(0===b.length||/^\s*$/.test(b))return this.$getIndent(q[d]);
if(/\*\/\s*$/.test(b)&&(s=this.findStartOfCommentBlock(q,d,200),0<=s))return this.$getIndent(q[s]);if(/^\s*<</.test(b)){for(b=d-1;/^\s*<</.test(q[b]);)b--;return this.$getIndent(q[b])}if(/^\s*\./.test(b)){for(b=d-1;/^\s*\./.test(q[b]);)b--;return this.$getIndent(q[b])}if(/\bnamespace\b.*\{\s*$/.test(b)||/\bswitch\b.*\{\s*$/.test(b))return k;if(b.match(/\(\s*$/))return-1!==b.indexOf("=")||/^\s*(return\s+)?[a-zA-Z0-9_.->:]+\(\s*$/.test(b)?k+c:k+c+c;if(/^\s*(class|struct).*\{\s*$/.test(b)||/^\s*(class|struct)\s+.+:\s*$/.test(b))return k+
c;if((a=b.match(/(^\s*(?:class|struct)\s+.*\w[^:]):[^:]\s*.+/))&&!/,\s*/.test(b)||(a=b.match(/^(\s*(class|struct).*:\s*).*,\s*$/)))return i?Array(a[1].length+1).join(" "):k+c;if(a=b.match(/^(\s*:\s*)(\w+).*,\s*$/))return i?Array(a[1].length+1).join(" "):k+c;if(a=b.match(/^(\s*)[:,]\s*[\w\s]*$/))return i?Array(a[1].length+1).join(" "):k+c;if(/<\s*$/.test(b))return k+c;if(/^\s*\".*\"\s*$/.test(b)||/^\s*template\s*<.*>\s*$/.test(b)&&b.split(">").length==b.split("<").length)return k;if(/([\[\{\(<]).+,\s*$/.exec(b)){a=
["(","{","[","<"];for(s=0;s<a.length;s++){var J=a[s],K=this.$complements[J],J=this.allIndicesOf(b,J);if(J.length&&(K=this.allIndicesOf(b,K),K=J.length-K.length-1,!(0>K))){q=J[K];return i?(b=b.substr(q+1).match(/([^\s])/),Array(q+b.index+2).join(" ")):k+c}}}for(s=d-1;0<=s&&/^\s*$|^\s*#/.test(G);)G=this.getLineSansComments(l,s),s--;if((A.test(b)||E.test(b))&&(A.test(G)||E.test(G)))return this.$getIndent(b);if(this.$tokenUtils.$tokenizeUpToRow(d+2))try{for(var O=Array(this.$tokens.length),s=0;s<this.$tokens.length;s++)if(null!=
this.$tokens[s]&&0<this.$tokens[s].length){var P=this.$tokens[s];"\\"===P[P.length-1].value&&(O[s]=this.$tokens[s].splice(P.length-1,1)[0])}var m=this.getTokenCursor();h?(m.$row=d,m.$offset=this.$tokens[d].length-1):m.moveToPosition(F);for(;0>m.$offset&&0<m.$row;)m.$row--,m.$offset=m.$tokens[m.$row].length-1;for(;0<m.$row&&/^\s*#/.test(l.getLine(m.$row));)m.$row--,m.$offset=m.$tokens[m.$row].length-1;var h="",Q=m.cloneCursor(),M=Q.currentValue(),H=Q.currentType();if("constant"===H||"keyword"===H||
"identifier"===H||["{",")",">",":"].some(function(a){return a===M}))h=c;for(;";"===m.currentValue()&&m.moveToPreviousToken(););var I=m.cloneCursor();if(i&&m.isLastSignificantTokenOnLine()&&("keyword.operator"===m.currentType()||"punctuation.operator"===m.currentType())){var N=m.cloneCursor();N.$offset=0;if("keyword"===N.currentType()){var L=b.split("(").length-b.split(")").length;if(0<L){var x=b.match(/.*?\(\s*(\S)/);if(x)return Array(x[0].length).join(" ")}}}if(","===m.currentValue()){if(i){var C=
m.peekBwd();if("]"===C.currentValue()&&C.bwdToMatchingToken())return Array(C.currentPosition().column+1).join(" ");L=b.split("(").length-b.split(")").length;if(0<L&&(x=b.match(/.*?\(\s*(\S)/)))return Array(x[0].length).join(" ")}if(/[,(]\s*$/.test(b)&&/[,(]\s*$/.test(G))return this.$getIndent(b);var w=m.cloneCursor();return w.findOpeningBracket("{",!1)&&w.bwdOverClassySpecifiers()&&"enum"===w.currentValue()?this.$getIndent(q[w.$row])+c:-1!==b.indexOf("=")?this.$getIndent(b)+c:this.$getIndent(b)}if("keyword.operator"===
H&&":"!==M)return this.$getIndent(q[d])+c;for(;;){if("undefined"===typeof m.currentValue())return"undefined"!==typeof I.currentValue()?this.$getIndent(q[I.$row])+h:h;I=m.cloneCursor();if(";"===m.currentValue()&&m.moveToNextToken()){for(d=m.$row;null!=q[d]&&/^\s*#/.test(q[d]);)++d;return this.$getIndent(q[d])+h}if(["for","while","do","try"].some(function(a){return a===m.currentValue()})&&";"!==M)return this.$getIndent(q[m.$row])+h;C=m.peekBwd();if(":"===m.currentValue()){if(["public","private","protected"].some(function(a){return a===
C.currentValue()}))return this.$getIndent(q[C.$row])+c;var R=q[m.$row];if(/^\s*case/.test(R))return this.$getIndent(R)+c;if(")"===C.currentValue()&&(w=C.cloneCursor(),w.bwdToMatchingToken())){var S=w.peekBwd(1),T=w.peekBwd(2);if(null!==S&&"identifier"===S.currentType()&&null!==T&&!/\boperator\b/.test(T.currentType()))return this.$getIndent(q[w.peekBwd().$row])+h}}if("]"===m.currentValue()&&"("===m.peekFwd().currentValue()&&(w=m.cloneCursor(),w.bwdToMatchingToken()))return this.$getIndent(q[w.$row])+
h;if("("===m.currentValue()&&"for"===C.currentValue()&&";"===M)return m.peekFwd().cloneCursor(),i?Array(m.peekFwd().currentPosition().column+1).join(" "):this.$getIndent(q[m.peekFwd().$row])+c;if(i&&"("===m.currentValue()&&!m.isLastSignificantTokenOnLine())return m.moveToNextToken(),Array(m.currentPosition().column+1+r).join(" ");if("if"===m.currentValue()||"else"===m.currentValue()||"template"===m.currentValue()&&"<"===m.peekFwd().currentValue())return this.$getIndent(q[m.$row])+h;if("{"===m.currentValue()){var U=
this.getRowForOpenBraceIndent(n,m.$row);return 0<=U?(b=this.getLineSansComments(l,U),k=this.$getIndent(b),/\bnamespace\b/.test(b)?k:k+c):this.$getIndent(q[m.$row])+c}if(0===m.$row&&0===m.$offset)return this.$getIndent(q[0])+h;if(">"===m.currentValue()&&(w=m.cloneCursor(),w.bwdToMatchingArrow()&&"template"===w.peekBwd().currentValue()))return">"===M&&(h=""),this.$getIndent(q[w.$row])+h;m.bwdToMatchingToken();if(!m.moveToPreviousToken())break;for(;0<m.$row&&/^\s*#/.test(q[m.$row]);)m.$row--,m.$offset=
this.$tokens[m.$row].length-1}}finally{for(s=0;s<O.length;s++)"undefined"!==typeof O[s]&&this.$tokens[s].push(O[s])}}return k};this.$onDocChange=function(a){a=a.data;"insertLines"===a.action?this.$tokenUtils.$insertNewRows(a.range.start.row,a.range.end.row-a.range.start.row):"insertText"===a.action?this.$doc.isNewLine(a.text)?(this.$tokenUtils.$invalidateRow(a.range.start.row),this.$tokenUtils.$insertNewRows(a.range.end.row,1)):this.$tokenUtils.$invalidateRow(a.range.start.row):"removeLines"===a.action?
(this.$tokenUtils.$removeRows(a.range.start.row,a.range.end.row-a.range.start.row),this.$tokenUtils.$invalidateRow(a.range.start.row)):"removeText"===a.action&&(this.$doc.isNewLine(a.text)&&this.$tokenUtils.$removeRows(a.range.end.row,1),this.$tokenUtils.$invalidateRow(a.range.start.row));this.$scopes.invalidateFrom(a.range.start)};this.$getIndent=function(a){return(a=/^([ \t]*)/.exec(a))?a[1]:""};this.$padIndent=function(a,b,c){b=Array(b+1).join(" ");b=a.replace("\t",b);return b>=c?a:a+Array(c-b+
1).join(" ")};this.$getUnindent=function(a,b){var c=this.$getIndent(a);if(null===c||0===c.length)return"";var d=c.indexOf("\t");if(-1!=d)return c.substring(0,d)+c.substring(d+1,c.length);for(var e=d=0;e<b&&e<c.length;e++)" "===c[e]&&d++;return c.substring(d,c.length)}}).call(i.prototype);g.CppCodeModel=i});define("mode/doc_comment_highlight_rules",function(c,g){var k=c("ace/lib/oop"),j=c("ace/mode/text_highlight_rules").TextHighlightRules,b=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"[@\\\\][\\w\\d_]+"},{token:"comment.doc",merge:!0,regex:"\\s+"},{token:"comment.doc",merge:!0,regex:"TODO"},{token:"comment.doc",merge:!0,regex:"[^@\\\\\\*]+"},{token:"comment.doc",merge:!0,regex:"."}]}};k.inherits(b,j);b.getStartRule=function(b){return{token:"comment.doc",merge:!0,regex:"\\/\\*[\\*\\!]",
next:b}};b.getEndRule=function(b){return{token:"comment.doc",merge:!0,regex:"\\*\\/",next:b}};g.DocCommentHighlightRules=b});define("mode/c_cpp_matching_brace_outdent",function(c,g){var k=c("ace/range").Range,j=c("mode/token_cursor").CppTokenCursor,b=function(a){this.codeModel=a},d=!0,a=!0,f=!0,e=!0,i=!0,h=!0,n=!0,l=!0,r=!0,p=!0,D=!0,A=!0;(function(){this.setIndent=function(a,b,c,d,e){var a=a.getDocument(),d="string"===typeof d?d:"",h=a.$lines[c],c=this.$getIndent(a.$lines[b]),h=this.$getIndent(h);("function"!==typeof e||e(c,h))&&a.replace(new k(b,0,b,c.length),h+d)};this.checkOutdent=function(a,b,c){return"start"==a&&
(":"===c||/^\s*[#\{\}\>\]\)<.:]/.test(c)||"="===c)?!0:"comment"==a&&"/"==c?!0:!1};this.escapeRegExp=function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};this.alignStartToken=function(a,b,c,d,e){if(null===e||null===d)return!1;return RegExp("^\\s*"+this.escapeRegExp(a)).test(d)&&(a=e.indexOf(a),0<=a)?(b=b.getDocument(),d=this.$getIndent(d),a=Array(a+1).join(" "),b.replace(new k(c,0,c,d.length),a),!0):!1};this.alignEquals=function(a,b,c,d){if(null===d||null===c)return!1;var e=
c.indexOf("=");if(e!==c.lastIndexOf("="))return!1;var h=d.indexOf("=");if(-1!==e&&-1!==h&&/,\s*$/.test(d)){a=a.getDocument();c=this.$getIndent(c);if(c.length>=h)return!1;e=h-e;if(0>=e)return!1;e=Array(c.length+e+1).join(" ");a.replace(new k(b,0,b,c.length),e);return!0}return!1};this.autoOutdent=function(b,c,g){var b=c.doc,l=b.getLine(g),o=null;0<g&&(o=b.getLine(g-1));this.$getIndent(l);if(!(p&&this.alignStartToken("<<",c,g,l,o)||r&&this.alignStartToken(">>",c,g,l,o)))if(!n||!this.alignStartToken(".",
c,g,l,o)){if(d&&/^\s*:/.test(b.getLine(g))&&!/^\s*::/.test(b.getLine(g))&&this.codeModel.$tokenUtils.$tokenizeUpToRow(g)){var B=new j(this.codeModel.$tokens,g,0),t=-1,z=B.cloneCursor();if(")"===z.peekBwd().currentValue()||"keyword"===z.peekBwd().currentType()){do{var B=z.currentType(),V=z.currentValue();if("identifier"===B||";"===V){t=z.$row;break}"keyword"!==B&&z.bwdToMatchingToken()}while(z.moveToPreviousToken())}else B.moveToPreviousToken(),B.bwdOverClassySpecifiers()&&(t=B.$row);0<=t&&this.setIndent(c,
g,t,c.getTabString(),function(a,b){return a===b})}if(h&&/^\s*>/.test(l)&&!/^\s*>>/.test(l)&&(t=this.codeModel.getRowForMatchingEOLArrows(c,b,g),0<=t)){this.setIndent(c,g,t);return}if(e&&/^\s*\}/.test(l)&&(t=c.findMatchingBracket({row:g,column:l.indexOf("}")+1}),null!==t)){if(/^\s*\{/.test(b.$lines[t.row])){this.setIndent(c,g,t.row);return}t=this.codeModel.getRowForOpenBraceIndent(c,t.row);if(0<=t){this.setIndent(c,g,t);return}}if(a&&/^\s*\)/.exec(l)&&(t=c.findMatchingBracket({row:g,column:l.indexOf(")")+
1}))){this.setIndent(c,g,t.row);return}if(i&&/^\s*\]/.exec(l)&&(t=c.findMatchingBracket({row:g,column:l.indexOf("]")+1}))){this.setIndent(c,g,t.row);return}if(D&&/^\s*public\s*:\s*$|^\s*private\s*:\s*$|^\s*protected\s*:\s*$/.test(l)&&(z=c.$findOpeningBracket("}",{row:g,column:l.length},RegExp(/paren\.keyword\.operator/)))){t=this.codeModel.getRowForOpenBraceIndent(c,z.row);0<=t?this.setIndent(c,g,t):this.setIndent(c,g,z.row);return}if(A&&(/^\s*case.+:/.test(l)||/^\s*default\s*:/.test(l)))if(z=c.$findOpeningBracket("}",
{row:g,column:/(\S)/.exec(l).index+1})){t=this.codeModel.getRowForOpenBraceIndent(c,z.row);0<=t?this.setIndent(c,g,t):this.setIndent(c,g,z.row);return}if(f&&/^\s*\{/.test(l)&&!/;\s*$/.test(o)){if(this.codeModel.$tokenUtils.$tokenizeUpToRow(g)&&(B=new j(this.codeModel.$tokens),B.$row=g,B.$offset=0,B.moveToPreviousToken()&&"="===B.currentValue()))return;o=this.codeModel.getRowForOpenBraceIndent(c,g);if(0<=o){this.setIndent(c,g,o);return}}/^\s*#/.test(l)&&(c=this.$getIndent(l),b.replace(new k(g,0,g,
c.length),""))}};this.$getIndent=function(a){return(a=a.match(/^(\s+)/))?a[1]:""}}).call(b.prototype);g.MatchingBraceOutdent=b;g.getOutdentColon=function(){return d};g.setOutdentColon=function(a){d=a};g.getOutdentRightParen=function(){return a};g.setOutdentRightParen=function(b){a=b};g.getOutdentLeftBrace=function(){return f};g.setOutdentLeftBrace=function(a){f=a};g.getOutdentRightBrace=function(){return e};g.setOutdentRightBrace=function(a){e=a};g.getOutdentRightBracket=function(){return i};g.setOutdentRightBracket=
function(a){i=a};g.getOutdentRightArrow=function(){return h};g.setOutdentRightArrow=function(a){h=a};g.getAlignDots=function(){return n};g.setAlignDots=function(a){n=a};g.getAlignEquals=function(){return l};g.setAlignEquals=function(a){l=a};g.getAlignStreamIn=function(){return r};g.setAlignStreamIn=function(a){r=a};g.getAlignStreamOut=function(){return p};g.setAlignStreamOut=function(a){p=a};g.getAlignClassAccessModifiers=function(){return D};g.setAlignClassAccessModifiers=function(a){D=a};g.getAlignCase=
function(){return A};g.setAlignCase=function(a){A=a}});define("mode/behaviour/cstyle",function(c,g){var k=c("ace/lib/oop"),j=c("ace/mode/behaviour").Behaviour;c("mode/cpp_code_model");c("mode/token_cursor");c("ace/mode/text");var b=!0,d=function(a){var c=a.$complements,d=function(a,b,d,e){var i=c[a];if(b==a)return b=d.getSelectionRange(),e=e.doc.getTextRange(b),""!==e?{text:a+e+i,selection:!1}:{text:a+i,selection:[1,1]};if(b==i&&(a=d.getCursorPosition(),e.doc.getLine(a.row)[a.column]==i&&null!==e.findMatchingBracket({row:a.row,column:a.column+1})))return{text:"",
selection:[1,1]}},i=function(a,b,d){var e=c[a],i=d.doc.getTextRange(b);if(!b.isMultiLine()&&i==a&&d.doc.getLine(b.start.row).substring(b.start.column+1,b.start.column+2)==e)return b.end.column++,b};this.add("R","insertion",function(a,b,c,d,e){if("R"===e||"r"===e)if(a=c.getCursorPosition(),d=(new String(d.doc.getLine(a.row))).match(/^(\s*)\/\*{3,}\s*/))return{text:"R\n"+d[1]+"\n"+d[1]+"*/",selection:[1,d[1].length,1,d[1].length]}});this.add("newline","insertion",function(b,c,d,e,f){if("\n"===f){var f=
d.selection.getCursor().row,i=d.selection.getCursor().column,c=e.getTabString(),g=d.getCursorPosition(),d=e.doc.getLine(g.row);if(!this.codeModel.inMacro(e.getDocument().$lines,f-1)){var j=/^(\s*\/\/'\s*)/.exec(d);if(j&&i>=j[1].length)return{text:"\n"+j[1]};if("comment"==b||"doc-start"==b)if(g&&g.row==f&&(d=d.substring(0,g.column)),b=/^(\s*\*+\s*)/.exec(d))return{text:"\n"+b[1],selection:[1,b[1].length,1,b[1].length]};if(/^\s*\/\*/.test(d)&&-1===d.indexOf("*/"))return e=this.$getIndent(d),c=e+" * ",
{text:"\n"+c+"\n"+e+" */",selection:[1,c.length,1,c.length]};for(b=i-1;/\s/.test(d[b]);)--b;b=d[b];i=d[i];if(j=d.match(/\s*namespace\s*\w*\s*{/))return e=this.$getIndent(d),{text:"\n"+e,selection:[1,e.length,1,e.length]};if("("==b&&")"==i||"["==b&&"]"==i)return f=this.$getIndent(d),e=f+c,{text:"\n"+e+"\n"+f,selection:[1,e.length,1,e.length]};if("{"==b&&"}"==i){if(/^\s*{/.test(d))return f=this.$getIndent(d),e=f+e.getTabString(),{text:"\n"+e+"\n"+f,selection:[1,e.length,1,e.length]};f=a.getRowForOpenBraceIndent(e,
f);if(null!==f&&0<=f)return f=this.$getIndent(e.getDocument().getLine(f)),e=f+e.getTabString(),{text:"\n"+e+"\n"+f,selection:[1,e.length,1,e.length]};f=this.$getIndent(d);e=f+c;return{text:"\n"+e+"\n"+f,selection:[1,e.length,1,e.length]}}}}});this.add("braces","insertion",function(a,c,f,i,g){if(this.insertMatching){if("{"==g&&(a=f.getSelectionRange(),""===i.doc.getTextRange(a))){a=this.codeModel.getTokenCursor();if(!a.moveToPosition(f.getCursorPosition()))return d("{",g,f,i);do if(!a.bwdToMatchingArrow()){c=
a.currentValue();if(!c||!c.length)break;if("namespace"===c)return{text:"{",selection:[1,1]};if("class"===c||"struct"===c||"="===c)return{text:"{};",selection:[1,1]};if(b&&"do"===c)return{text:"{} while ();",selection:[1,1]};if(";"===c||"["===c||"]"===c||"("===c||")"===c||"{"===c||"}"===c||"if"===c||"else"===c||"#"===c[0])return{text:"{}",selection:[1,1]}}while(a.moveToPreviousToken())}return d("{",g,f,i)}});this.add("braces","deletion",function(a,b,c,d,e){if(this.insertMatching&&(a=d.doc.getTextRange(e),
!e.isMultiLine()&&"{"==a)){a=d.doc.getLine(e.start.row);if(/^\s*do\s*\{\} while \(\);\s*$/.test(a))return e.end.column=a.length,e;d=a.substring(e.end.column,e.end.column+1);a=a.substring(e.end.column+1,e.end.column+2);if("}"==d)return e.end.column++,";"==a&&e.end.column++,e}});this.add("parens","insertion",function(a,b,c,f,i){return!this.insertMatching?void 0:d("(",i,c,f)});this.add("parens","deletion",function(a,b,c,d,e){return!this.insertMatching?void 0:i("(",e,d)});this.add("brackets","insertion",
function(a,b,c,f,i){return!this.insertMatching?void 0:d("[",i,c,f)});this.add("brackets","deletion",function(a,b,c,d,e){return!this.insertMatching?void 0:i("[",e,d)});this.add("string_dquotes","insertion",function(a,b,c,d,e){if(this.insertMatching&&('"'==e||"'"==e)){a=c.getSelectionRange();b=d.doc.getTextRange(a);if(""!==b)return{text:e+b+e,selection:!1};c=c.getCursorPosition();b=d.doc.getLine(c.row);if("\\"==b.substring(c.column-1,c.column))return null;for(var d=d.getTokens(a.start.row),f=0,i,g=
-1,j=0;j<d.length;j++){i=d[j];"string"==i.type?g=-1:0>g&&(g=i.value.indexOf(e));if(i.value.length+f>a.start.column)break;f+=d[j].value.length}if(!i||0>g&&"comment"!==i.type&&("string"!==i.type||a.start.column!==i.value.length+f-1&&i.value.lastIndexOf(e)===i.value.length-1))return{text:e+e,selection:[1,1]};if(i&&"string"===i.type&&b.substring(c.column,c.column+1)==e)return{text:"",selection:[1,1]}}});this.add("string_dquotes","deletion",function(a,b,c,d,e){if(this.insertMatching&&(a=d.doc.getTextRange(e),
!e.isMultiLine()&&('"'==a||"'"==a)))if(d=d.doc.getLine(e.start.row).substring(e.start.column+1,e.start.column+2),'"'===d||"'"===d)return e.end.column++,e});this.add("punctuation.operator","insertion",function(a,b,c,d,e){if(this.insertMatching&&";"===e&&(a=c.selection.getCursor(),";"==d.getLine(a.row)[a.column]))return{text:"",selection:[1,1]}});this.add("macro","insertion",function(a,b,c,d,e){var b=c.getPrintMarginColumn(),b=Math.min(62,b),f=d.getDocument().$lines,i=c.getCursorPosition(),g=i.row,
j=f[g],c=j.substring(0,i.column);if(/^\s*#\s*define[^\\]*$/.test(j)&&"\\"==e)return a=b-c.length+1,0<=a?{text:Array(a+1).join(" ")+"\\\n"+this.$getIndent(j)+d.getTabString(),selection:!1}:{text:"\\\n"+d.getTabString(),selection:!1};if(/^\s*#\s*define/.test(j)||this.codeModel.inMacro(f,g-1)){if("\\"==e&&/^\s*$/.test(j.substring(c.length,j.length)))return a=b-c.length+1,0<=a?{text:Array(a+1).join(" ")+"\\",selection:!1}:{text:"\\",selection:!1};if("\n"==e){if(/^\s*$/.test(j)||/^\s*#\s*define/.test(j)&&
!/\\\s*$/.test(j))return{text:"\n",selection:!1};if(/\\\s*$/.test(j)&&!/\\\s*$/.test(c))return{text:"",selection:[1,i.column,1,i.column]};d=d.getMode().getNextLineIndent(a,j+"\\",d.getTabString(),g,!1);a=b-c.length+1;e=/\\\s*$/.test(c)?"":"\\";return 0<=a?{text:Array(a+1).join(" ")+e+"\n"+d,selection:!1}:{text:e+"\n"+d,selection:!1}}}})};k.inherits(d,j);g.CStyleBehaviour=d;g.setFillinDoWhile=function(a){b=a};g.getFillinDoWhile=function(){return b}});define("mode/c_cpp_highlight_rules",function(c,g){var k=c("ace/lib/oop"),j=c("ace/lib/lang"),b=c("mode/doc_comment_highlight_rules").DocCommentHighlightRules,d=c("ace/mode/text_highlight_rules").TextHighlightRules,a=c("mode/tex_highlight_rules").TexHighlightRules,f=c("mode/r_highlight_rules").RHighlightRules,e=function(){function c(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var d=j.arrayToMap("alignas,alignof,and,and_eq,asm,auto,bitand,bitor,bool,break,case,catch,char,char16_t,char32_t,class,compl,const,constexpr,const_cast,continue,decltype,default,delete,do,double,dynamic_cast,else,enum,explicit,export,extern,false,float,for,friend,goto,if,inline,int,in,long,mutable,namespace,new,noexcept,not,not_eq,nullptr,or,or_eq,private,protected,public,register,reinterpret_cast,return,short,signed,sizeof,static,static_assert,static_cast,struct,switch,template,this,thread_local,throw,true,try,typedef,typeid,typeof,typename,union,unsigned,using,virtual,void,volatile,wchar_t,while,xor,xor_eq".split(",")),
e=j.arrayToMap(["NULL"]),g=">>=,<<=,new,delete,<<,>>,&&,||,==,!=,<=,>=,::,*=,+=,-=,/=,++,--,<>,&=,^=,%=,->,!,$,&,|,*,-,+,~,=".split(","),k=g.map(function(a){return c(a)}).join("|"),g=[",","()","[]","->*","->"].concat(g).map(function(a){return c(a)}),g=["new\\s*\\[\\]","delete\\s*\\[\\]"].concat(g),g="operator\\s*(?:"+g.join("|")+")|operator\\s+[\\w_]+";this.$rules={start:[{token:"comment.doc.tag",regex:"\\/\\/\\s*\\[\\[.*\\]\\].*$"},{token:"comment",regex:"\\/\\/'",next:"rd-start"},{token:"comment",
regex:"\\/\\/.*$"},b.getStartRule("doc-start"),{token:"comment",merge:!0,regex:"\\/\\*",next:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",merge:!0,regex:'["].*\\\\$',next:"qqstring"},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"string",merge:!0,regex:"['].*\\\\$",next:"qstring"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"0[bB][01']+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?(?:(?:[fF])|(?:(?:[uU]?(?:(?:l?l?)|(?:L?L?))?)|(?:(?:(?:l?l?)|(?:L?L?))[uU]?))|(?:_\\w+))?\\b"},
{token:"keyword.preproc",regex:"#\\s*include\\b",next:"include"},{token:"keyword.preproc",regex:"(?:"+"include,pragma,line,define,undef,ifdef,ifndef,if,else,elif,endif,warning,error".split(",").map(function(a){return"#\\s*"+a+"\\b"}).join("|")+")"},{token:"variable.language",regex:"\\b__\\S+__\\b"},{token:"keyword",regex:g},{token:function(a){return"this"==a?"variable.language":d.hasOwnProperty(a)?"keyword":e.hasOwnProperty(a)?"constant.language":"identifier"},regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},
{token:"keyword.operator",merge:!1,regex:k},{token:"punctuation.operator",merge:!1,regex:"\\?|\\:|\\,|\\;|\\.|\\\\"},{token:"paren.keyword.operator",merge:!1,regex:"[[({<]"},{token:"paren.keyword.operator",merge:!1,regex:"[\\])}>]"},{token:"text",regex:"\\s+"}],comment:[{token:"comment",regex:".*?\\*\\/",next:"start"},{token:"comment",merge:!0,regex:".+"}],qqstring:[{token:"string",regex:'(?:(?:\\\\.)|(?:[^"\\\\]))*?"',next:"start"},{token:"string",merge:!0,regex:".+"}],qstring:[{token:"string",regex:"(?:(?:\\\\.)|(?:[^'\\\\]))*?'",
next:"start"},{token:"string",merge:!0,regex:".+"}],include:[{token:"string",regex:/<.+>/,next:"start"},{token:"string",regex:/\".+\"/,next:"start"}]};k=(new a("comment")).getRules();for(g=0;g<k.start.length;g++)k.start[g].token+=".virtual-comment";this.addRules(k,"rd-");this.$rules["rd-start"].unshift({token:"text",regex:"^",next:"start"});this.$rules["rd-start"].unshift({token:"keyword",regex:"@(?!@)[^ ]*"});this.$rules["rd-start"].unshift({token:"comment",regex:"@@"});this.$rules["rd-start"].push({token:"comment",
regex:"[^%\\\\[({\\])}]+"});this.embedRules(b,"doc-",[b.getEndRule("start")]);this.$rules.start.unshift({token:"support.function.codebegin",regex:"^\\s*\\/\\*{3,}\\s*[Rr]\\s*$",next:"r-start"});this.addRules((new f).getRules(),"r-");this.$rules["r-start"].unshift({token:"support.function.codeend",regex:"\\*\\/",next:"start"})};k.inherits(e,d);g.c_cppHighlightRules=e});define("mode/c_cpp",function(c,g){var k=c("ace/lib/oop"),j=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("ace/range").Range;c("mode/r_highlight_rules");var a=c("mode/c_cpp_highlight_rules").c_cppHighlightRules,f=c("mode/c_cpp_matching_brace_outdent").MatchingBraceOutdent,e=c("mode/behaviour/cstyle").CStyleBehaviour,i=null;window.NodeWebkit||(i=c("mode/c_cpp_fold_mode").FoldMode);var h=c("mode/sweave_background_highlighter").SweaveBackgroundHighlighter,n=c("mode/r_code_model").RCodeModel,
l=c("mode/r_matching_brace_outdent").RMatchingBraceOutdent,r=c("mode/cpp_code_model").CppCodeModel;c("mode/token_cursor");var p=c("mode/utils"),D=function(c,d){this.$session=d;this.$doc=d.getDocument();this.$tokenizer=new b((new a).getRules());this.$r_outdent={};k.implement(this.$r_outdent,l);this.r_codeModel=new n(d,this.$tokenizer,/^r-/,/^\s*\/\*{3,}\s*([Rr])\s*$/);this.codeModel=new r(d,this.$tokenizer);this.$behaviour=new e(this.codeModel);this.$outdent=new f(this.codeModel);this.$sweaveBackgroundHighlighter=
new h(d,/^\s*\/\*{3,}\s*[Rr]\s*$/,/^\s*\*\/$/,!0);window.NodeWebkit||(this.foldingRules=new i);this.$tokens=this.codeModel.$tokens;this.getLineSansComments=this.codeModel.getLineSansComments};k.inherits(D,j);(function(){this.wrapInsert=function(a,b,c,d){return this.cursorInRLanguageMode()?j.prototype.wrapInsert(a,b,c,d):b.call(a,c,d)};this.wrapRemove=function(a,b,c){return this.cursorInRLanguageMode()?j.prototype.wrapRemove(a,b,c):b.call(a,c)};this.insertChunkInfo={value:"/*** R\n\n*/\n",position:{row:1,
column:0}};this.toggleCommentLines=function(a,b,c,e){for(var h=!0,a=/^(\s*)\/\//,f=c;f<=e;f++)if(!a.test(b.getLine(f))){h=!1;break}if(h){h=new d(0,0,0,0);for(f=c;f<=e;f++)c=b.getLine(f).match(a),h.start.row=f,h.end.row=f,h.end.column=c[0].length,b.replace(h,c[1])}else b.indentRows(c,e,"//")};this.getLanguageMode=function(a){return p.getPrimaryState(this.$session,a.row).match(/^r-/)?"R":"C_CPP"};this.cursorInRLanguageMode=function(){return"R"===this.getLanguageMode(this.$session.getSelection().getCursor())};
this.inRLanguageMode=function(a){return a.match(/^r-/)};this.getNextLineIndent=function(a,b,c,d,e){a=p.primaryState(a);return this.inRLanguageMode(a)?this.r_codeModel.getNextLineIndent(a,b,c,d):this.codeModel.getNextLineIndent(a,b,c,d,e)};this.checkOutdent=function(a,b,c){return this.inRLanguageMode(a)?this.$r_outdent.checkOutdent(a,b,c):this.$outdent.checkOutdent(a,b,c)};this.autoOutdent=function(a,b,c){return this.inRLanguageMode(a)?this.$r_outdent.autoOutdent(a,b,c,this.r_codeModel):this.$outdent.autoOutdent(a,
b,c)};this.$transformAction=this.transformAction;this.transformAction=function(a,b,c,d,e){a=p.primaryState(a);if(!this.inRLanguageMode(a))return this.$transformAction(a,b,c,d,e)}}).call(D.prototype);g.Mode=D});define("mode/c_cpp_fold_mode",function(c,g){var k=c("ace/lib/oop");c("ace/range");var j=c("ace/mode/folding/fold_mode").FoldMode,b=g.FoldMode=function(){};k.inherits(b,j);(function(){this.embeddedRComment=/^\s*\/\*{3,}\s+[Rr]\s*$/;this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/;this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/;this.getFoldWidget=function(b,a,c){b=b.getLine(c);return this.foldingStartMarker.test(b)&&!this.embeddedRComment.test(b)?"start":"markbeginend"==a&&this.foldingStopMarker&&
this.foldingStopMarker.test(b)?"end":""};this.getFoldWidgetRange=function(b,a,c){var e=b.getLine(c),i=e.match(this.foldingStartMarker);if(i)return a=i.index,i[1]?this.openingBracketBlock(b,i[1],c,a):b.getCommentFoldRange(c,a+i[0].length,1);if("markbeginend"===a&&(i=e.match(this.foldingStopMarker)))return a=i.index+i[0].length,i[1]?this.closingBracketBlock(b,i[1],c,a):b.getCommentFoldRange(c,a,-1)}}).call(b.prototype)});define("mode/xml",function(c,g){var k=c("ace/lib/oop"),j=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("mode/xml_highlight_rules").XmlHighlightRules,a=c("mode/xml_behavior").XmlBehaviour,f=c("mode/xml_fold_mode").FoldMode,e=function(){this.$tokenizer=new b((new d).getRules());this.$behaviour=new a;this.foldingRules=new f};k.inherits(e,j);(function(){this.getNextLineIndent=function(a,b){return this.$getIndent(b)}}).call(e.prototype);g.Mode=e});define("mode/xml_behavior",function(c,g){function k(a,b){var c=!0,d=a.type.split(".");b.split(".").forEach(function(a){if(-1==d.indexOf(a))return c=!1});return c}var j=c("ace/lib/oop"),b=c("ace/mode/behaviour").Behaviour,d=c("ace/mode/behaviour/cstyle").CstyleBehaviour,a=c("ace/token_iterator").TokenIterator,f=function(){this.inherit(d,["string_dquotes"]);this.add("autoclosing","insertion",function(b,c,d,f,g){if(">"==g){b=d.getCursorPosition();d=new a(f,b.row,b.column);f=d.getCurrentToken();c=!1;
if(!f||!k(f,"meta.tag")&&(!k(f,"text")||!f.value.match("/"))){do f=d.stepBackward();while(f&&(k(f,"string")||k(f,"keyword.operator")||k(f,"entity.attribute-name")||k(f,"text")))}else c=!0;if(f&&k(f,"meta.tag-name")&&!d.stepBackward().value.match("/"))return d=f.value,c&&(d=d.substring(0,b.column-f.start)),{text:"></"+d+">",selection:[1,1]}}});this.add("autoindent","insertion",function(a,b,c,d,f){if("\n"==f&&(b=c.getCursorPosition(),"</"==d.doc.getLine(b.row).substring(b.column,b.column+2)))return a=
this.$getIndent(d.doc.getLine(b.row))+d.getTabString(),d=this.$getIndent(d.doc.getLine(b.row)),{text:"\n"+a+"\n"+d,selection:[1,a.length,1,a.length]}})};j.inherits(f,b);g.XmlBehaviour=f});define("mode/xml_fold_mode",function(c,g){var k=c("ace/lib/oop"),j=c("ace/lib/lang"),b=c("ace/range").Range,d=c("ace/mode/folding/fold_mode").FoldMode,a=c("ace/token_iterator").TokenIterator,f=g.FoldMode=function(a){d.call(this);this.voidElements=a||{}};k.inherits(f,d);(function(){this.getFoldWidget=function(a,b,c){a=this._getFirstTagInLine(a,c);return a.closing?"markbeginend"==b?"end":"":!a.tagName||this.voidElements[a.tagName.toLowerCase()]||a.selfClosing||-1!==a.value.indexOf("/"+a.tagName)?"":
"start"};this._getFirstTagInLine=function(a,b){for(var c=a.getTokens(b),d="",f=0;f<c.length;f++)var g=c[f],d=0===g.type.indexOf("meta.tag")?d+g.value:d+j.stringRepeat(" ",g.value.length);return this._parseTag(d)};this.tagRe=/^(\s*)(<?(\/?)([-_a-zA-Z0-9:!]*)\s*(\/?)>?)/;this._parseTag=function(a){var b=this.tagRe.exec(a),c=this.tagRe.lastIndex||0;this.tagRe.lastIndex=0;return{value:a,match:b?b[2]:"",closing:b?!!b[3]:!1,selfClosing:b?!!b[5]||"/>"==b[2]:!1,tagName:b?b[4]:"",column:b[1]?c+b[1].length:
c}};this._readTagForward=function(a){var b=a.getCurrentToken();if(!b)return null;var c="",d;do if(0===b.type.indexOf("meta.tag")&&(d||(d={row:a.getCurrentTokenRow(),column:a.getCurrentTokenColumn()}),c+=b.value,-1!==c.indexOf(">")))return c=this._parseTag(c),c.start=d,c.end={row:a.getCurrentTokenRow(),column:a.getCurrentTokenColumn()+b.value.length},a.stepForward(),c;while(b=a.stepForward());return null};this._readTagBackward=function(a){var b=a.getCurrentToken();if(!b)return null;var c="",d;do if(0===
b.type.indexOf("meta.tag")&&(d||(d={row:a.getCurrentTokenRow(),column:a.getCurrentTokenColumn()+b.value.length}),c=b.value+c,-1!==c.indexOf("<")))return b=this._parseTag(c),b.end=d,b.start={row:a.getCurrentTokenRow(),column:a.getCurrentTokenColumn()},a.stepBackward(),b;while(b=a.stepBackward());return null};this._pop=function(a,b){for(;a.length;){var c=a[a.length-1];if(!b||c.tagName==b.tagName)return a.pop();if(this.voidElements[b.tagName])break;else if(this.voidElements[c.tagName])a.pop();else return null}};
this.getFoldWidgetRange=function(c,d,f){var g=this._getFirstTagInLine(c,f);if(!g.match)return null;d=[];if(g.closing||g.selfClosing){c=new a(c,f,g.column+g.match.length);for(g={row:f,column:g.column};f=this._readTagBackward(c);){if(f.selfClosing)if(d.length)continue;else return f.start.column+=f.tagName.length+2,f.end.column-=2,b.fromPoints(f.start,f.end);if(f.closing)d.push(f);else if(this._pop(d,f),0==d.length)return f.start.column+=f.tagName.length+2,b.fromPoints(f.start,g)}}else{c=new a(c,f,g.column);
for(g={row:f,column:g.column+g.tagName.length+2};f=this._readTagForward(c);){if(f.selfClosing)if(d.length)continue;else return f.start.column+=f.tagName.length+2,f.end.column-=2,b.fromPoints(f.start,f.end);if(f.closing){if(this._pop(d,f),0==d.length)return b.fromPoints(g,f.start)}else d.push(f)}}}}).call(f.prototype)});define("mode/xml_highlight_rules",function(c,g){var k=c("ace/lib/oop"),j=c("mode/xml_util"),b=c("ace/mode/text_highlight_rules").TextHighlightRules,d=function(){this.$rules={start:[{token:"text",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:"xml_pe",regex:"<\\?.*?\\?>"},{token:"comment",merge:!0,regex:"<\\!--",next:"comment"},{token:"xml_pe",regex:"<\\!.*?>"},{token:"meta.tag",regex:"<\\/?",next:"tag"},{token:"text",regex:"\\s+"},{token:"constant.character.entity",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"},
{token:"text",regex:"[^<]+"}],cdata:[{token:"text",regex:"\\]\\]>",next:"start"},{token:"text",regex:"\\s+"},{token:"text",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment",regex:".*?--\>",next:"start"},{token:"comment",merge:!0,regex:".+"}]};j.tag(this.$rules,"tag","start")};k.inherits(d,b);g.XmlHighlightRules=d});define("mode/xml_util",function(c,g){function k(c,b){return[{token:"string",merge:!0,regex:".*?"+c,next:b},{token:"string",merge:!0,regex:".+"}]}g.tag=function(c,b,d,a){c[b]=[{token:"text",regex:"\\s+"},{token:function(b){return a&&a[b]?"meta.tag.tag-name."+a[b]:"meta.tag.tag-name"},merge:!0,regex:"[-_a-zA-Z0-9:]+",next:b+"_embed_attribute_list"},{token:"empty",regex:"",next:b+"_embed_attribute_list"}];c[b+"_qstring"]=k("'",b+"_embed_attribute_list");c[b+"_qqstring"]=k('"',b+"_embed_attribute_list");
c[b+"_embed_attribute_list"]=[{token:"meta.tag",merge:!0,regex:"/?>",next:d},{token:"keyword.operator",regex:"="},{token:"entity.other.attribute-name",regex:"[-_a-zA-Z0-9:]+"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"text",regex:"\\s+"}].concat([{token:"string",regex:'".*?"'},{token:"string",merge:!0,regex:'["].*',next:b+"_qqstring"},{token:"string",regex:"'.*?'"},{token:"string",merge:!0,regex:"['].*",next:b+"_qstring"}])}});define("mode/stan_highlight_rules",function(c,g){var k=c("ace/lib/oop"),j=c("ace/lib/lang"),b=c("ace/mode/text_highlight_rules").TextHighlightRules,d=function(){var a=j.arrayToMap(["print","increment_log_prob","integrate_ode","reject"]);this.$rules={start:[{token:"comment",regex:"\\/\\/.*$"},{token:"comment",regex:"#.*$"},{token:"comment",merge:!0,regex:"\\/\\*",next:"comment"},{token:"keyword.blockid",regex:"functions|data|transformed\\s+data|parameters|transformed\\s+parameters|model|generated\\s+quantities"},
{token:"string",regex:'["][^"]*["]'},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"keyword.operator",regex:"\\bT(?=\\s*\\[)"},{token:function(b){return a.hasOwnProperty(b)?"keyword":"support.function"},regex:"[a-zA-Z$][a-zA-Z0-9_$]*\\b(?=\\s*\\()"},{token:this.createKeywordMapper({keyword:"for|in|while|if|then|else|return|lower|upper|print|increment_log_prob|integrate_ode|reject","storage.type":"int|real|vector|simplex|unit_vector|ordered|positive_ordered|row_vector|matrix|cholesky_factor_cov|cholesky_factor_corr|corr_matrix|cov_matrix|void",
"variable.language":"lp__"},"identifier",!1),regex:"[a-zA-Z$][a-zA-Z0-9_$]*\\b\\b"},{token:"keyword.operator",regex:"<-|~"},{token:"keyword.operator",regex:"\\|\\||&&|==|!=|<=?|>=?|\\+|-|\\.?\\*|\\.?/|\\\\|\\^|!|'|%"},{token:"punctuation.operator",regex:":|,|;|="},{token:"paren.lparen.keyword.operator",regex:"[\\[\\(\\{]"},{token:"paren.rparen.keyword.operator",regex:"[\\]\\)\\}]"},{token:"text",regex:"\\s+"}],comment:[{token:"comment",regex:".*?\\*\\/",next:"start"},{token:"comment",merge:!0,regex:".+"}]}};
k.inherits(d,b);g.StanHighlightRules=d});define("mode/stan",function(c,g){var k=c("ace/lib/oop"),j=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("ace/mode/matching_brace_outdent").MatchingBraceOutdent,a=c("mode/stan_highlight_rules").StanHighlightRules,f=c("ace/mode/folding/cstyle").FoldMode,e=function(){this.$highlightRules=new a;this.$tokenizer=new b(this.$highlightRules.getRules());this.$outdent=new d;this.foldingRules=new f};k.inherits(e,j);(function(){this.lineCommentStart=["//","#"];this.blockComment={start:"/*",end:"*/"};
this.toggleCommentLines=function(a,b,c,d){for(var e=!0,a=/^(\s*)\/\//,f=c;f<=d;f++)if(!a.test(b.getLine(f))){e=!1;break}if(e){e=new Range(0,0,0,0);for(f=c;f<=d;f++)c=b.getLine(f).match(a),e.start.row=f,e.end.row=f,e.end.column=c[0].length,b.replace(e,c[1])}else b.indentRows(c,d,"//")};this.getLanguageMode=function(){return"Stan"};this.getNextLineIndent=function(a,b,c){var d=this.$getIndent(b),e=this.getTokenizer().getLineTokens(b,a).tokens;if(e.length&&"comment"==e[e.length-1].type)return d;"start"==
a&&b.match(/^.*(?:[\{\(\[])\s*$/)&&(d+=c);return d};this.checkOutdent=function(a,b,c){return this.$outdent.checkOutdent(b,c)};this.autoOutdent=function(a,b,c){this.$outdent.autoOutdent(b,c)};this.$id="mode/stan"}).call(e.prototype);g.Mode=e});define("theme/default",function(c,g){c("ace/lib/dom");g.cssClass="ace-rs"});