if(!String.prototype.trimRight){var trimEndRegexp=/\s\s*$/;String.prototype.trimRight=function(){return(""+this).replace(trimEndRegexp,"")}}
define("rstudio/loader",function(c,g){var j=c("ace/lib/oop");c("ace/lib/event");c("ace/lib/event_emitter");var i=c("ace/editor").Editor,b=c("ace/edit_session").EditSession,d=c("ace/undomanager").UndoManager,a=c("ace/range").Range,e=function(e,a){i.call(this,e,a);this.setBehavioursEnabled(!0)};j.inherits(e,i);(function(){this.remove=function(e){return this.session.getMode().wrapRemove?this.session.getMode().wrapRemove(this,i.prototype.remove,e):i.prototype.remove.call(this,e)};this.undo=function(){i.prototype.undo.call(this);
this._dispatchEvent("undo")};this.redo=function(){i.prototype.redo.call(this);this._dispatchEvent("redo")}}).call(e.prototype);var f=function(e,a){b.call(this,e,a)};j.inherits(f,b);(function(){this.insert=function(e,a){return this.getMode().wrapInsert?this.getMode().wrapInsert(this,b.prototype.insert,e,a):b.prototype.insert.call(this,e,a)};this.reindent=function(e){var a=this.getMode();if(a.getNextLineIndent){for(var f=e.start.row,e=e.end.row,b=f;b<=e;b++)if(0==b)this.applyIndent(b,"");else{var d=
this.getState(b-1);if(!("qstring"==d||"qqstring"==d)){var h=this.getLine(b-1);this.getLine(b);h=a.getNextLineIndent(d,h,this.getTabString(),this.getTabSize(),b-1,!0);this.applyIndent(b,h);a.autoOutdent(d,this,b)}}a=a.codeModel;"undefined"!==typeof a&&(a=a.alignContinuationSlashes,"undefined"!==typeof a&&a(this.getDocument(),{start:f,end:e}))}};this.applyIndent=function(e,f){var b=this.getLine(e).match(/^\s*/g)[0].length;this.replace(new a(e,0,e,b),f)};this.setDisableOverwrite=function(e){e?(this.setOverwrite(!1),
this.setOverwrite=function(){},this.getOverwrite=function(){return!1}):(this.setOverwrite=b.prototype.setOverwrite,this.getOverwrite=b.prototype.getOverwrite)}}).call(f.prototype);var h=function(){d.call(this)};j.inherits(h,d);(function(){this.peek=function(){return this.$undoStack.length?this.$undoStack[this.$undoStack.length-1]:null}}).call(h.prototype);g.loadEditor=function(a){var b;function d(e){b.commands.removeCommand(e)}b=void 0;var i=c("ace/virtual_renderer").VirtualRenderer,n=c("ace/mode/text").Mode;
b=new e(new i(a,{}),new f(""));a=b.getSession();a.setMode(new n);a.setUndoManager(new h);d("findnext");d("findprevious");d("find");d("replace");d("togglecomment");d("gotoline");d("foldall");d("unfoldall");d("touppercase");d("tolowercase");return b}});define("mode/auto_brace_insert",function(c,g){var j=c("ace/range").Range,i=c("ace/mode/text").Mode;(function(){this.$complements={"(":")","[":"]",'"':'"',"{":"}"};this.$reOpen=/^[(["{]$/;this.$reClose=/^[)\]"}]$/;this.$reStop=/^[;,\s)\]}]$/;this.wrapInsert=function(b,d,a,e){if(!this.insertMatching)return d.call(b,a,e);var f=b.selection.getCursor();if(f=b.selection.isEmpty()&&a.row==f.row&&a.column==f.column){var h=j.fromPoints(a,{row:a.row,column:a.column+1}),c=b.doc.getTextRange(h);if(this.$reClose.test(c)&&
c==e){b.selection.moveCursorTo(h.end.row,h.end.column,!1);return}}h=null;f&&(h=this.$moveLeft(b.doc,a),h=b.doc.getTextRange(j.fromPoints(h,a)));d=d.call(b,a,e);if(f&&this.$reOpen.test(e)){if(a=j.fromPoints(d,{row:d.row,column:d.column+1}),a=b.doc.getTextRange(a),(this.$reStop.test(a)||0==a.length)&&this.allowAutoInsert(b,d,this.$complements[e]))b.doc.insert(d,this.$complements[e]),b.selection.moveCursorTo(d.row,d.column,!1)}else if(f&&"\n"===e&&(e=this.$moveRight(b.doc,d),e=b.doc.getTextRange(j.fromPoints(d,
e)),"{"===h&&"}"===e||"("===h&&")"===e||"["===h&&"]"===e))a=this.getIndentForOpenBrace?this.getIndentForOpenBrace(this.$moveLeft(b.doc,a)):this.$getIndent(b.doc.getLine(d.row-1)),b.doc.insert(d,"\n"+a),b.selection.moveCursorTo(d.row,d.column,!1);return d};this.allowAutoInsert=function(){return!0};this.smartAllowAutoInsert=function(b,d,a){return"'"!==a&&'"'!==a||0==d.column?!0:(b=this.codeModel.getTokenForPos(d,!1,!0))&&"string"===b.type&&b.column===d.column-1};this.wrapRemove=function(b,d,a){var e=
b.selection.getCursor(),f=b.session.getDocument();if(!this.insertMatching||"left"!=a||!b.selection.isEmpty()||b.$readOnly||0==e.column||f.getLine(e.row).length<=e.column)return d.call(b,a);var h=j.fromPoints(this.$moveLeft(f,e),e),e=j.fromPoints(e,this.$moveRight(f,e)),h=f.getTextRange(h),f=this.$reOpen.test(h)&&this.$complements[h]==f.getTextRange(e);d.call(b,a);f&&d.call(b,"right")};this.$moveLeft=function(b,d){if(0==d.row&&0==d.column)return d;var a=d.row,e=d.column;e?e--:(a--,e=b.getLine(a).length);
return{row:a,column:e}};this.$moveRight=function(b,d){var a=d.row,e=d.column;b.getLine(a).length!=e?e++:(a++,e=0);return a>=b.getLength()?d:{row:a,column:e}}}).call(i.prototype);g.setInsertMatching=function(b){i.prototype.insertMatching=b}});define("mode/token_utils",function(c,g){var j=function(c,b,d,a,e){this.$doc=c;this.$tokenizer=b;this.$tokens=d;this.$endStates=Array(c.getLength());this.$statePattern=a;this.$codeBeginPattern=e};(function(){this.getTokenForPos=function(c,b,d){this.$tokenizeUpToRow(c.row);if(this.$tokens.length<=c.row)return null;for(var a=this.$tokens[c.row],e=0;e<a.length;e++){var f=a[e];if(b&&c.column==f.column)return f;if(c.column<=f.column)break;if(d&&c.column==f.column+f.value.length||c.column<f.column+f.value.length)return f}return null};
this.$tokenizeUpToRow=function(c){for(var c=Math.min(c,this.$doc.getLength()-1),b=0,d=!0;b<=c;b++)if(!d||!this.$endStates[b]){var d=!1,a=0===b?"start":this.$endStates[b-1],e=this.$tokenizer.getLineTokens(this.$doc.getLine(b),a);this.$tokens[b]=!this.$statePattern||this.$statePattern.test(e.state)||this.$statePattern.test(a)?this.$filterWhitespaceAndComments(e.tokens):[];e.state===this.$endStates[b]?d=!0:this.$endStates[b]=e.state}d||b<this.$tokens.length&&this.$invalidateRow(b);return!0};this.$filterWhitespaceAndComments=
function(c){for(var c=c.filter(function(e){e=/\bcode(?:begin|end)\b/.test(e.type)||/\bsectionhead\b/.test(e.type)?!1:/^\s*$/.test(e.value)||e.type.match(/\b(?:ace_virtual-)?comment\b/);return!e}),b=c.length-1;0<=b;b--)if(1<c[b].value.length&&/\bparen\b/.test(c[b].type)){var d=c[b];c.splice(b,1);for(var a=d.value.length-1;0<=a;a--){var e={type:d.type,value:d.value.charAt(a),column:d.column+a};c.splice(b,0,e)}}return c};this.$invalidateRow=function(c){this.$tokens[c]=null;this.$endStates[c]=null};this.$insertNewRows=
function(c,b){for(var d=[c,0],a=0;a<b;a++)d.push(null);this.$tokens.splice.apply(this.$tokens,d);this.$endStates.splice.apply(this.$endStates,d)};this.$removeRows=function(c,b){this.$tokens.splice(c,b);this.$endStates.splice(c,b)};this.$walkParens=function(c,b,d){var a=/\bparen\b/;return c<b?function(){for(;c<=b;c++)for(var e=this.$tokens[c],f=0;f<e.length;f++)if(a.test(e[f].type)&&!d(e[f].value,{row:c,column:e[f].column}))return!1;return!0}.call(this):function(){c=Math.max(0,c);for(b=Math.max(0,
b);c>=b;c--)for(var e=this.$tokens[c],f=e.length-1;0<=f;f--)if(a.test(e[f].type)&&!d(e[f].value,{row:c,column:e[f].column}))return!1;return!0}.call(this)};this.$walkParensBalanced=function(c,b,d,a,e){var f=[],h=null;this.$walkParens(c,b,function(b,c){if(d&&d(f,b,c))return h=c,!1;if(/[\[({]/.test(b))if(f[f.length-1]===e[b])f.pop();else return!0;else f.push(b);return a&&a(f,b,c)?(h=c,!1):!0});return h};this.$findNextSignificantToken=function(c,b){if(0==this.$tokens.length)return null;for(var b=Math.min(b,
this.$tokens.length-1),d=c.row,a=c.column;d<=b;d++){for(var e=this.$tokens[d],f=0;f<e.length;f++)if(e[f].column+e[f].value.length>a)return{token:e[f],row:d,column:Math.max(e[f].column,a),offset:f};a=0}return null};this.findNextSignificantToken=function(c){return this.$findNextSignificantToken(c,this.$tokens.length-1)};this.$findPreviousSignificantToken=function(c,b){if(0==this.$tokens.length)return null;for(var b=Math.max(0,b),d=Math.min(c.row,this.$tokens.length-1);d>=b;d--){var a=this.$tokens[d];
if(0!=a.length){if(d!=c.row)return{row:d,column:a[a.length-1].column,token:a[a.length-1],offset:a.length-1};for(var e=a.length-1;0<=e;e--)if(a[e].column<c.column)return{row:d,column:a[e].column,token:a[e],offset:e}}}return null}}).call(j.prototype);g.TokenUtils=j});define("mode/token_cursor",function(c,g){var j=c("ace/lib/oop"),i=function(a,e,b){this.$tokens=a;this.$row=e||0;this.$offset=b||0};(function(){var a={"(":")","{":"}","<":">","[":"]",")":"(","}":"{",">":"<","]":"["};this.moveToStartOfRow=function(e){this.$row=e;this.$offset=0};this.moveToPreviousToken=function(){if(0===this.$row&&0===this.$offset)return!1;if(0<this.$offset)return this.$offset--,!0;for(var e=this.$row-1,a=0;0<=e;){var b=this.$tokens[e];if(b&&0!==b.length){a=b.length;break}e--}if(0>
e)return!1;this.$row=e;this.$offset=a-1;return!0};this.moveToNextToken=function(e){"undefined"===typeof e&&(e=(this.$tokens||[]).length);if(this.$row>e)return!1;var a=this.$tokens[this.$row];if(a&&this.$offset<a.length-1)return this.$offset++,!0;for(var b=this.$row+1;b<=e&&!((a=this.$tokens[b])&&0!==a.length);)b++;if(b>e)return!1;this.$row=b;this.$offset=0;return!0};this.peekBwd=function(e){"undefined"===typeof e&&(e=1);for(var a=this.cloneCursor(),b=0;b<e;b++)if(!a.moveToPreviousToken())return a.$invalidate();
return a};this.peekFwd=function(e){"undefined"===typeof e&&(e=1);for(var a=this.cloneCursor(),b=0;b<e;b++)if(!a.moveToNextToken())return a.$invalidate();return a};this.$invalidate=function(){this.$column=this.$row=0;this.$tokens=[];return this};this.seekToNearestToken=function(e,a){if(e.row>a)return!1;this.$row=e.row;var b=this.$tokens[this.$row]||[];for(this.$offset=0;this.$offset<b.length;this.$offset++)if(b[this.$offset].column>=e.column)return!0;return e.row<a?this.moveToNextToken(a):!1};this.bwdToNearestToken=
function(e){this.$row=e.row;this.$offset=e.column;for(var a=this.$tokens[this.$row]||[];0<=this.$offset;this.$offset--){var b=a[this.$offset];if("undefined"!==typeof b&&b.column<=e.column)return!0}return this.moveToPreviousToken()};this.bwdToMatchingToken=function(){var e=this.currentValue(),b=a[e];if(![")","}","]"].some(function(a){return a===e}))return!1;for(var d=0;this.moveToPreviousToken();)if(this.currentValue()===b){if(0===d)return!0;d--}else this.currentValue()===e&&d++;return!1};this.fwdToMatchingToken=
function(){var e=this.currentValue(),b=a[e];if(!["(","{","["].some(function(a){return a===e}))return!1;for(var d=0;this.moveToNextToken();)if(this.currentValue()===b){if(0===d)return!0;d--}else this.currentValue()===e&&d++;return!1};this.equals=function(e){return this.$row===e.$row&&this.$offset===e.$offset};this.bwdToMatchingTokenShortCircuit=function(e){var b=this.currentValue(),d=a[b];if(!"),},],>,',\"".split(",").some(function(e){return e===b}))return!1;for(var c=0;this.moveToPreviousToken()&&
!e(this);)if(this.currentValue()===d){if(0===c)return!0;c--}else this.currentValue()===b&&c++;return!1};this.moveBackwardOverMatchingParens=function(){if(!this.moveToPreviousToken())return!1;if(")"!==this.currentValue())return this.moveToNextToken(),!1;for(var e=!1,a=0;this.moveToPreviousToken();)if("("===this.currentValue()){if(0===a){e=!0;break}a--}else")"===this.currentValue()&&a++;return e};this.findToken=function(e,a){do{var b=this.currentToken();if(b&&e(b))return b}while(this.moveToNextToken(a));
return null};this.findTokenBwd=function(a,b){do{var d=this.currentToken();if(d&&a(d))return d}while(this.moveToPreviousToken(b));return null};this.currentToken=function(){var a=(this.$tokens[this.$row]||[])[this.$offset];return"undefined"===typeof a?{}:a};this.currentValue=function(){return this.currentToken().value};this.currentType=function(){return this.currentToken().type};this.currentPosition=function(){var a=this.currentToken();return null===a?null:{row:this.$row,column:a.column}};this.cloneCursor=
function(){return new this.constructor(this.$tokens,this.$row,this.$offset)};this.isFirstSignificantTokenOnLine=function(){return 0===this.$offset};this.isLastSignificantTokenOnLine=function(){return this.$offset==(this.$tokens[this.$row]||[]).length-1};this.bwdUntil=function(a){for(;!a(this);)this.moveToPreviousToken()};this.bwdWhile=function(a){for(;a(this);)this.moveToPreviousToken()};this.moveToPosition=function(a){var b=a.row,a=a.column,d=this.$tokens[b];if(d&&0<d.length&&d[0].column<a){for(var c=
1;c<d.length&&!(d[c].column>=a);c++);this.$row=b;this.$offset=c-1;return!0}a=this.cloneCursor();a.$row=b;a.$offset=0;return a.moveToPreviousToken()?(this.$row=a.$row,this.$offset=a.$offset,!0):!1};this.findOpeningBracket=function(a,b){"[object Array]"===Object.prototype.toString.call(a)||(a=[a]);var d=this.cloneCursor();do{var c=d.currentValue();if(b&&"{"===c)break;for(var l=0;l<a.length;l++)if(c===a[l])return this.$row=d.$row,this.$offset=d.$offset,!0;d.bwdToMatchingToken()}while(d.moveToPreviousToken());
return!1};this.findOpeningBracketCountCommas=function(a,b){"[object Array]"===Object.prototype.toString.call(a)||(a=[a]);var d=this.cloneCursor(),c=0;do{var l=d.currentValue();/,\s*$/.test(d.currentValue())&&"text"===d.currentType()&&(c+=l.length-l.replace(/,/g,"").length);if(b&&"{"===l)break;for(var o=0;o<a.length;o++)if(l===a[o])return this.$row=d.$row,this.$offset=d.$offset,c;d.bwdToMatchingToken()}while(d.moveToPreviousToken());return-1}}).call(i.prototype);var b=function(a,b,d){this.$tokens=
a;this.$row=b||0;this.$offset=d||0};j.mixin(b.prototype,i.prototype);(function(){this.bwdOverConstNoexceptDecltype=function(){var a=this.cloneCursor();if("{"!==a.currentValue()||!a.moveToPreviousToken())return!1;var b=a.cloneCursor();")"===b.currentValue()&&b.bwdToMatchingToken()&&b.moveToPreviousToken()&&"decltype"===b.currentValue()&&b.moveToPreviousToken()&&(a.$row=b.$row,a.$offset=b.$offset);b=a.cloneCursor();")"===b.currentValue()&&b.bwdToMatchingToken()&&b.moveToPreviousToken()&&"noexcept"===
b.currentValue()&&(a.$row=b.$row,a.$offset=b.$offset);if("noexcept"===a.currentValue()&&!a.moveToPreviousToken()||"const"===a.currentValue()&&!a.moveToPreviousToken()||")"===a.currentValue()&&!a.moveToNextToken())return!1;this.$row=a.$row;this.$offset=a.$offset;return!0};this.bwdToMatchingArrow=function(){if(">"!==this.currentValue())return!1;for(var a=0,b=this.cloneCursor();b.moveToPreviousToken();)if("<"===b.currentValue()){if(0===a)return this.$row=b.$row,this.$offset=b.$offset,!0;a--}else">"===
b.currentValue()&&a++;return!1};this.bwdOverClassySpecifiers=function(){var a=this.currentValue();(":"===a||","===a||"{"===a)&&this.moveToPreviousToken();do{this.bwdToMatchingArrow()&&this.moveToPreviousToken();var a=this.currentType(),b=this.currentValue();if(!("keyword"===a||"::"===b||"identifier"===a||"constant"===a))break;if("class"===b||"struct"===b||"enum"===b||":"===b||","===b)return!0}while(this.moveToPreviousToken());return!1};this.bwdOverClassInheritance=function(){var b=this.cloneCursor();
return a(b,this)};var a=function(b,d){b.bwdOverClassySpecifiers();var c=b.currentValue();if(","===c)return a(b,d);return":"===c?(d.$row=b.$row,d.$offset=b.$offset,!0):!1};this.bwdOverInitializationList=function(){return this.doBwdOverInitializationList(this.cloneCursor(),this)};this.doBwdOverInitializationList=function(a,b){a.moveBackwardOverMatchingParens();if(!a.moveBackwardOverMatchingParens()&&!a.moveToPreviousToken())return!1;for(;"keyword"===a.currentType();)if(!a.moveToPreviousToken())return!1;
if(a.moveToPreviousToken()){var d=a.currentValue();if(","===d)return this.doBwdOverInitializationList(a,b);if(":"===d){var c=a.peekBwd().currentValue();if(!["public","private","protected"].some(function(a){return a===c}))return b.$row=a.$row,b.$offset=a.$offset,!0}}return!1}}).call(b.prototype);var d=function(a,b,d){this.$tokens=a;this.$row=b||0;this.$offset=d||0};j.mixin(d.prototype,i.prototype);(function(){this.isValidAsIdentifier=function(){var a=this.currentType();return"identifier"===a||"symbol"===
a||"keyword"===a||"string"===a||-1!==a.indexOf("constant")};this.isLookingAtInfixySymbol=function(){var a=this.currentValue();return"$"===a||"@"===a||":"===a||-1!==this.currentType().indexOf("infix")?!0:!1};this.findStartOfEvaluationContext=function(){var a=this.cloneCursor();do if(!a.bwdToMatchingToken()){if(a.isValidAsIdentifier()){if(!a.moveToPreviousToken())break;if(a.isLookingAtInfixySymbol()){for(;a.isLookingAtInfixySymbol();)if(!a.moveToPreviousToken())return!1;if(!a.moveToNextToken())return!1;
continue}if(!a.moveToNextToken())return!1;break}return!1}while(a.moveToPreviousToken());this.$row=a.$row;this.$offset=a.$offset;return!0}}).call(d.prototype);g.TokenCursor=i;g.CppTokenCursor=b;g.RTokenCursor=d});define("mode/r_background_highlighter",function(c,g){var j=c("ace/range").Range,i=function(b){this.$session=b;this.$doc=b.getDocument();var d=this;this.$doc.on("change",function(a){d.$onDocChange.apply(d,[a])});this.$rowState=Array(this.$doc.getLength());this.$markers=[];for(b=0;b<this.$doc.getLength();b++)this.$updateRow(b);this.$syncMarkers(0)};(function(){this.$updateRow=function(b){this.$rowState[b]=this.$doc.getLine(b).match("^\\s*#+'.*$")?!0:!1};this.$syncMarkers=function(b,d){"undefined"==
typeof d&&(d=this.$doc.getLength()-1);for(var a=b;a<=d;a++)!!this.$rowState[a]!=!!this.$markers[a]&&(this.$rowState[a]?this.$markers[a]=this.$session.addMarker(new j(a,0,a,this.$session.getLine(a).length),"ace_foreign_line","background",!1):(this.$session.removeMarker(this.$markers[a]),delete this.$markers[a]))};this.$insertNewRows=function(b,d){var a=Array(d+2);a[0]=b;a[1]=0;Array.prototype.splice.apply(this.$rowState,a)};this.$removeRows=function(b,d){this.$rowState.splice(b,d)};this.$onDocChange=
function(b){b=b.data;if("insertLines"===b.action){var d=b.range.end.row-b.range.start.row;this.$insertNewRows(b.range.start.row,d);for(var a=0;a<d;a++)this.$updateRow(b.range.start.row+a);this.$syncMarkers(b.range.start.row)}else"insertText"===b.action?this.$doc.isNewLine(b.text)?(this.$insertNewRows(b.range.end.row,1),this.$updateRow(b.range.start.row),this.$updateRow(b.range.start.row+1),this.$syncMarkers(b.range.start.row)):(this.$updateRow(b.range.start.row),this.$syncMarkers(b.range.start.row,
b.range.start.row)):"removeLines"===b.action?(this.$removeRows(b.range.start.row,b.range.end.row-b.range.start.row),this.$updateRow(b.range.start.row),this.$syncMarkers(b.range.start.row)):"removeText"===b.action&&(this.$doc.isNewLine(b.text)?(this.$removeRows(b.range.end.row,1),this.$updateRow(b.range.start.row),this.$syncMarkers(b.range.start.row)):(this.$updateRow(b.range.start.row),this.$syncMarkers(b.range.start.row,b.range.start.row)))}}).call(i.prototype);g.RBackgroundHighlighter=i});define("mode/r_highlight_rules",function(c,g){var j=c("ace/lib/oop"),i=c("ace/lib/lang"),b=c("ace/mode/text_highlight_rules").TextHighlightRules,d=c("mode/tex_highlight_rules").TexHighlightRules,a=function(){var a=i.arrayToMap("function,if,in,break,next,repeat,else,for,return,switch,while,try,tryCatch,stop,warning,require,library,attach,detach,source,setMethod,setGeneric,setGroupGeneric,setClass,setRefClass".split(",")),b=i.arrayToMap("NULL,NA,TRUE,FALSE,T,F,Inf,NaN,NA_integer_,NA_real_,NA_character_,NA_complex_".split(","));
this.$rules={start:[{token:"comment.sectionhead",regex:"#+(?!').*(?:----|====|####)\\s*$"},{token:"comment",regex:"#+'",next:"rd-start"},{token:"comment",regex:"#.*$"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"string",merge:!0,regex:'["]',next:"qqstring"},{token:"string",merge:!0,regex:"[']",next:"qstring"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+[Li]?\\b"},{token:"constant.numeric",regex:"\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?[iL]?\\b"},
{token:"constant.numeric",regex:"\\.\\d+(?:[eE][+\\-]?\\d*)?[iL]?\\b"},{token:"constant.language.boolean",regex:"(?:TRUE|FALSE|T|F)\\b"},{token:"identifier",regex:"`.*?`"},{token:function(d){return a[d]?"keyword":b[d]?"constant.language":d.match(/^\.\.\d+$/)?"variable.language":"identifier"},regex:"[a-zA-Z.][a-zA-Z0-9._]*"},{token:"keyword.operator",regex:"%%|>=|<=|==|!=|\\->|<\\-|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||~|\\$|:|@"},{token:"keyword.operator.infix",regex:"%.*?%"},{token:"paren.keyword.operator",
regex:"[[({]"},{token:"paren.keyword.operator",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],qqstring:[{token:"string",regex:'(?:(?:\\\\.)|(?:[^"\\\\]))*?"',next:"start"},{token:"string",regex:".+",merge:!0}],qstring:[{token:"string",regex:"(?:(?:\\\\.)|(?:[^'\\\\]))*?'",next:"start"},{token:"string",regex:".+",merge:!0}]};for(var c=(new d("comment")).getRules(),k=0;k<c.start.length;k++)c.start[k].token+=".virtual-comment";this.addRules(c,"rd-");this.$rules["rd-start"].unshift({token:"text",regex:"^",
next:"start"});this.$rules["rd-start"].unshift({token:"keyword",regex:"@(?!@)[^ ]*"});this.$rules["rd-start"].unshift({token:"comment",regex:"@@"});this.$rules["rd-start"].push({token:"comment",regex:"[^%\\\\[({\\])}]+"})};j.inherits(a,b);g.RHighlightRules=a});define("mode/r_matching_brace_outdent",function(c,g){var j=c("ace/range").Range,i={};(function(){this.checkOutdent=function(b,d,a){return/^\s+$/.test(d)&&/^\s*[\{\}\)]/.test(a)||/^\s*}\s*$/.test(d)&&"\n"==a||/}\s*$/.test(d)&&/\n/.test(a)?!0:!1};this.autoOutdent=function(b,d,a,c){if(0===a)return 0;var b=d.getLine(a),f=b.match(/^(\s*[\}\)])/);if(f){var f=f[1].length,h=d.findMatchingBracket({row:a,column:f});if(!h||h.row==a)return 0;h=c.getIndentForOpenBrace(h);d.replace(new j(a,0,a,f-1),h)}if(f=b.match(/^(\s*\{)/))f=
f[1].length,h=c.getBraceIndent(a-1),d.replace(new j(a,0,a,f-1),h)}}).call(i);g.RMatchingBraceOutdent=i});define("mode/r_code_model",function(c,g){function j(a,b){for(var d=0;d<b.length;d++)if(a===b[d])return!0;return!1}var i=c("ace/range").Range,b=c("ace/token_iterator").TokenIterator,d=c("mode/token_cursor").RTokenCursor,a=!1,e=c("mode/r_scope_tree").ScopeManager,f=c("mode/r_scope_tree").ScopeNode,h=function(a,b,d,c){this.$doc=a;this.$tokenizer=b;this.$tokens=Array(a.getLength());this.$endStates=Array(a.getLength());this.$statePattern=d;this.$codeBeginPattern=c;this.$scopes=new e(f);var h=this;this.$doc.on("change",
function(a){h.$onDocChange.apply(h,[a])})};(function(){function c(a){return"keyword"==a.type&&"function"==a.value}function e(a){return/\boperator\b/.test(a.type)&&/^(=|<-|<<-)$/.test(a.value)}function f(a){return/\bidentifier\b/.test(a.type)}function h(a){var b=a.cloneCursor();if("{"!==b.currentValue()||!b.moveBackwardOverMatchingParens()||!b.moveToPreviousToken()||!c(b.currentToken()))return!1;a.$row=b.$row;a.$offset=b.$offset;return!0}function n(a){var b=a.cloneCursor();if(!c(b.currentToken())||
!b.moveToPreviousToken()||!e(b.currentToken())||!b.moveToPreviousToken())return!1;a.$row=b.$row;a.$offset=b.$offset;return!0}function p(a){return/\binfix\b/.test(a.type)}function g(a){return/,\s*$/.test(a.currentValue())&&"text"===a.currentType()}function A(a){c(a.currentToken())&&a.moveToNextToken();"("===a.currentValue()&&a.moveToNextToken();if(")"===a.currentValue())return[];var b=[];for(f(a.currentToken())&&b.push(a.currentValue());a.moveToNextToken();)if(!a.fwdToMatchingToken()){if(")"===a.currentValue())break;
if(g(a)){for(;g(a);)a.moveToNextToken();f(a.currentToken())&&b.push(a.currentValue())}}return b}this.getTokenCursor=function(){return new d(this.$tokens)};this.$complements={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{"};var w=function(a){a=a.trim();return a=a.replace(/[\n\s]+/g," ")};this.getFunctionsInScope=function(a){this.$buildScopeTreeUpToRow(a.row);return this.$scopes.getFunctionsInScope(a)};this.getAllFunctionScopes=function(a){"undefined"===typeof a&&(a=this.$doc.getLength());this.$buildScopeTreeUpToRow(a);
return this.$scopes.getAllFunctionScopes()};this.getDplyrJoinContextFromInfixChain=function(a){var a=a.cloneCursor(),b="";"identifier"===a.currentType()&&(b=a.currentValue());var d="left";"="===a.currentValue()&&(d="right");if("identifier"===a.currentType()){if(!a.moveToPreviousToken())return null;"="===a.currentValue()&&(d="right")}if(!a.findOpeningBracket("(",!0)||!a.moveToPreviousToken())return null;for(;a.findOpeningBracket("(",!0)&&a.moveToPreviousToken();)if(/_join$/.test(a.currentValue())){var c=
a.currentValue();if(!a.moveToNextToken())break;if(!a.moveToNextToken())break;var e=a.currentValue(),f="";if(!1===this.moveToDataObjectFromInfixChain(a))break;f=a.currentValue();return{token:b,leftData:f,rightData:e,verb:c,cursorPos:d}}return null};this.getDataFromInfixChain=function(a){var b=this.moveToDataObjectFromInfixChain(a),d=[],c=[],e="",f=!1;!1!==b&&(b.excludeArgsFromObject&&(f=b.excludeArgsFromObject),e=a.currentValue(),d=b.additionalArgs,c=b.excludeArgs);return{name:e,additionalArgs:d,excludeArgs:c,
excludeArgsFromObject:f}};var v="mutate,summarise,summarize,rename,transmute,select,rename_vars,inner_join,left_join,right_join,semi_join,anti_join,outer_join,full_join".split(","),M=function(a,b,d,c){if(!a.moveToNextToken()||"("!==a.currentValue()||!a.moveToNextToken()||")"===a.currentValue())return!1;"identifier"===a.currentType()&&b.additionalArgs.push(a.currentValue());if("rename"===c){if(!a.moveToNextToken())return!1;b.excludeArgs.push(a.currentValue())}"select"===c&&(b.excludeArgsFromObject=
!0);do{if(")"===a.currentValue())break;if(a.$row>d.$row||a.$row===d.$row&&a.$offset>=d.$offset)break;if(a.fwdToMatchingToken()){if(!a.moveToNextToken())break}else if(g(a)){if(!a.moveToNextToken())return!1;"identifier"===a.currentType()&&b.additionalArgs.push(a.currentValue());if(!a.moveToNextToken())return!1;if("="===a.currentValue()&&j(c,["rename","rename_vars"])){if(!a.moveToNextToken())return!1;"identifier"===a.currentType()&&b.excludeArgs.push(a.currentValue())}}}while(a.moveToNextToken());return!0},
u=function(a){for(var b=a.cloneCursor();b.findOpeningBracket("(",!1)&&b.moveToPreviousToken();){if(!b.moveToPreviousToken())break;if(":"===b.currentValue()){for(;":"===b.currentValue();)if(!b.moveToPreviousToken())return!1;if(!b.moveToPreviousToken())break}if(p(b.currentToken()))return a.$row=b.$row,a.$offset=b.$offset,!0}return!1};this.moveToDataObjectFromInfixChain=function(a){var b=a.cloneCursor();if(!u(b))return!1;for(var d={additionalArgs:[],excludeArgs:[]};;){if(0===b.$row&&0===b.$offset)return a.$row=
0,a.$offset=0,d;b.moveBackwardOverMatchingParens();if(!b.moveToPreviousToken())return!1;var c=b.currentValue();v.some(function(a){return a===c})&&M(b.cloneCursor(),d,a,c);if(!b.moveToPreviousToken())return 0===b.$row&&0===b.$offset?(a.$row=0,a.$offset=0,d):!1;if(":"===b.currentValue()){for(;":"===b.currentValue();)if(!b.moveToPreviousToken())return!1;if(!b.moveToPreviousToken())return!1}if(!p(b.currentToken()))break}if(!b.moveToNextToken())return!1;a.$row=b.$row;a.$offset=b.$offset;return d};this.getVariablesInScope=
function(a){this.$tokenizeUpToRow(a.row);var b=this.getTokenCursor();if(!b.moveToPosition(a))return[];a=b.cloneCursor();!a.findOpeningBracket("(",!0)||!a.moveToPreviousToken()?a=!1:"function"!==a.currentValue()?a=!1:(b.$row=a.$row,b.$offset=a.$offset,a=!0);a&&n(b)&&b.findStartOfEvaluationContext();a={};do if(!b.bwdToMatchingToken()){var d=a,c=b.cloneCursor();if(!("for"!==c.currentValue()||!c.moveToNextToken()||"("!==c.currentValue())&&c.moveToNextToken()){var A=c.currentValue();c.moveToNextToken()&&
"in"===c.currentValue()&&(d[A]="variable")}e(b.currentToken())&&(d="variable",c=b.cloneCursor(),c.moveToNextToken()&&"function"===c.currentValue()&&(d="function"),c=b.cloneCursor(),c.moveToPreviousToken()&&f(c.currentToken())&&(c=c.currentValue(),a[c]=d))}while(b.moveToPreviousToken());var b=[],h;for(h in a)b.push({token:h,type:a[h]});b.sort();return b};this.$buildScopeTreeUpToRow=function(a){function b(a,d){if("undefined"===typeof a)return"";var c=a.exec(d);if(!c)return null;var e=c[1].split(",");
if(0==e.length)return null;if(!/=/.test(e[0]))return e[0].replace(/(^\s+)|(\s+$)/g,"");for(var f=0;f<e.length;f++)if(c=/^\s*label\s*=\s*(.*)$/.exec(e[f]))return c=c[1].replace(/(^\s+)|(\s+$)/g,""),c=(e=/^(['"])(.*)\1$/.exec(c))?e[2]:c,c;return null}a=Math.min(a+30,this.$doc.getLength()-1);this.$tokenizeUpToRow(a);var d=this.getTokenCursor();if(d.seekToNearestToken(this.$scopes.parsePos,a)){do{this.$scopes.parsePos=d.currentPosition();this.$scopes.parsePos.column+=d.currentValue().length;var c=d.currentToken().type;
if(/\bsectionhead\b/.test(c))c=""+/^#+'?[-=#\s]*(.*?)\s*[-=#]+\s*$/.exec(d.currentValue())[1],0===c.length&&(c="(Untitled)"),50<c.length&&(c=c.substring(0,50)+"..."),this.$scopes.onSectionHead(c,d.currentPosition());else if(/\bcodebegin\b/.test(c)){var c=d.currentPosition(),e={row:c.row+1,column:0},f=this.$scopes.getTopLevelScopeCount()+1,l=b(this.$codeBeginPattern,d.currentValue()),f="Chunk "+f;l&&(f+=": "+l);this.$scopes.onChunkStart(l,f,c,e)}else if(/\bcodeend\b/.test(c)){for(c=d.currentPosition();this.$scopes.onScopeEnd(c););
c.column+=d.currentValue().length;this.$scopes.onChunkEnd(c)}else if("{"===d.currentValue()){var l=d.cloneCursor(),f=l.currentPosition(),v;if(h(l)){c=l.cloneCursor();c.moveToNextToken();var k=c.currentPosition(),e=null;if(n(l)&&(v=l.cloneCursor(),l.findStartOfEvaluationContext()))var e=l.currentPosition(),o=v.currentPosition(),e=this.$doc.getTextRange(new i(e.row,e.column,o.row,o.column+v.currentValue().length));v=l.currentPosition();l.isFirstSignificantTokenOnLine()&&(v.column=0);l=this.$doc.getTextRange(new i(k.row,
k.column,f.row,f.column));l=null===e?w("<function>"+l):w(e+l);c=A(c);this.$scopes.onFunctionScopeStart(l,v,d.currentPosition(),e,c)}else v=d.currentPosition(),d.isFirstSignificantTokenOnLine()&&(v.column=0),this.$scopes.onScopeStart(v)}else"}"===d.currentValue()&&(c=d.currentPosition(),d.isLastSignificantTokenOnLine()?c.column=this.$getLine(c.row).length+1:c.column++,this.$scopes.onScopeEnd(c))}while(d.moveToNextToken(a))}};this.$getFoldToken=function(a,b,d){this.$tokenizeUpToRow(d);if(this.$statePattern&&
!this.$statePattern.test(this.$endStates[d]))return"";a=this.$tokens[d];if(1==a.length&&/\bsectionhead\b/.test(a[0].type))return a[0];for(var d=0,c=null,e=null,f=0;f<a.length;f++){var l=a[f];if(/\bparen\b/.test(l.type))switch(l.value){case "{":d++;1==d&&(c=l);break;case "}":d--,0==d&&(c=null),0>d&&(e=l,d=0)}}return c?c:"markbeginend"==b&&e?e:1<=a.length&&(/\bcodebegin\b/.test(a[0].type)||/\bcodeend\b/.test(a[0].type))?a[0]:null};this.getFoldWidget=function(a,b,d){a=this.$getFoldToken(a,b,d);return null==
a?"":"{"==a.value?"start":"}"==a.value?"end":/\bcodebegin\b/.test(a.type)?"start":/\bcodeend\b/.test(a.type)?"end":/\bsectionhead\b/.test(a.type)?"start":""};this.getFoldWidgetRange=function(a,d,c){var e=this.$getFoldToken(a,d,c);if(e){d={row:c,column:e.column+1};if("{"==e.value)return a=a.$findClosingBracket(e.value,d),!a?void 0:i.fromPoints(d,a);if("}"==e.value)return a=a.$findOpeningBracket(e.value,d),!a?void 0:i.fromPoints({row:a.row,column:a.column+1},{row:d.row,column:d.column-1});if(/\bcodebegin\b/.test(e.type))for(var d=
new b(a,c,0),f;f=d.stepForward();){if(/\bcode(begin|end)\b/.test(f.type))return f=/\bcodebegin\b/.test(f.type),d=d.getCurrentTokenRow(),a=f?{row:d-1,column:a.getLine(d-1).length}:{row:d,column:a.getLine(d).length},i.fromPoints({row:c,column:e.column+e.value.length},a)}else if(/\bcodeend\b/.test(e.type))for(d=new b(a,c,0);e=d.stepBackward();){if(/\bcodebegin\b/.test(e.type))return d=d.getCurrentTokenRow(),i.fromPoints({row:d,column:a.getLine(d).length},{row:c,column:a.getLine(c).length})}else if(/\bsectionhead\b/.test(e.type)&&
(e=/([-=#])\1+\s*$/.exec(e.value))){d.column+=e.index-1;for(e=new b(a,c,0);(f=e.stepForward())&&!/\bsectionhead\b/.test(f.type);)c=e.getCurrentTokenRow();return i.fromPoints(d,{row:c,column:a.getLine(c).length})}}};this.getCurrentScope=function(a,b){b||(b=function(){return!0});if(!a)return"";this.$buildScopeTreeUpToRow(a.row);var d=this.$scopes.getActiveScopes(a);if(d)for(var c=d.length-1;0<=c;c--)if(b(d[c]))return d[c];return null};this.getScopeTree=function(){this.$buildScopeTreeUpToRow(this.$doc.getLength()-
1);return this.$scopes.getScopeList()};this.findFunctionDefinitionFromUsage=function(a,b){this.$buildScopeTreeUpToRow(this.$doc.getLength()-1);return this.$scopes.findFunctionDefinitionFromUsage(a,b)};this.getIndentForOpenBrace=function(a){if(this.$tokenizeUpToRow(a.row)){var b=this.getTokenCursor();if(b.seekToNearestToken(a,a.row)&&"{"==b.currentValue()&&b.moveBackwardOverMatchingParens())return this.$getIndent(this.$getLine(b.currentPosition().row))}return this.$getIndent(this.$getLine(a.row))};
this.getNextLineIndent=function(b,d,c,f,A){if("qstring"==c||"qqstring"==c)return"";var h=Array(A+1).join(" ");this.$lineOverrides=null;this.$doc.getLine(b)!==d&&(this.$lineOverrides={},this.$lineOverrides[b]=d,this.$invalidateRow(b));try{var v=0>b?"":this.$getIndent(this.$getLine(b));if(!this.$tokenizeUpToRow(b)||this.$statePattern&&!this.$statePattern.test(c))return v;var w={row:b,column:this.$getLine(b).length},k=this.$findPreviousSignificantToken(w,b-10),c="",v=!1;if(k&&/\boperator\b/.test(k.token.type)&&
!/\bparen\b/.test(k.token.type))c=f,v=!0;else if(k&&/\bparen\b/.test(k.token.type)&&/\)$/.test(k.token.value)){var o=this.$walkParensBalanced(k.row,k.row-10,null,function(a){return 0===a.length});if(null!=o){var n=this.$findPreviousSignificantToken(o,0);if(n&&"keyword"===n.token.type&&/^(if|while|for|function)$/.test(n.token.value))return this.$getIndent(this.$getLine(n.row))+f}}else if(k&&"keyword"===k.token.type&&("repeat"===k.token.value||"else"===k.token.value))return this.$getIndent(this.$getLine(k.row))+
f;var p=this.$walkParensBalanced(b,0,function(a,b){return/[\[({]/.test(b)&&0===a.length},null);if(null!=p){w=null;a&&(w=this.$findNextSignificantToken({row:p.row,column:p.column+1},b));if(w){for(var d=this.$getLine(w.row),z=d.replace(/[^\s].*$/,""),M=w.column-z.length,g=Math.floor(M/A),i=M-A*g,u="",q=0;q<g;q++)u+=f;for(f=0;f<i;f++)u+=" ";for(var f=z+u,F=f.replace("\t",h).length,H,q=w.row+1;q<=b;q++)if(/[^\s]/.test(this.$getLine(q))){var I=this.$endStates[q-1];if(!("qstring"===I||"qqstring"===I)){H=
this.$getLine(q).replace(/[^\s].*$/,"");var D=H.replace("\t",h).length;D<F&&(f=H,F=D)}}return f+c}return this.getIndentForOpenBrace(p)+f+c}h=20;F=0;q=this.getTokenCursor();q.moveToPosition(w);do if(!q.bwdToMatchingToken()&&e(q.currentToken())){if(!q.moveToPreviousToken())break;for(;q.bwdToMatchingToken()&&q.moveToPreviousToken(););u=q.cloneCursor();if(u.moveToPreviousToken()){if("else"===u.currentValue()||"repeat"===u.currentValue())break;if(u.bwdToMatchingToken()&&u.moveToPreviousToken()&&"if"===
u.currentValue())break}return this.$getIndent(this.$getLine(q.$row))+c}while(q.moveToPreviousToken()&&F++<h);if(v){h=20;F=0;q=this.getTokenCursor();q.moveToPosition(w);q.moveToPreviousToken();do{if(j(q.currentValue(),["if","else"])){c+=f;break}if(/\bconstant\b|\bidentifier\b/.test(q.currentType())){if(!q.moveToPreviousToken())break;if(j(q.currentValue(),["if","else"])){c+=f;break}if(")"===q.currentValue()){if(!q.bwdToMatchingToken())break;if(!q.moveToPreviousToken())break;if(j(q.currentValue(),["if",
"else"])){c+=f;break}}if(!/\boperator\b/.test(q.currentType()))break}else if(!q.findStartOfEvaluationContext())break}while(q.moveToPreviousToken()&&F++<h)}return(i=this.$findNextSignificantToken({row:0,column:0},b))?this.$getIndent(this.$getLine(i.row))+c:""+c}finally{this.$lineOverrides&&(this.$lineOverrides=null,this.$invalidateRow(b))}};this.getBraceIndent=function(a){this.$tokenizeUpToRow(a);var b=this.$findPreviousSignificantToken({row:a,column:this.$getLine(a).length},a-10);if(b&&/\bparen\b/.test(b.token.type)&&
/\)$/.test(b.token.value)){if(b=this.$walkParensBalanced(b.row,b.row-10,null,function(a){return 0==a.length}),null!=b&&(b=this.$findPreviousSignificantToken(b,0))&&"keyword"===b.token.type&&/^(if|while|for|function)$/.test(b.token.value))return this.$getIndent(this.$getLine(b.row))}else if(b&&"keyword"===b.token.type&&("repeat"===b.token.value||"else"===b.token.value))return this.$getIndent(this.$getLine(b.row));return this.$getIndent(a)};this.getTokenForPos=function(a,b,d){this.$tokenizeUpToRow(a.row);
if(this.$tokens.length<=a.row)return null;for(var c=this.$tokens[a.row],e=0;e<c.length;e++){var f=c[e];if(b&&a.column==f.column)return f;if(a.column<=f.column)break;if(d&&a.column==f.column+f.value.length||a.column<f.column+f.value.length)return f}return null};this.$tokenizeUpToRow=function(a){for(var a=Math.min(a,this.$endStates.length-1),b=0,d=!0;b<=a;b++)if(!d||!this.$endStates[b]){var d=!1,c=0===b?"start":this.$endStates[b-1],e=this.$tokenizer.getLineTokens(this.$getLine(b),c);this.$tokens[b]=
!this.$statePattern||this.$statePattern.test(e.state)||this.$statePattern.test(c)?this.$filterWhitespaceAndComments(e.tokens):[];e.state===this.$endStates[b]?d=!0:this.$endStates[b]=e.state}d||b<this.$tokens.length&&this.$invalidateRow(b);return!0};this.$onDocChange=function(a){a=a.data;"insertLines"===a.action?this.$insertNewRows(a.range.start.row,a.range.end.row-a.range.start.row):"insertText"===a.action?this.$doc.isNewLine(a.text)?(this.$invalidateRow(a.range.start.row),this.$insertNewRows(a.range.end.row,
1)):this.$invalidateRow(a.range.start.row):"removeLines"===a.action?(this.$removeRows(a.range.start.row,a.range.end.row-a.range.start.row),this.$invalidateRow(a.range.start.row)):"removeText"===a.action&&(this.$doc.isNewLine(a.text)&&this.$removeRows(a.range.end.row,1),this.$invalidateRow(a.range.start.row));this.$scopes.invalidateFrom(a.range.start)};this.$invalidateRow=function(a){this.$tokens[a]=null;this.$endStates[a]=null};this.$insertNewRows=function(a,b){for(var d=[a,0],c=0;c<b;c++)d.push(null);
this.$tokens.splice.apply(this.$tokens,d);this.$endStates.splice.apply(this.$endStates,d)};this.$removeRows=function(a,b){this.$tokens.splice(a,b);this.$endStates.splice(a,b)};this.$getIndent=function(a){return(a=/^([ \t]*)/.exec(a))?a[1]:""};this.$getLine=function(a){return this.$lineOverrides&&"undefined"!=typeof this.$lineOverrides[a]?this.$lineOverrides[a]:this.$doc.getLine(a)};this.$walkParens=function(a,b,d){var c=/\bparen\b/;return a<b?function(){for(;a<=b;a++)for(var e=this.$tokens[a],f=0;f<
e.length;f++)if(c.test(e[f].type)&&!d(e[f].value,{row:a,column:e[f].column}))return!1;return!0}.call(this):function(){a=Math.max(0,a);for(b=Math.max(0,b);a>=b;a--)for(var e=this.$tokens[a],f=e.length-1;0<=f;f--)if(c.test(e[f].type)&&!d(e[f].value,{row:a,column:e[f].column}))return!1;return!0}.call(this)};this.$walkParensBalanced=function(a,b,d,c){var e=[],f=null,l=this;this.$walkParens(a,b,function(a,b){if(d&&d(e,a,b))return f=b,!1;if(/[\[({]/.test(a))if(e[e.length-1]===l.$complements[a])e.pop();
else return!0;else e.push(a);return c&&c(e,a,b)?(f=b,!1):!0});return f};this.$findNextSignificantToken=function(a,b){if(0==this.$tokens.length)return null;for(var b=Math.min(b,this.$tokens.length-1),d=a.row,c=a.column;d<=b;d++){for(var e=this.$tokens[d],f=0;f<e.length;f++)if(e[f].column+e[f].value.length>c)return{token:e[f],row:d,column:Math.max(e[f].column,c),offset:f};c=0}return null};this.findNextSignificantToken=function(a){return this.$findNextSignificantToken(a,this.$tokens.length-1)};this.$findPreviousSignificantToken=
function(a,b){if(0===this.$tokens.length)return null;for(var b=Math.max(0,b),d=Math.min(a.row,this.$tokens.length-1);d>=b;d--){var c=this.$tokens[d];if(0!==c.length){if(d!=a.row)return{row:d,column:c[c.length-1].column,token:c[c.length-1],offset:c.length-1};for(var e=c.length-1;0<=e;e--)if(c[e].column<a.column)return{row:d,column:c[e].column,token:c[e],offset:e}}}};this.$filterWhitespaceAndComments=function(a){for(var a=a.filter(function(a){a=/\bcode(?:begin|end)\b/.test(a.type)||/\bsectionhead\b/.test(a.type)?
!1:/^\s*$/.test(a.value)||a.type.match(/\b(?:ace_virtual-)?comment\b/);return!a}),b=a.length-1;0<=b;b--)if(1<a[b].value.length&&/\bparen\b/.test(a[b].type)){var d=a[b];a.splice(b,1);for(var c=d.value.length-1;0<=c;c--){var e={type:d.type,value:d.value.charAt(c),column:d.column+c};a.splice(b,0,e)}}return a}}).call(h.prototype);g.RCodeModel=h;g.setVerticallyAlignFunctionArgs=function(b){a=b};g.getVerticallyAlignFunctionArgs=function(){return a}});define("mode/r_scope_tree",function(c,g){function j(b,a){return b.row!=a.row?b.row-a.row:b.column-a.column}var i=function(d){this.$ScopeNodeFactory=d;this.parsePos={row:0,column:0};this.$root=new this.$ScopeNodeFactory("(Top Level)",this.parsePos,null,b.TYPE_ROOT)};(function(){this.onSectionHead=function(a,d){var c=this.getActiveScopes(d);if(2==c.length&&c[1].isSection())this.$root.closeScope(d,b.TYPE_SECTION);else if(1!=c.length)return;this.$root.addNode(new this.$ScopeNodeFactory(a,d,d,b.TYPE_SECTION))};
this.onChunkStart=function(a,d,c,h){this.$root.closeScope(c,b.TYPE_CHUNK);d=new this.$ScopeNodeFactory(d,h,c,b.TYPE_CHUNK);d.chunkLabel=a;this.$root.addNode(d);this.printScopeTree()};this.onChunkEnd=function(a){a=this.$root.closeScope(a,b.TYPE_CHUNK);this.printScopeTree();return a};this.onFunctionScopeStart=function(a,d,c,h,k){this.$root.addNode(new this.$ScopeNodeFactory(a,c,d,b.TYPE_BRACE,{name:h,args:k}));this.printScopeTree()};this.onScopeStart=function(a){this.$root.addNode(new this.$ScopeNodeFactory(null,
a,null,b.TYPE_BRACE));this.printScopeTree()};this.onScopeEnd=function(a){a=this.$root.closeScope(a,b.TYPE_BRACE);this.printScopeTree();return a};this.getActiveScopes=function(a){return this.$root.findNode(a)};this.getScopeList=function(){return this.$root.$children};this.findFunctionDefinitionFromUsage=function(a,b){return this.$root.findFunctionDefinitionFromUsage(a,b)};this.getFunctionsInScope=function(a,b){return this.$root.getFunctionsInScope(a,b)};this.invalidateFrom=function(a){a={row:Math.max(0,
a.row-1),column:0};0<j(this.parsePos,a)&&(this.parsePos=this.$root.invalidateFrom(a));this.printScopeTree()};this.getTopLevelScopeCount=function(){return this.$root.$children.length};this.printScopeTree=function(){this.$root.printDebug()};this.getAllFunctionScopes=function(){var a=[];d(this.$root,a);return a};var d=function(a,b){a.isFunction()&&b.push(a);for(var c=a.$children,h=0;h<c.length;h++)d(c[h],b)}}).call(i.prototype);var b=function(b,a,c,f,h){this.label=b;this.start=a;this.preamble=c||a;this.end=
null;this.scopeType=f;this.parentScope=null;this.attributes=h;this.$children=[]};b.TYPE_ROOT=1;b.TYPE_BRACE=2;b.TYPE_CHUNK=3;b.TYPE_SECTION=4;(function(){this.isRoot=function(){return this.scopeType==b.TYPE_ROOT};this.isBrace=function(){return this.scopeType==b.TYPE_BRACE};this.isChunk=function(){return this.scopeType==b.TYPE_CHUNK};this.isSection=function(){return this.scopeType==b.TYPE_SECTION};this.isFunction=function(){return this.isBrace()&&!!this.label};this.addNode=function(b){!b.end||window.alert("[ASSERTION FAILED] New node is already closed");
0==b.$children.length||window.alert("[ASSERTION FAILED] New node already had children");this.end=null;var a=this.$binarySearch(b.preamble);0<=a?this.$children[a].addNode(b):(a=-(a+1),a<this.$children.length&&(b.$children=this.$children.splice(a,this.$children.length-a)),b.parentScope=this,this.$children.push(b))};this.closeScope=function(b,a){if(0==this.$children.length)return null;var c=this.$children[this.$children.length-1];if(c.end)return null;var f=c.closeScope(b,a);if(f)return f;return a==c.scopeType?
(c.end=b,c.$forceDescendantsClosed(b),c):null};this.$forceDescendantsClosed=function(b){if(0!=this.$children.length){var a=this.$children[this.$children.length-1];a.end||(a.$forceDescendantsClosed(b),a.end=b)}};this.findNode=function(b){var a=this.$binarySearch(b);return 0<=a&&(b=this.$children[a].findNode(b))?(this.label&&b.unshift(this),b):this.label?[this]:null};this.$getFunctionStack=function(b){var a=this.$binarySearch(b),b=0<=a?this.$children[a].$getFunctionStack(b):[];this.isFunction()&&b.push(this);
return b};this.findFunctionDefinitionFromUsage=function(b,a){for(var c=this.$getFunctionStack(b),f=0;f<c.length;f++)for(var h=c[f],k=0;k<h.$children.length;k++)if(h.$children[k].label==a)return h.$children[k];return null};this.getFunctionsInScope=function(b){for(var b=this.$getFunctionStack(b),a=[],c=0;c<b.length;c++)a.push({name:b[c].attributes.name,args:b[c].attributes.args.slice()});return a};this.invalidateFrom=function(b){var a=this.$binarySearch(b);0<=a?0>=j(b,this.$children[a].start)?b=this.$children[a].preamble:
(b=this.$children[a].invalidateFrom(b),a++):a=-(a+1);a<this.$children.length&&this.$children.splice(a,this.$children.length-a);this.end=null;return b};this.$binarySearch=function(b,a,c){"undefined"===typeof a&&(a=0);"undefined"===typeof c&&(c=this.$children.length);if(a===c)return-(a+1);var f=Math.floor((a+c)/2),h=this.$children[f].comparePosition(b);return 0===h?f:0>h?this.$binarySearch(b,a,f):this.$binarySearch(b,f+1,c)};this.comparePosition=function(b){return 0>j(b,this.preamble)?-1:null!=this.end&&
0<=j(b,this.end)?1:0};this.printDebug=function(b){"undefined"===typeof b&&(b="");for(var a=0;a<this.$children.length;a++)this.$children[a].printDebug(b+"    ")}}).call(b.prototype);g.ScopeManager=i;g.ScopeNode=b});define("mode/r",function(c,g){c("ace/editor");c("ace/edit_session");c("ace/range");var j=c("ace/lib/oop"),i=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("ace/mode/text_highlight_rules").TextHighlightRules,a=c("mode/r_highlight_rules").RHighlightRules,e=c("mode/r_code_model").RCodeModel,f=c("mode/r_matching_brace_outdent").RMatchingBraceOutdent;c("mode/auto_brace_insert");var h=c("ace/unicode"),k=function(c,h){this.$tokenizer=c?new b((new d).getRules()):new b((new a).getRules());this.foldingRules=
this.codeModel=new e(h,this.$tokenizer,null);this.$outdent={};j.implement(this.$outdent,f)};j.inherits(k,i);(function(){this.checkOutdent=function(a,b,c){return this.$outdent.checkOutdent(a,b,c)};this.autoOutdent=function(a,b,c){return this.$outdent.autoOutdent(a,b,c,this.codeModel)};this.tokenRe=RegExp("^["+h.packages.L+h.packages.Mn+h.packages.Mc+h.packages.Nd+h.packages.Pc+"._]+","g");this.nonTokenRe=RegExp("^(?:[^"+h.packages.L+h.packages.Mn+h.packages.Mc+h.packages.Nd+h.packages.Pc+"._]|s])+",
"g");this.$complements={"(":")","[":"]",'"':'"',"'":"'","{":"}"};this.$reOpen=/^[(["'{]$/;this.$reClose=/^[)\]"'}]$/;this.getNextLineIndent=function(a,b,c,d,e){return this.codeModel.getNextLineIndent(e,b,a,c,d)};this.allowAutoInsert=this.smartAllowAutoInsert;this.getIndentForOpenBrace=function(a){return this.codeModel.getIndentForOpenBrace(a)};this.$getIndent=function(a){return(a=a.match(/^(\s+)/))?a[1]:""};this.transformAction=function(a,b,c,d,e){return"insertion"===b&&"\n"===e&&(a=c.getSelectionRange().start,
(d=/^((\s*#+')\s*)/.exec(d.doc.getLine(a.row)))&&c.getSelectionRange().start.column>=d[2].length)?{text:"\n"+d[1]}:!1}}).call(k.prototype);g.Mode=k});define("mode/tex_highlight_rules",function(c,g){var j=c("ace/lib/oop");c("ace/lib/lang");var i=c("ace/mode/text_highlight_rules").TextHighlightRules,b=function(b){b||(b="text");this.$rules={start:[{token:"comment",regex:"%.*$"},{token:b,regex:"\\\\[$&%#\\{\\}]"},{token:"keyword",regex:"\\\\(?:documentclass|usepackage|newcounter|setcounter|addtocounter|value|arabic|stepcounter|newenvironment|renewenvironment|ref|vref|eqref|pageref|label|cite[a-zA-Z]*|tag|begin|end|bibitem)\\b",next:"nospell"},{token:"keyword",
regex:"\\\\(?:[a-zA-z0-9]+|[^a-zA-z0-9])"},{token:"paren.keyword.operator",regex:"[[({]"},{token:"paren.keyword.operator",regex:"[\\])}]"},{token:b,regex:"\\s+"}],nospell:[{token:"comment",regex:"%.*$",next:"start"},{token:"nospell."+b,regex:"\\\\[$&%#\\{\\}]"},{token:"keyword",regex:"\\\\(?:documentclass|usepackage|newcounter|setcounter|addtocounter|value|arabic|stepcounter|newenvironment|renewenvironment|ref|vref|eqref|pageref|label|cite[a-zA-Z]*|tag|begin|end|bibitem)\\b"},{token:"keyword",regex:"\\\\(?:[a-zA-z0-9]+|[^a-zA-z0-9])",
next:"start"},{token:"paren.keyword.operator",regex:"[[({]"},{token:"paren.keyword.operator",regex:"[\\])]"},{token:"paren.keyword.operator",regex:"}",next:"start"},{token:"nospell."+b,regex:"\\s+"},{token:"nospell."+b,regex:"\\w+"}]}};j.inherits(b,i);g.TexHighlightRules=b});define("mode/tex",function(c,g){var j=c("ace/lib/oop"),i=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("ace/mode/text_highlight_rules").TextHighlightRules,a=c("mode/tex_highlight_rules").TexHighlightRules,e=c("ace/mode/matching_brace_outdent").MatchingBraceOutdent,f=function(c){this.$tokenizer=c?new b((new d).getRules()):new b((new a).getRules());this.$outdent=new e};j.inherits(f,i);(function(){this.getNextLineIndent=function(a,b){return this.$getIndent(b)};this.allowAutoInsert=function(){return!1}}).call(f.prototype);
g.Mode=f});define("mode/sweave_background_highlighter",function(c,g){var j=c("ace/range").Range,i=function(b,c,a,e){this.$session=b;this.$doc=b.getDocument();this.$reCode=c;this.$reText=a;this.$textIsTerminator=e;var f=this;this.$doc.on("change",function(a){f.$onDocChange.apply(f,[a])});this.$rowState=Array(this.$doc.getLength());this.$markers=[];for(c=0;c<this.$doc.getLength();c++)this.$updateRow(c);var b=b.getMarkers(!1),h;for(h in b)c=b[h],c.range&&"ace_foreign_line sweave_background_highlight"===c.clazz&&
"background"==c.type&&(this.$markers[c.range.start.row]=h);this.$syncMarkers(0)};(function(){this.$updateRow=function(b){var c=this.$doc.getLine(b),a="text",e="text";if(c.match(this.$reCode))a="begin",e="r";else if(!this.$textIsTerminator&&c.match(this.$reText))a="end",e="text";else if(0<b){var f=this.$rowState[b-1];if("begin"===f||"r"===f)c.match(this.$reText)?(a="end",e="text"):e=a="r"}this.$rowState[b]=a;for(b+=1;b<this.$rowState.length;b++){c=this.$rowState[b];if("begin"===c)break;if("end"===
c){this.$textIsTerminator&&"text"===e&&(this.$rowState[b]="text");break}if(this.$textIsTerminator&&"r"===e&&this.$doc.getLine(b).match(this.$reText)){this.$updateRow(b);break}if(this.$rowState[b]===e)break;this.$rowState[b]=e}};this.$syncMarkers=function(b,c){for(var a="undefined"==typeof c?this.$doc.getLength():b+c,e=this.$doc.getLength()-1,f=b;f<=e;f++){var h="text"!=this.$rowState[f];if(!!h!=!!this.$markers[f])this.$markers[f]&&this.$session.removeMarker(this.$markers[f]),h?this.$markers[f]=this.$session.addMarker(new j(f,
0,f+1,0),"ace_foreign_line sweave_background_highlight","background",!1):delete this.$markers[f];else if(f>a)break}};this.$insertNewRows=function(b,c){var a=Array(c+2);a[0]=b;a[1]=0;Array.prototype.splice.apply(this.$rowState,a)};this.$removeRows=function(b,c){this.$rowState.splice(b,c)};this.$onDocChange=function(b){b=b.data;if("insertLines"===b.action){var c=b.range.end.row-b.range.start.row;this.$insertNewRows(b.range.start.row,c);for(var a=0;a<c;a++)this.$updateRow(b.range.start.row+a);this.$syncMarkers(b.range.start.row)}else"insertText"===
b.action?this.$doc.isNewLine(b.text)?(this.$insertNewRows(b.range.end.row,1),this.$updateRow(b.range.start.row),this.$updateRow(b.range.start.row+1),this.$syncMarkers(b.range.start.row)):(this.$updateRow(b.range.start.row),this.$syncMarkers(b.range.start.row,1)):"removeLines"===b.action?(this.$removeRows(b.range.start.row,b.range.end.row-b.range.start.row),this.$updateRow(b.range.start.row),this.$syncMarkers(b.range.start.row)):"removeText"===b.action&&(this.$doc.isNewLine(b.text)?(this.$removeRows(b.range.end.row,
1),this.$updateRow(b.range.start.row),this.$syncMarkers(b.range.start.row)):(this.$updateRow(b.range.start.row),this.$syncMarkers(b.range.start.row,1)))}}).call(i.prototype);g.SweaveBackgroundHighlighter=i});define("mode/sweave_highlight_rules",function(c,g){var j=c("ace/lib/oop"),i=c("mode/tex_highlight_rules").TexHighlightRules,b=c("mode/r_highlight_rules").RHighlightRules,d=c("ace/mode/text_highlight_rules").TextHighlightRules,a=function(){this.$rules=(new i).getRules();this.$rules.start.unshift({token:"comment.codebegin",regex:"^\\s*\\<\\<.*\\>\\>=.*$",next:"r-start"});this.$rules.start.unshift({token:"comment",regex:"^\\s*@(?:\\s.*)?$"});this.addRules((new b).getRules(),"r-");this.$rules["r-start"].unshift({token:"comment.codeend",
regex:"^\\s*@(?:\\s.*)?$",next:"start"});this.$rules["r-start"].unshift({token:"comment.codebegin",regex:"^\\<\\<.*\\>\\>=.*$",next:"r-start"})};j.inherits(a,d);g.SweaveHighlightRules=a});define("mode/sweave",function(c,g){var j=c("ace/lib/oop"),i=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("ace/mode/text_highlight_rules").TextHighlightRules,a=c("mode/sweave_background_highlighter").SweaveBackgroundHighlighter,e=c("mode/sweave_highlight_rules").SweaveHighlightRules,f=c("mode/r_code_model").RCodeModel,h=c("mode/r_matching_brace_outdent").RMatchingBraceOutdent,k=c("ace/unicode"),l=function(c,l,h){this.$tokenizer=c?new b((new d).getRules()):new b((new e).getRules());this.foldingRules=
this.codeModel=new f(l,this.$tokenizer,/^r-/,/<<(.*?)>>/);this.$sweaveBackgroundHighlighter=new a(h,/^\s*\<\<.*\>\>=.*$/,/^\s*@(?:\s.*)?$/,!1);this.$session=h};j.inherits(l,i);(function(){j.implement(this,h);this.tokenRe=RegExp("^["+k.packages.L+k.packages.Mn+k.packages.Mc+k.packages.Nd+k.packages.Pc+"_]+","g");this.nonTokenRe=RegExp("^(?:[^"+k.packages.L+k.packages.Mn+k.packages.Mc+k.packages.Nd+k.packages.Pc+"_]|s])+","g");this.$complements={"(":")","[":"]",'"':'"',"'":"'","{":"}"};this.$reOpen=
/^[(["'{]$/;this.$reClose=/^[)\]"'}]$/;this.insertChunkInfo={value:"<<>>=\n\n@\n",position:{row:0,column:2}};this.getLanguageMode=function(a){return this.$session.getState(a.row).match(/^r-/)?"R":"TeX"};this.getNextLineIndent=function(a,b,c,d,e){return this.codeModel.getNextLineIndent(e,b,a,c,d)};this.allowAutoInsert=this.smartAllowAutoInsert}).call(l.prototype);g.Mode=l});define("mode/rdoc_highlight_rules",function(c,g){var j=c("ace/lib/oop");c("ace/lib/lang");var i=c("ace/mode/text_highlight_rules").TextHighlightRules,b=function(){this.$rules={start:[{token:"comment",regex:"%.*$"},{token:"text",regex:"\\\\[$&%#\\{\\}]"},{token:"keyword",regex:"\\\\(?:name|alias|method|S3method|S4method|item|code|preformatted|kbd|pkg|var|env|option|command|author|email|url|source|cite|acronym|href|code|preformatted|link|eqn|deqn|keyword|usage|examples|dontrun|dontshow|figure|if|ifelse|Sexpr|RdOpts|inputencoding|usepackage)\\b",
next:"nospell"},{token:"keyword",regex:"\\\\(?:[a-zA-z0-9]+|[^a-zA-z0-9])"},{token:"paren.keyword.operator",regex:"[[({]"},{token:"paren.keyword.operator",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],nospell:[{token:"comment",regex:"%.*$",next:"start"},{token:"nospell.text",regex:"\\\\[$&%#\\{\\}]"},{token:"keyword",regex:"\\\\(?:name|alias|method|S3method|S4method|item|code|preformatted|kbd|pkg|var|env|option|command|author|email|url|source|cite|acronym|href|code|preformatted|link|eqn|deqn|keyword|usage|examples|dontrun|dontshow|figure|if|ifelse|Sexpr|RdOpts|inputencoding|usepackage)\\b"},
{token:"keyword",regex:"\\\\(?:[a-zA-z0-9]+|[^a-zA-z0-9])",next:"start"},{token:"paren.keyword.operator",regex:"[[({]"},{token:"paren.keyword.operator",regex:"[\\])]"},{token:"paren.keyword.operator",regex:"}",next:"start"},{token:"nospell.text",regex:"\\s+"},{token:"nospell.text",regex:"\\w+"}]}};j.inherits(b,i);g.RDocHighlightRules=b});define("mode/rdoc",function(c,g){var j=c("ace/lib/oop"),i=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("ace/mode/text_highlight_rules").TextHighlightRules,a=c("mode/rdoc_highlight_rules").RDocHighlightRules,e=c("ace/mode/matching_brace_outdent").MatchingBraceOutdent,f=function(c){this.$tokenizer=c?new b((new d).getRules()):new b((new a).getRules());this.$outdent=new e};j.inherits(f,i);(function(){this.getNextLineIndent=function(a,b){return this.$getIndent(b)}}).call(f.prototype);g.Mode=
f});define("mode/markdown_highlight_rules",function(c,g){var j=c("ace/lib/oop"),i=c("ace/lib/lang"),b=c("ace/mode/text_highlight_rules").TextHighlightRules,d=function(){var a=i.arrayToMap("title,author,date,rtl,depends,autosize,width,height,transition,transition-speed,font-family,css,class,navigation,incremental,left,right,id,audio,video,type,at,help-doc,help-topic,source,console,console-input,execute,pause".split(","));this.$rules={start:[{token:"empty_line",regex:"^$"},{token:["support.function","support.function",
"support.function"],regex:"(`+)([^\\r]*?[^`])(\\1)"},{token:"markup.heading.1",regex:"^\\={3,}\\s*$",next:"fieldblock"},{token:"markup.heading.1",regex:"^=+(?=\\s*$)"},{token:"markup.heading.2",regex:"^\\-+(?=\\s*$)"},{token:function(a){return"markup.heading."+a.search(/[^#]/)},regex:"^#{1,6}(?:[^ #].*| +.*(?:[^ #].*|[^ ]+.* +#+ *))$"},{token:"support.function",regex:"^```[a-zA-Z]+\\s*$",next:"githubblock"},{token:"string",regex:"^>[ ].+$",next:"blockquote"},{token:"text,constant,text,url,string,text".split(","),
regex:'^([ ]{0,3}\\[)([^\\]]+)(\\]:\\s*)([^ ]+)(\\s*(?:["][^"]+["])?(\\s*))$'},{token:["text","keyword","text","constant","text"],regex:"(\\[)((?:[[^\\]]*\\]|[^\\[\\]])*)(\\][ ]?(?:\\n[ ]*)?\\[)(.*?)(\\])"},{token:"text,keyword,text,markup.underline,string,text".split(","),regex:'(\\[)(\\[[^\\]]*\\]|[^\\[\\]]*)(\\]\\([ \\t]*)(<?(?:(?:[^\\(]*?\\([^\\)]*?\\)\\S*?)|(?:.*?))>?)((?:[ \t]*"(?:.*?)"[ \\t]*)?)(\\))'},{token:"constant",regex:"^[ ]{0,2}(?:[ ]?\\*[ ]?){3,}\\s*$"},{token:"constant",regex:"^[ ]{0,2}(?:[ ]?\\-[ ]?){3,}\\s*$"},
{token:"constant",regex:"^[ ]{0,2}(?:[ ]?\\_[ ]?){3,}\\s*$"},{token:"markup.list",regex:"\\\\\\[",next:"mathjaxnativedisplay"},{token:"markup.list",regex:"\\\\\\(",next:"mathjaxnativeinline"},{token:"text",regex:"\\\\\\$"},{token:"markup.list",regex:"\\${2}",next:"mathjaxdisplay"},{token:["markup.list","support.function","markup.list"],regex:"(\\$)((?!\\s)[^$]*[^$\\s])(\\$)(?![\\w\\d`])"},{token:["constant.numeric","constant.numeric","constant.numeric"],regex:"([*]{2}|[_]{2}(?=\\S))([^\\r]*?\\S[*_]*)(\\1)"},
{token:["constant.language.boolean","constant.language.boolean","constant.language.boolean"],regex:"([*]|[_](?=\\S))([^\\r]*?\\S[*_]*)(\\1)"},{token:["text","keyword","text"],regex:"(<)((?:https?|ftp|dict):[^'\">\\s]+|(?:mailto:)?[-.\\w]+\\@[-a-z0-9]+(?:\\.[-a-z0-9]+)*\\.[a-z]+)(>)"},{token:"keyword",regex:"\\\\(?:[a-zA-z0-9]+|[^a-zA-z0-9])"},{token:["paren.keyword.operator","text","paren.keyword.operator"],regex:"(\\{)([^\\}]*)(\\})"},{token:"markup.list",regex:"\\[-?\\@[\\w\\d-]+\\]"},{token:"markup.list",
regex:"-?\\@[\\w\\d-]+"},{token:"text",regex:"[^\\*_%$`\\[#<>\\\\]+"},{token:"text",regex:"\\\\"}],blockquote:[{token:"empty_line",regex:"^\\s*$",next:"start"},{token:"string",regex:".+"}],githubblock:[{token:"support.function",regex:"^```",next:"start"},{token:"support.function",regex:".+"}],fieldblock:[{token:function(b){b=b.slice(0,-1);return a[b]?"comment.doc.tag":"text"},regex:"^[\\w-]+\\:",next:"fieldblockvalue"},{token:"text",regex:"(?=.+)",next:"start"}],fieldblockvalue:[{token:"text",regex:"$",
next:"fieldblock"},{token:"text",regex:".+"}],mathjaxdisplay:[{token:"markup.list",regex:"\\${2}",next:"start"},{token:"support.function",regex:"[^\\$]+"}],mathjaxnativedisplay:[{token:"markup.list",regex:"\\\\\\]",next:"start"},{token:"support.function",regex:"[\\s\\S]+?"}],mathjaxinline:[{token:"markup.list",regex:"\\$",next:"start"},{token:"support.function",regex:"[^\\$]+"}],mathjaxnativeinline:[{token:"markup.list",regex:"\\\\\\)",next:"start"},{token:"support.function",regex:"[\\s\\S]+?"}]}};
j.inherits(d,b);g.MarkdownHighlightRules=d});define("mode/markdown_folding",function(c,g){var j=c("ace/lib/oop"),i=c("ace/mode/folding/fold_mode").FoldMode,b=c("ace/range").Range,d=g.FoldMode=function(){};j.inherits(d,i);(function(){this.foldingStartMarker=/^(?:[=-]+\s*$|#{1,6} |`{3})/;this.getFoldWidget=function(a,b,c){b=a.getLine(c);return!this.foldingStartMarker.test(b)?"":"`"==b[0]&&"start"==a.bgTokenizer.getState(c)?"end":"start"};this.getFoldWidgetRange=function(a,c,d){function h(b){return(p=a.getTokens(b)[0])&&0===p.type.lastIndexOf(i,
0)}function k(){var a=p.value[0];return"="==a?6:"-"==a?5:7-p.value.search(/[^#]/)}var l=a.getLine(d),c=l.length,o=a.getLength(),z=d,n=d;if(l.match(this.foldingStartMarker)){if("`"==l[0]){if("start"!==a.bgTokenizer.getState(d)){for(;++d<o&&!(l=a.getLine(d),"`"==l[0]&"```"==l.substring(0,3)););return new b(z,c,d,0)}for(;0<d--&&!(l=a.getLine(d),"`"==l[0]&"```"==l.substring(0,3)););return new b(d,l.length,z,0)}var p,i="markup.heading";if(h(d)){for(n=k();++d<o&&!(h(d)&&k()>=n););n=d-(!p||-1==["=","-"].indexOf(p.value[0])?
1:2);if(n>z)for(;n>z&&/^\s*$/.test(a.getLine(n));)n--;if(n>z)return d=a.getLine(n).length,new b(z,c,n,d)}}}}).call(d.prototype)});define("mode/markdown",function(c,g){var j=c("ace/lib/oop"),i=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("mode/markdown_highlight_rules").MarkdownHighlightRules,a=c("mode/markdown_folding").FoldMode,e=function(){this.$tokenizer=new b((new d).getRules());this.foldingRules=new a};j.inherits(e,i);(function(){this.getNextLineIndent=function(a,b){return this.$getIndent(b)}}).call(e.prototype);g.Mode=e});define("mode/rmarkdown_highlight_rules",function(c,g){var j=c("ace/lib/oop"),i=c("mode/r_highlight_rules").RHighlightRules,b=c("mode/c_cpp_highlight_rules").c_cppHighlightRules,d=c("mode/markdown_highlight_rules").MarkdownHighlightRules,a=c("ace/mode/text_highlight_rules").TextHighlightRules,e=function(){this.$rules=(new d).getRules();this.$rules.start.unshift({token:"support.function.codebegin",regex:"^(?:[ ]{4})?`{3,}\\s*\\{r(?:.*)\\}\\s*$",next:"r-start"});this.addRules((new i).getRules(),"r-");
this.$rules["r-start"].unshift({token:"support.function.codeend",regex:"^(?:[ ]{4})?`{3,}\\s*$",next:"start"});this.$rules.start.unshift({token:"support.function.codebegin",regex:"^(?:[ ]{4})?`{3,}\\s*\\{r(?:.*)engine\\='Rcpp'(?:.*)\\}\\s*$",next:"r-cpp-start"});this.addRules((new b).getRules(),"r-cpp-");this.$rules["r-cpp-start"].unshift({token:"support.function.codeend",regex:"^(?:[ ]{4})?`{3,}\\s*$",next:"start"})};j.inherits(e,a);g.RMarkdownHighlightRules=e});define("mode/rmarkdown",function(c,g){var j=c("ace/lib/oop"),i=c("mode/markdown").Mode,b=c("ace/tokenizer").Tokenizer,d=c("mode/rmarkdown_highlight_rules").RMarkdownHighlightRules,a=c("ace/mode/matching_brace_outdent").MatchingBraceOutdent,e=c("mode/r_matching_brace_outdent").RMatchingBraceOutdent,f=c("mode/sweave_background_highlighter").SweaveBackgroundHighlighter,h=c("mode/r_code_model").RCodeModel,k=c("mode/markdown_folding").FoldMode,l=function(c,l,n){var p=this;this.$session=n;this.$tokenizer=
new b((new d).getRules());this.$outdent=new a;this.$r_outdent={};j.implement(this.$r_outdent,e);this.codeModel=new h(l,this.$tokenizer,/^r-/,/^(?:[ ]{4})?`{3,}\s*\{r(.*)\}\s*$/);var i=new k;this.foldingRules={getFoldWidget:function(a,b,c){return"Markdown"==p.getLanguageMode({row:c,column:0})?i.getFoldWidget(a,b,c):p.codeModel.getFoldWidget(a,b,c)},getFoldWidgetRange:function(a,b,c){return"Markdown"==p.getLanguageMode({row:c,column:0})?i.getFoldWidgetRange(a,b,c):p.codeModel.getFoldWidgetRange(a,b,
c)}};this.$sweaveBackgroundHighlighter=new f(n,/^(?:[ ]{4})?`{3,}\s*\{r(?:.*)\}\s*$/,/^(?:[ ]{4})?`{3,}\s*$/,!0)};j.inherits(l,i);(function(){this.insertChunkInfo={value:"```{r}\n\n```\n",position:{row:0,column:5}};this.getLanguageMode=function(a){return this.$session.getState(a.row).match(/^r-cpp-(?!r-)/)?"C_CPP":this.$session.getState(a.row).match(/^r-/)?"R":"Markdown"};this.inCppLanguageMode=function(a){return a.match(/^r-cpp-(?!r-)/)};this.inMarkdownLanguageMode=function(a){return!a.match(/^r-/)};
this.getNextLineIndent=function(a,b,c,d,e){if(this.inCppLanguageMode(a)){var d=this.$getIndent(b),f=this.$tokenizer.getLineTokens(b,a),e=f.tokens,f=f.state;if(e.length&&"comment"==e[e.length-1].type)return d;if("r-cpp-start"==a)(a=b.match(/^.*[\{\(\[]\s*$/))&&(d+=c);else if("r-cpp-doc-start"==a){if("start"==f)return"";if(a=b.match(/^\s*(\/?)\*/))a[1]&&(d+=" "),d+="* "}return d}return this.codeModel.getNextLineIndent(e,b,a,c,d)};this.checkOutdent=function(a,b,c){return this.inCppLanguageMode(a)?this.$outdent.checkOutdent(b,
c):this.$r_outdent.checkOutdent(a,b,c)};this.autoOutdent=function(a,b,c){return this.inCppLanguageMode(a)?this.$outdent.autoOutdent(b,c):this.$r_outdent.autoOutdent(a,b,c,this.codeModel)};this.transformAction=function(a,b,c,d,e){if("insertion"===b)if("\n"===e&&this.inCppLanguageMode(a)){if(a=c.getSelectionRange().start,(d=/^((\s*\/\/+')\s*)/.exec(d.doc.getLine(a.row)))&&c.getSelectionRange().start.column>=d[2].length)return{text:"\n"+d[1]}}else if("R"===e&&this.inCppLanguageMode(a)&&(a=c.getSelectionRange().start,
(d=/^(\s*\/\*{3,}\s*)/.exec(d.doc.getLine(a.row)))&&c.getSelectionRange().start.column>=d[1].length))return{text:"R\n\n*/\n",selection:[1,0,1,0]};return!1}}).call(l.prototype);g.Mode=l});define("mode/rhtml_highlight_rules",function(c,g){var j=c("ace/lib/oop"),i=c("mode/r_highlight_rules").RHighlightRules,b=c("ace/mode/html_highlight_rules").HtmlHighlightRules,d=c("ace/mode/text_highlight_rules").TextHighlightRules,a=function(){this.$rules=(new b).getRules();this.$rules.start.unshift({token:"support.function.codebegin",regex:"^<\!--\\s*begin.rcode\\s*(?:.*)",next:"r-start"});this.addRules((new i).getRules(),"r-");this.$rules["r-start"].unshift({token:"support.function.codeend",regex:"^\\s*end.rcode\\s*--\>",
next:"start"})};j.inherits(a,d);g.RHtmlHighlightRules=a});define("mode/rhtml",function(c,g){var j=c("ace/lib/oop"),i=c("ace/mode/html").Mode,b=c("ace/tokenizer").Tokenizer,d=c("mode/rhtml_highlight_rules").RHtmlHighlightRules,a=c("mode/sweave_background_highlighter").SweaveBackgroundHighlighter,e=c("mode/r_code_model").RCodeModel,f=function(c,f,l){this.$session=l;this.$tokenizer=new b((new d).getRules());this.foldingRules=this.codeModel=new e(f,this.$tokenizer,/^r-/,/^<\!--\s*begin.rcode\s*(.*)/);this.$sweaveBackgroundHighlighter=new a(l,/^<\!--\s*begin.rcode\s*(?:.*)/,
/^\s*end.rcode\s*--\>/,!0)};j.inherits(f,i);(function(){this.insertChunkInfo={value:"<\!--begin.rcode\n\nend.rcode--\>\n",position:{row:0,column:15}};this.getLanguageMode=function(a){return this.$session.getState(a.row).match(/^r-/)?"R":"HTML"};this.getNextLineIndent=function(a,b,c,d,e){return this.codeModel.getNextLineIndent(e,b,a,c,d)}}).call(f.prototype);g.Mode=f});define("mode/dcf_highlight_rules",function(c,g){var j=c("ace/lib/oop"),i=c("ace/mode/text_highlight_rules").TextHighlightRules,b=function(){this.$rules={start:[{token:["keyword","text"],regex:"^([\\w-]+)(\\:)"},{token:"text",regex:".+"}]}};j.inherits(b,i);g.DcfHighlightRules=b});define("mode/dcf",function(c,g){var j=c("ace/lib/oop"),i=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("mode/dcf_highlight_rules").DcfHighlightRules,a=function(){this.$tokenizer=new b((new d).getRules())};j.inherits(a,i);(function(){this.getNextLineIndent=function(a,b){return this.$getIndent(b)}}).call(a.prototype);g.Mode=a});define("mode/cpp_scope_tree",function(c,g){var j=c("ace/lib/oop"),i=c("mode/r_scope_tree"),b=i.ScopeManager,d=i.ScopeNode,a=function(a,b,c,d,l,o){this.label=a;this.start=b;this.preamble=c||b;this.end=null;this.scopeType=d;this.scopeCategory=l;this.attributes=o;this.parentScope=null;this.$children=[]};j.mixin(a.prototype,d.prototype);a.CATEGORY_CLASS=1;a.CATEGORY_NAMESPACE=2;a.CATEGORY_FUNCTION=3;a.CATEGORY_LAMBDA=4;a.CATEGORY_ANON=5;(function(){this.isClass=function(){return this.scopeType==d.TYPE_BRACE&&
this.scopeCategory==a.CATEGORY_CLASS};this.isNamespace=function(){return this.scopeType==d.TYPE_BRACE&&this.scopeCategory==a.CATEGORY_NAMESPACE};this.isFunction=function(){return this.scopeType==d.TYPE_BRACE&&this.scopeCategory==a.CATEGORY_FUNCTION};this.isLambda=function(){return this.scopeType==d.TYPE_BRACE&&this.scopeCategory==a.CATEGORY_LAMBDA}}).call(a.prototype);i=function(a){this.$ScopeNodeFactory=a;this.parsePos={row:0,column:0};this.$root=new a("(Top Level)",this.parsePos,null,d.TYPE_ROOT,
null)};j.mixin(i.prototype,b.prototype);(function(){this.onClassScopeStart=function(b,c,h){this.$root.addNode(new this.$ScopeNodeFactory(b,h,c,d.TYPE_BRACE,a.CATEGORY_CLASS));this.printScopeTree()};this.onNamespaceScopeStart=function(b,c,h){this.$root.addNode(new this.$ScopeNodeFactory(b,h,c,d.TYPE_BRACE,a.CATEGORY_NAMESPACE));this.printScopeTree()};this.onFunctionScopeStart=function(b,c,h){this.$root.addNode(new this.$ScopeNodeFactory(b,h,c,d.TYPE_BRACE,a.CATEGORY_FUNCTION));this.printScopeTree()};
this.onLambdaScopeStart=function(b,c,h){this.$root.addNode(new this.$ScopeNodeFactory(b,h,c,d.TYPE_BRACE,a.CATEGORY_LAMBDA));this.printScopeTree()};this.onScopeStart=function(a){this.$root.addNode(new this.$ScopeNodeFactory(null,a,null,d.TYPE_BRACE));this.printScopeTree()};this.onScopeEnd=function(a){a=this.$root.closeScope(a,d.TYPE_BRACE);this.printScopeTree();return a}}).call(i.prototype);g.CppScopeManager=i;g.CppScopeNode=a});define("mode/cpp_code_model",function(c,g){c("ace/lib/oop");var j=c("ace/range").Range,i=c("mode/token_utils").TokenUtils;c("ace/token_iterator");var b=c("mode/token_cursor").CppTokenCursor,d=c("mode/cpp_scope_tree").CppScopeNode,a=c("mode/cpp_scope_tree").CppScopeManager,e=c("mode/r_code_model").getVerticallyAlignFunctionArgs,f=function(b,c,e,f){this.$session=b;this.$doc=b.getDocument();this.$tokenizer=c;this.$tokens=Array(this.$doc.getLength());this.$statePattern=e;this.$codeBeginPattern=f;this.$tokenUtils=
new i(this.$doc,this.$tokenizer,this.$tokens,this.$statePattern,this.$codeBeginPattern);this.$scopes=new a(d);var g=this;this.$doc.on("change",function(a){g.$onDocChange.apply(g,[a])})};(function(){this.getTokenCursor=function(){return new b(this.$tokens)};var a=function(a,b){for(;;){var c=a.currentValue(),d=b.$doc.getLine(a.$row);if(["{","}",";"].some(function(a){return a===c}))break;if(":"===c){var e=a.peekBwd().currentValue();if(["public","private","protected"].some(function(a){return a===e}))break}if(/^\s*#/.test(d))break;
if(!a.moveToPreviousToken())break}},c="if,else,for,do,while,struct,class,try,catch,switch".split(","),d=function(a){a=a.trim();return a=a.replace(/[\n\s]+/g," ")},f=function(a,b){var c=d(a),e=b;"undefined"===typeof e&&(e=80);c.length>e&&(c=c.substring(0,e)+"...");return c};this.$complements={"<":">",">":"<","{":"}","}":"{","[":"]","]":"[","(":")",")":"(","'":"'",'"':'"'};this.alignContinuationSlashes=function(a,b){"undefined"===typeof b&&(b={start:0,end:a.getLength()});var c=a.$lines;if(!(c instanceof
Array))return!1;for(var d=b.start;d<b.end;d++)if(n.test(c[d])){for(var e=d,d=d+1;n.test(c[d])&&d<=b.end;)d++;for(var f=d,l=c.slice(e,f).map(function(a){return a.lastIndexOf("\\")}),h=Math.max.apply(null,l),k=0;k<f-e;k++){var p={row:e+k,column:l[k]},i=Array(h-l[k]+1).join(" ");a.insert(p,i)}}return!0};this.allIndicesOf=function(a,b){for(var c=[],d=0;d<a.length;d++)a[d]==b&&c.push(d);return c};this.getRowForMatchingEOLArrows=function(a,b,c){for(var a=0,d="",e=1;100>e;e++){d=this.getLineSansComments(b,
c-e);if(/;\s*$/.test(d))break;if(/<\s*$/.test(d)&&!/<<\s*$/.test(d)){if(0===a)return c-e;a--}else/^\s*>/.test(d)&&!/^\s*>>/.test(d)&&a++}return-1};var i=/^\s*#\s*define/,n=/\\\s*$/,p=/^\s*[+\-/&^%$!<\>.?|=~]|^\s*\*[^/]|^\s*\/[^\*]/,g=/[+\-*&^%$!<\>.?|=~]\s*$|\*[^/]\s*$|\/[^\*]\s*$/;this.inMacro=function(a,b){var c=a[b];return 0>b?!1:n.test(c)?i.test(c)?!0:this.inMacro(a,b-1):!1};this.$buildScopeTreeUpToRow=function(b){b=Math.min(b+30,this.$doc.getLength()-1);this.$tokenUtils.$tokenizeUpToRow(b);var c=
this.getTokenCursor();if(c.seekToNearestToken(this.$scopes.parsePos,b)){do{this.$scopes.parsePos=c.currentPosition();this.$scopes.parsePos.column+=c.currentValue().length;var e=c.currentToken().type;if(/\bsectionhead\b/.test(e))e=""+/^\/\/'?[-=#\s]*(.*?)\s*[-=#]+\s*$/.exec(c.currentValue())[1],0==e.length&&(e="(Untitled)"),50<e.length&&(e=e.substring(0,50)+"..."),this.$scopes.onSectionHead(e,c.currentPosition());else if(/\bcodebegin\b/.test(e)){var e=c.currentPosition(),k={row:e.row+1,column:0};this.$scopes.getTopLevelScopeCount();
this.$scopes.onChunkStart("(R Code Chunk)","(R Code Chunk)",e,k)}else if(/\bcodeend\b/.test(e)){for(e=c.currentPosition();this.$scopes.onScopeEnd(e););e.column+=c.currentValue().length;this.$scopes.onChunkEnd(e)}else if("{"===c.currentValue())if(e=c.cloneCursor(),k=e.currentPosition(),e.isFirstSignificantTokenOnLine()&&(k.column=0),"namespace"===e.peekBwd(2).currentValue())e.moveToPreviousToken(),this.$scopes.onNamespaceScopeStart("namespace "+e.currentValue(),e.currentPosition(),c.currentPosition());
else if("namespace"===e.peekBwd().currentValue())this.$scopes.onNamespaceScopeStart("anonymous namespace",k,c.currentPosition());else if("class"===e.peekBwd(2).currentValue()||"struct"===e.peekBwd(2).currentValue()||e.bwdOverClassInheritance()){e.moveToPreviousToken();var n=e.cloneCursor();a(n,this);n=n.peekFwd().currentPosition();k=this.$session.getTextRange(new j(n.row,n.column,k.row,k.column));k=d(k);this.$scopes.onClassScopeStart(k,e.currentPosition(),c.currentPosition())}else if(e.bwdOverConstNoexceptDecltype()&&
e.bwdOverInitializationList()&&e.moveBackwardOverMatchingParens()||e.moveBackwardOverMatchingParens())if("identifier"===e.peekBwd().currentType()||"]"===e.peekBwd().currentValue()||/^operator/.test(e.peekBwd().currentValue()))if("]"===e.peekBwd().currentValue())e=e.currentPosition(),e=this.$session.getTextRange(new j(e.row,e.column,k.row,k.column-1)),e=d("lambda "+e),this.$scopes.onLambdaScopeStart(e,k,c.currentPosition());else{if(e.moveToPreviousToken()){var p="",k=e.currentValue(),n="",i=this.$scopes.getActiveScopes(e.currentPosition());
null!=i&&(i=i[i.length-1],i.isClass()&&i.label==="class "+k?"~"===e.peekBwd().currentValue()&&(k="~"+k):(p=e.cloneCursor(),a(p,this),p.moveToNextToken(),p=p.currentPosition(),i=e.currentPosition(),p=this.$session.getTextRange(new j(p.row,p.column,i.row,i.column))));var g=e.peekFwd(),i=g.currentPosition();g.fwdToMatchingToken()&&("const"===g.peekFwd().currentValue()&&g.moveToNextToken(),"noexcept"===g.peekFwd().currentValue()&&g.moveToNextToken(),"noexcept"===g.currentValue()&&"("===g.peekFwd().currentValue()&&
(g.moveToNextToken(),g.fwdToMatchingToken()),(g=g.peekFwd().currentPosition())&&(n=this.$session.getTextRange(new j(i.row,i.column,g.row,g.column))));this.$scopes.onFunctionScopeStart(0<p.length?f(k.trim()+n.trim()+": "+p.trim()):f(k.trim()+n.trim()),e.currentPosition(),c.currentPosition())}}else this.$scopes.onScopeStart(k);else this.$scopes.onScopeStart(k);else"}"===c.currentValue()&&(e=c.currentPosition(),c.isLastSignificantTokenOnLine()?e.column=this.$doc.getLine(e.row).length+1:e.column++,this.$scopes.onScopeEnd(e))}while(c.moveToNextToken(b))
}};this.getCurrentScope=function(a,b){b||(b=function(){return!0});if(!a)return"";this.$buildScopeTreeUpToRow(a.row);var c=this.$scopes.getActiveScopes(a);if(c)for(var d=c.length-1;0<=d;d--)if(b(c[d]))return c[d];return null};this.getScopeTree=function(){this.$buildScopeTreeUpToRow(this.$doc.getLength()-1);return this.$scopes.getScopeList()};this.getRowForOpenBraceIndent=function(a,b,d){if(1>=a.getDocument().$lines.length)return-1;if(this.$tokenUtils.$tokenizeUpToRow(b))try{for(var e=Array(this.$tokens.length),
f=0;f<this.$tokens.length;f++)if(null!=this.$tokens[f]&&0<this.$tokens[f].length){var l=this.$tokens[f];"\\"===l[l.length-1].value&&(e[f]=this.$tokens[f].splice(l.length-1,1)[0])}var h=this.getTokenCursor();if(d){var n=a.getSelection().getCursor();h.moveToPosition(n)}else{h.$row=b;f=h.$tokens[b].length-1;for(f=h.$tokens[b].length-1;0<=f&&!(h.$offset=f,"{"===h.currentValue());f--);}if("{"===h.peekBwd().currentValue()||";"===h.currentValue())return-1;h.bwdOverInitializationList();h.bwdOverClassInheritance();
if("{"===h.currentValue()&&!h.moveToPreviousToken()||"{"===h.currentValue())return-1;for(;"keyword"===h.currentType();){var p=h.currentValue();if(c.some(function(a){return a===p})||0===h.$row&&0===h.$offset)return h.$row;if(!h.moveToPreviousToken())return-1}if(":"===h.currentValue()){var i=h.peekBwd().currentValue();if(["public","private","protected"].some(function(a){return a===i}))return h.moveToNextToken(),h.$row}if(":"===h.currentValue())for(;h.moveToPreviousToken();){if(h.bwdToMatchingToken())if("keyword"===
h.peekBwd().currentType())continue;else break;if("identifier"===h.currentType())break}if(")"===h.currentValue()&&!h.bwdToMatchingToken()||"("===h.currentValue()&&!h.moveToPreviousToken())return-1;"="===h.currentValue()&&h.moveToPreviousToken();return h.$row}finally{for(f=0;f<e.length;f++)"undefined"!==typeof e[f]&&this.$tokens[f].push(e[f])}return-1};this.getLineSansComments=function(a,b,c){if(0>b)return"";for(var a=a.getLine(b),d=/(?!\\)\"/g,e=a,f=null,b=[];f=d.exec(e);)b.push(f.index);if(0<b.length&&
0===b.length%2)for(d=0;d<b.length/2;d+=2)e=b[d+1],a=a.substring(0,b[d]+1)+a.substring(e,a.length);b=a.indexOf("//");-1!=b&&(a=a.substring(0,b));n.test(a)&&(a=a.substring(0,a.lastIndexOf("\\")));c&&(a=a.replace(/\bconst\b/,"").replace(/\bnoexcept\b/,""));return a};this.findStartOfCommentBlock=function(a,b,c){for(var d=0,e=/^\s*\/+\*/;0<=b&&d<c;){if(e.test(a[b]))return b;--b;++d}return-1};this.getNextLineIndent=function(a,c,d,f,h,l){var k=e(),o=this.$session,j=o.getDocument();if(-1===a)return c=j.getLine(0),
0<c.length?this.$getIndent(c):"";if(0===c.length||/^\s*#/.test(c))return this.getNextLineIndent(a-1,j.getLine(a-1),d,f,h,l);var x=this.$getIndent(c),s=this.$getUnindent(c,h),r=j.$lines,G;G=0<a?r[a-1]:"";if("comment"==d||"doc-start"==d){E&&E.row==a&&(c=c.substring(0,E.column));if(/^\s*$/.test(c))return this.$getIndent(r[a]);E=this.findStartOfCommentBlock(r,a,200);if(null!==E)return this.$getIndent(r[E])+" "}if("start"==d){d=null;if(i.test(c))return/\\\s*$/.test(c)?x+f:x;if(/^\s*#\s*\S/.test(c))return x;
if(this.inMacro(r,a-1)&&!n.test(c))return s;var c=this.getLineSansComments(j,a),E=o.getSelection().getCursor();E&&E.row==a&&!l&&(c=c.substring(0,E.column));G=this.getLineSansComments(j,a-1);if("string"!==typeof c)return"";if(0===c.length||/^\s*$/.test(c))return this.$getIndent(r[a]);if(/\*\/\s*$/.test(c)&&(s=this.findStartOfCommentBlock(r,a,200),0<=s))return this.$getIndent(r[s]);if(/^\s*<</.test(c)){for(c=a-1;/^\s*<</.test(r[c]);)c--;return this.$getIndent(r[c])}if(/^\s*\./.test(c)){for(c=a-1;/^\s*\./.test(r[c]);)c--;
return this.$getIndent(r[c])}if(/\bnamespace\b.*\{\s*$/.test(c)||/\bswitch\b.*\{\s*$/.test(c))return x;if(c.match(/\(\s*$/))return-1!==c.indexOf("=")||/^\s*(return\s+)?[a-zA-Z0-9_.->:]+\(\s*$/.test(c)?x+f:x+f+f;if(/^\s*(class|struct).*\{\s*$/.test(c)||/^\s*(class|struct)\s+.+:\s*$/.test(c))return x+f;if((d=c.match(/(^\s*(?:class|struct)\s+.*\w[^:]):[^:]\s*.+/))&&!/,\s*/.test(c)||(d=c.match(/^(\s*(class|struct).*:\s*).*,\s*$/)))return k?Array(d[1].length+1).join(" "):x+f;if(d=c.match(/^(\s*:\s*)(\w+).*,\s*$/))return k?
Array(d[1].length+1).join(" "):x+f;if(d=c.match(/^(\s*)[:,]\s*[\w\s]*$/))return k?Array(d[1].length+1).join(" "):x+f;if(/<\s*$/.test(c))return x+f;if(/^\s*\".*\"\s*$/.test(c)||/^\s*template\s*<.*>\s*$/.test(c)&&c.split(">").length==c.split("<").length)return x;if(/([\[\{\(<]).+,\s*$/.exec(c)){d=["(","{","[","<"];for(s=0;s<d.length;s++){var K=d[s],J=this.$complements[K],K=this.allIndicesOf(c,K);if(K.length&&(J=this.allIndicesOf(c,J),J=K.length-J.length-1,!(0>J))){r=K[J];return k?(c=c.substr(r+1).match(/([^\s])/),
Array(r+c.index+2).join(" ")):x+f}}}for(s=a-1;0<=s&&/^\s*$|^\s*#/.test(G);)G=this.getLineSansComments(j,s),s--;if((p.test(c)||g.test(c))&&(p.test(G)||g.test(G)))return this.$getIndent(c);if(this.$tokenUtils.$tokenizeUpToRow(a+2))try{for(var N=Array(this.$tokens.length),s=0;s<this.$tokens.length;s++)if(null!=this.$tokens[s]&&0<this.$tokens[s].length){var P=this.$tokens[s];"\\"===P[P.length-1].value&&(N[s]=this.$tokens[s].splice(P.length-1,1)[0])}var m=new b(this.$tokens,a,this.$tokens[a].length-1);
for(l||m.moveToPosition(E);0>m.$offset&&0<m.$row;)m.$row--,m.$offset=m.$tokens[m.$row].length-1;for(;0<m.$row&&/^\s*#/.test(j.getLine(m.$row));)m.$row--,m.$offset=m.$tokens[m.$row].length-1;var l="",R=m.cloneCursor(),L=R.currentValue(),O=R.currentType();if("constant"===O||"keyword"===O||"identifier"===O||["{",")",">",":"].some(function(a){return a===L}))l=f;for(;";"===m.currentValue()&&m.moveToPreviousToken(););var Q=m.cloneCursor();if(k&&m.isLastSignificantTokenOnLine()&&("keyword.operator"===m.currentType()||
"punctuation.operator"===m.currentType())){var F=m.cloneCursor();F.$offset=0;if("keyword"===F.currentType()){var H=c.split("(").length-c.split(")").length;if(0<H){var I=c.match(/.*?\(\s*(\S)/);if(I)return Array(I[0].length).join(" ")}}}if(","===m.currentValue()){if(k){var D=m.peekBwd();if("]"===D.currentValue()&&D.bwdToMatchingToken())return Array(D.currentPosition().column+1).join(" ");H=c.split("(").length-c.split(")").length;if(0<H&&(I=c.match(/.*?\(\s*(\S)/)))return Array(I[0].length).join(" ")}if(/[,(]\s*$/.test(c)&&
/[,(]\s*$/.test(G))return this.$getIndent(c);var y=m.cloneCursor();return y.findOpeningBracket("{",!1)&&y.bwdOverClassySpecifiers()&&"enum"===y.currentValue()?this.$getIndent(r[y.$row])+f:-1!==c.indexOf("=")?this.$getIndent(c)+f:this.$getIndent(c)}if("keyword.operator"===O&&":"!==L)return this.$getIndent(r[a])+f;for(;;){if("undefined"===typeof m.currentValue())return"undefined"!==typeof Q.currentValue()?this.$getIndent(r[Q.$row])+l:l;Q=m.cloneCursor();if(";"===m.currentValue()&&m.moveToNextToken()){for(a=
m.$row;null!=r[a]&&/^\s*#/.test(r[a]);)++a;return this.$getIndent(r[a])+l}if(["for","while","do","try"].some(function(a){return a===m.currentValue()})&&";"!==L)return this.$getIndent(r[m.$row])+l;D=m.peekBwd();if(":"===m.currentValue()){if(["public","private","protected"].some(function(a){return a===D.currentValue()}))return this.$getIndent(r[D.$row])+f;var S=r[m.$row];if(/^\s*case/.test(S))return this.$getIndent(S)+f;if(")"===D.currentValue()&&(y=D.cloneCursor(),y.bwdToMatchingToken())){var T=y.peekBwd(1),
U=y.peekBwd(2);if(null!==T&&"identifier"===T.currentType()&&null!==U&&!/\boperator\b/.test(U.currentType()))return this.$getIndent(r[y.peekBwd().$row])+l}}if("]"===m.currentValue()&&"("===m.peekFwd().currentValue()&&(y=m.cloneCursor(),y.bwdToMatchingToken()))return this.$getIndent(r[y.$row])+l;if("("===m.currentValue()&&"for"===D.currentValue()&&";"===L)return m.peekFwd().cloneCursor(),k?Array(m.peekFwd().currentPosition().column+1).join(" "):this.$getIndent(r[m.peekFwd().$row])+f;if(k&&"("===m.currentValue()&&
!m.isLastSignificantTokenOnLine())return m.moveToNextToken(),Array(m.currentPosition().column+1+h).join(" ");if("if"===m.currentValue()||"else"===m.currentValue()||"template"===m.currentValue()&&"<"===m.peekFwd().currentValue())return this.$getIndent(r[m.$row])+l;if("{"===m.currentValue()){var V=this.getRowForOpenBraceIndent(o,m.$row);return 0<=V?(c=this.getLineSansComments(j,V),x=this.$getIndent(c),/\bnamespace\b/.test(c)?x:x+f):this.$getIndent(r[m.$row])+f}if(0===m.$row&&0===m.$offset)return this.$getIndent(r[0])+
l;if(">"===m.currentValue()&&(y=m.cloneCursor(),y.bwdToMatchingArrow()&&"template"===y.peekBwd().currentValue()))return">"===L&&(l=""),this.$getIndent(r[y.$row])+l;m.bwdToMatchingToken();if(!m.moveToPreviousToken())break;for(;0<m.$row&&/^\s*#/.test(r[m.$row]);)m.$row--,m.$offset=this.$tokens[m.$row].length-1}}finally{for(s=0;s<N.length;s++)"undefined"!==typeof N[s]&&this.$tokens[s].push(N[s])}}return x};this.$onDocChange=function(a){a=a.data;"insertLines"===a.action?this.$tokenUtils.$insertNewRows(a.range.start.row,
a.range.end.row-a.range.start.row):"insertText"===a.action?this.$doc.isNewLine(a.text)?(this.$tokenUtils.$invalidateRow(a.range.start.row),this.$tokenUtils.$insertNewRows(a.range.end.row,1)):this.$tokenUtils.$invalidateRow(a.range.start.row):"removeLines"===a.action?(this.$tokenUtils.$removeRows(a.range.start.row,a.range.end.row-a.range.start.row),this.$tokenUtils.$invalidateRow(a.range.start.row)):"removeText"===a.action&&(this.$doc.isNewLine(a.text)&&this.$tokenUtils.$removeRows(a.range.end.row,
1),this.$tokenUtils.$invalidateRow(a.range.start.row));this.$scopes.invalidateFrom(a.range.start)};this.$getIndent=function(a){return(a=/^([ \t]*)/.exec(a))?a[1]:""};this.$padIndent=function(a,b,c){b=Array(b+1).join(" ");b=a.replace("\t",b);return b>=c?a:a+Array(c-b+1).join(" ")};this.$getUnindent=function(a,b){var c=this.$getIndent(a);if(null===c||0===c.length)return"";var d=c.indexOf("\t");if(-1!=d)return c.substring(0,d)+c.substring(d+1,c.length);for(var e=d=0;e<b&&e<c.length;e++)" "===c[e]&&d++;
return c.substring(d,c.length)}}).call(f.prototype);g.CppCodeModel=f});define("mode/doc_comment_highlight_rules",function(c,g){var j=c("ace/lib/oop"),i=c("ace/mode/text_highlight_rules").TextHighlightRules,b=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"[@\\\\][\\w\\d_]+"},{token:"comment.doc",merge:!0,regex:"\\s+"},{token:"comment.doc",merge:!0,regex:"TODO"},{token:"comment.doc",merge:!0,regex:"[^@\\\\\\*]+"},{token:"comment.doc",merge:!0,regex:"."}]}};j.inherits(b,i);b.getStartRule=function(b){return{token:"comment.doc",merge:!0,regex:"\\/\\*[\\*\\!]",
next:b}};b.getEndRule=function(b){return{token:"comment.doc",merge:!0,regex:"\\*\\/",next:b}};g.DocCommentHighlightRules=b});define("mode/c_cpp_matching_brace_outdent",function(c,g){var j=c("ace/range").Range,i=c("mode/token_cursor").CppTokenCursor,b=function(a){this.codeModel=a},d=!0,a=!0,e=!0,f=!0,h=!0,k=!0,l=!0,o=!0,z=!0,n=!0,p=!0,q=!0;(function(){this.setIndent=function(a,b,c,d,e){var a=a.getDocument(),d="string"===typeof d?d:"",f=a.$lines[c],c=this.$getIndent(a.$lines[b]),f=this.$getIndent(f);("function"!==typeof e||e(c,f))&&a.replace(new j(b,0,b,c.length),f+d)};this.checkOutdent=function(a,b,c){return"start"==a&&
(":"===c||/^\s*[#\{\}\>\]\)<.:]/.test(c)||"="===c)?!0:"comment"==a&&"/"==c?!0:!1};this.escapeRegExp=function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};this.alignStartToken=function(a,b,c,d,e){if(null===e||null===d)return!1;return RegExp("^\\s*"+this.escapeRegExp(a)).test(d)&&(a=e.indexOf(a),0<=a)?(b=b.getDocument(),d=this.$getIndent(d),a=Array(a+1).join(" "),b.replace(new j(c,0,c,d.length),a),!0):!1};this.alignEquals=function(a,b,c,d){if(null===d||null===c)return!1;var e=
c.indexOf("=");if(e!==c.lastIndexOf("="))return!1;var f=d.indexOf("=");if(-1!==e&&-1!==f&&/,\s*$/.test(d)){a=a.getDocument();c=this.$getIndent(c);if(c.length>=f)return!1;e=f-e;if(0>=e)return!1;e=Array(c.length+e+1).join(" ");a.replace(new j(b,0,b,c.length),e);return!0}return!1};this.autoOutdent=function(b,c,g){var b=c.doc,o=b.getLine(g),u=null;0<g&&(u=b.getLine(g-1));this.$getIndent(o);if(!(n&&this.alignStartToken("<<",c,g,o,u)||z&&this.alignStartToken(">>",c,g,o,u)))if(!l||!this.alignStartToken(".",
c,g,o,u)){if(d&&/^\s*:/.test(b.getLine(g))&&!/^\s*::/.test(b.getLine(g))&&this.codeModel.$tokenUtils.$tokenizeUpToRow(g)){var C=new i(this.codeModel.$tokens,g,0),t=-1,B=C.cloneCursor();if(")"===B.peekBwd().currentValue()||"keyword"===B.peekBwd().currentType()){do{var C=B.currentType(),W=B.currentValue();if("identifier"===C||";"===W){t=B.$row;break}"keyword"!==C&&B.bwdToMatchingToken()}while(B.moveToPreviousToken())}else C.moveToPreviousToken(),C.bwdOverClassySpecifiers()&&(t=C.$row);0<=t&&this.setIndent(c,
g,t,c.getTabString(),function(a,b){return a===b})}if(k&&/^\s*>/.test(o)&&!/^\s*>>/.test(o)&&(t=this.codeModel.getRowForMatchingEOLArrows(c,b,g),0<=t)){this.setIndent(c,g,t);return}if(f&&/^\s*\}/.test(o)&&(t=c.findMatchingBracket({row:g,column:o.indexOf("}")+1}),null!==t)){if(/^\s*\{/.test(b.$lines[t.row])){this.setIndent(c,g,t.row);return}t=this.codeModel.getRowForOpenBraceIndent(c,t.row);if(0<=t){this.setIndent(c,g,t);return}}if(a&&/^\s*\)/.exec(o)&&(t=c.findMatchingBracket({row:g,column:o.indexOf(")")+
1}))){this.setIndent(c,g,t.row);return}if(h&&/^\s*\]/.exec(o)&&(t=c.findMatchingBracket({row:g,column:o.indexOf("]")+1}))){this.setIndent(c,g,t.row);return}if(p&&/^\s*public\s*:\s*$|^\s*private\s*:\s*$|^\s*protected\s*:\s*$/.test(o)&&(B=c.$findOpeningBracket("}",{row:g,column:o.length},RegExp(/paren\.keyword\.operator/)))){t=this.codeModel.getRowForOpenBraceIndent(c,B.row);0<=t?this.setIndent(c,g,t):this.setIndent(c,g,B.row);return}if(q&&(/^\s*case.+:/.test(o)||/^\s*default\s*:/.test(o)))if(B=c.$findOpeningBracket("}",
{row:g,column:/(\S)/.exec(o).index+1})){t=this.codeModel.getRowForOpenBraceIndent(c,B.row);0<=t?this.setIndent(c,g,t):this.setIndent(c,g,B.row);return}if(e&&/^\s*\{/.test(o)&&!/;\s*$/.test(u)){if(this.codeModel.$tokenUtils.$tokenizeUpToRow(g)&&(C=new i(this.codeModel.$tokens),C.$row=g,C.$offset=0,C.moveToPreviousToken()&&"="===C.currentValue()))return;u=this.codeModel.getRowForOpenBraceIndent(c,g);if(0<=u){this.setIndent(c,g,u);return}}/^\s*#/.test(o)&&(c=this.$getIndent(o),b.replace(new j(g,0,g,
c.length),""))}};this.$getIndent=function(a){return(a=a.match(/^(\s+)/))?a[1]:""}}).call(b.prototype);g.MatchingBraceOutdent=b;g.getOutdentColon=function(){return d};g.setOutdentColon=function(a){d=a};g.getOutdentRightParen=function(){return a};g.setOutdentRightParen=function(b){a=b};g.getOutdentLeftBrace=function(){return e};g.setOutdentLeftBrace=function(a){e=a};g.getOutdentRightBrace=function(){return f};g.setOutdentRightBrace=function(a){f=a};g.getOutdentRightBracket=function(){return h};g.setOutdentRightBracket=
function(a){h=a};g.getOutdentRightArrow=function(){return k};g.setOutdentRightArrow=function(a){k=a};g.getAlignDots=function(){return l};g.setAlignDots=function(a){l=a};g.getAlignEquals=function(){return o};g.setAlignEquals=function(a){o=a};g.getAlignStreamIn=function(){return z};g.setAlignStreamIn=function(a){z=a};g.getAlignStreamOut=function(){return n};g.setAlignStreamOut=function(a){n=a};g.getAlignClassAccessModifiers=function(){return p};g.setAlignClassAccessModifiers=function(a){p=a};g.getAlignCase=
function(){return q};g.setAlignCase=function(a){q=a}});define("mode/behaviour/cstyle",function(c,g){var j=c("ace/lib/oop"),i=c("ace/mode/behaviour").Behaviour;c("mode/cpp_code_model");c("mode/token_cursor");c("ace/mode/text");var b=!0,d=!0,a=function(a){var c=a.$complements,h=function(a,b,d,e){var h=c[a];if(b==a)return b=d.getSelectionRange(),e=e.doc.getTextRange(b),""!==e?{text:a+e+h,selection:!1}:{text:a+h,selection:[1,1]};if(b==h&&(a=d.getCursorPosition(),e.doc.getLine(a.row)[a.column]==h&&null!==e.findMatchingBracket({row:a.row,column:a.column+1})))return{text:"",
selection:[1,1]}},k=function(a,b,d){var e=c[a],h=d.doc.getTextRange(b);if(!b.isMultiLine()&&h==a&&d.doc.getLine(b.start.row).substring(b.start.column+1,b.start.column+2)==e)return b.end.column++,b};this.add("R","insertion",function(a,b,c,d,e){if("R"===e||"r"===e)if(a=c.getCursorPosition(),d=(new String(d.doc.getLine(a.row))).match(/^(\s*)\/\*{3,}\s/))return{text:"R\n"+d[1]+"\n"+d[1]+"*/",selection:[1,d[1].length,1,d[1].length]}});this.add("newline","insertion",function(b,c,d,f,h){if("\n"===h){var h=
d.selection.getCursor().row,k=d.selection.getCursor().column,c=f.getTabString(),g=d.getCursorPosition(),d=f.doc.getLine(g.row);if(!this.codeModel.inMacro(f.getDocument().$lines,h-1)){var i=/^(\s*\/\/'\s*)/.exec(d);if(i&&k>=i[1].length)return{text:"\n"+i[1]};if("comment"==b||"doc-start"==b)if(g&&g.row==h&&(d=d.substring(0,g.column)),b=/^(\s*\*+\s*)/.exec(d))return{text:"\n"+b[1],selection:[1,b[1].length,1,b[1].length]};if(/^\s*\/\*/.test(d)&&-1===d.indexOf("*/"))return f=this.$getIndent(d),c=f+" * ",
{text:"\n"+c+"\n"+f+" */",selection:[1,c.length,1,c.length]};for(b=k-1;/\s/.test(d[b]);)--b;b=d[b];k=d[k];if(i=d.match(/\s*namespace\s*\w*\s*{/))return f=this.$getIndent(d),{text:"\n"+f+"\n"+f,selection:[1,f.length,1,f.length]};if("("==b&&")"==k||"["==b&&"]"==k)return h=this.$getIndent(d),f=h+c,{text:"\n"+f+"\n"+h,selection:[1,f.length,1,f.length]};if("{"==b&&"}"==k){if(/^\s*{/.test(d))return h=this.$getIndent(d),f=h+f.getTabString(),{text:"\n"+f+"\n"+h,selection:[1,f.length,1,f.length]};h=a.getRowForOpenBraceIndent(f,
h);if(null!==h&&0<=h)return h=this.$getIndent(f.getDocument().getLine(h)),f=h+f.getTabString(),{text:"\n"+f+"\n"+h,selection:[1,f.length,1,f.length]};h=this.$getIndent(d);f=h+c;return{text:"\n"+f+"\n"+h,selection:[1,f.length,1,f.length]}}}}});this.add("braces","insertion",function(c,f,k,g,i){if(this.insertMatching){if("{"==i&&(c=k.getSelectionRange(),""===g.doc.getTextRange(c))){var c=k.selection.getCursor().row,j=k.selection.getCursor().column,A=g.getDocument(),f=this.codeModel.getLineSansComments(A,
c,!0),w="";if(0<c)for(var w=this.codeModel.getLineSansComments(A,c-1,!0),v=c-1;0<=v&&/^\s*$/.test(w);v--)w=this.codeModel.getLineSansComments(A,v,!0);j=f.substring(0,j);k.getCursorPosition();(A=f.match(/\/\//))&&(f=f.substr(0,A.index-1));if(b){A=/\s*namespace\s*$/.test(j);if(j=j.match(/\s*namespace\s+(\S+)\s*/))return{text:"{} // namespace "+j[1],selection:[1,1]};if(A)return{text:"{} // anonymous namespace",selection:[1,1]}}if(f.match(/\=\s*$/)&&-1===f.indexOf(";"))return{text:"{};",selection:[1,
1]};if(/\)\s*$/.test(f)||/\)\s*$/.test(w)&&/^\s*$/.test(f)||f.match(/#define\s+\w+/))return{text:"{}",selection:[1,1]};if(d&&(/^\s*do\s*$/.test(f)||/^\s*do\s*$/.test(w)&&/^\s*$/.test(f)))return{text:"{} while ();",selection:[1,1]};if(/^\s*if\s*$/.test(f)||/else\s*$/.test(f))return{text:"{}",selection:[1,1]};if(0<=a.getRowForOpenBraceIndent(g,c,!0)&&-1===f.indexOf(";")||/\S+\s*$/.test(f)&&-1===f.indexOf(";"))return{text:"{};",selection:[1,1]}}return h("{",i,k,g)}});this.add("braces","deletion",function(a,
b,c,d,e){if(this.insertMatching&&(a=d.doc.getTextRange(e),!e.isMultiLine()&&"{"==a)){a=d.doc.getLine(e.start.row);if(/^\s*do\s*\{\} while \(\);\s*$/.test(a)||/^\s*namespace\s*\{\} \/\/ end anonymous namespace\s*$/.test(a)||/^\s*namespace\s+.+\{\} \/\/ end namespace .+\s*$/.test(a))return e.end.column=a.length,e;d=a.substring(e.end.column,e.end.column+1);a=a.substring(e.end.column+1,e.end.column+2);if("}"==d)return e.end.column++,";"==a&&e.end.column++,e}});this.add("parens","insertion",function(a,
b,c,d,e){return!this.insertMatching?void 0:h("(",e,c,d)});this.add("parens","deletion",function(a,b,c,d,e){return!this.insertMatching?void 0:k("(",e,d)});this.add("brackets","insertion",function(a,b,c,d,e){return!this.insertMatching?void 0:h("[",e,c,d)});this.add("brackets","deletion",function(a,b,c,d,e){return!this.insertMatching?void 0:k("[",e,d)});this.add("string_dquotes","insertion",function(a,b,c,d,e){if(this.insertMatching&&('"'==e||"'"==e)){a=c.getSelectionRange();b=d.doc.getTextRange(a);
if(""!==b)return{text:e+b+e,selection:!1};c=c.getCursorPosition();b=d.doc.getLine(c.row);if("\\"==b.substring(c.column-1,c.column))return null;for(var d=d.getTokens(a.start.row),f=0,h,k=-1,g=0;g<d.length;g++){h=d[g];"string"==h.type?k=-1:0>k&&(k=h.value.indexOf(e));if(h.value.length+f>a.start.column)break;f+=d[g].value.length}if(!h||0>k&&"comment"!==h.type&&("string"!==h.type||a.start.column!==h.value.length+f-1&&h.value.lastIndexOf(e)===h.value.length-1))return{text:e+e,selection:[1,1]};if(h&&"string"===
h.type&&b.substring(c.column,c.column+1)==e)return{text:"",selection:[1,1]}}});this.add("string_dquotes","deletion",function(a,b,c,d,e){if(this.insertMatching&&(a=d.doc.getTextRange(e),!e.isMultiLine()&&('"'==a||"'"==a)))if(d=d.doc.getLine(e.start.row).substring(e.start.column+1,e.start.column+2),'"'===d||"'"===d)return e.end.column++,e});this.add("punctuation.operator","insertion",function(a,b,c,d,e){if(this.insertMatching&&";"===e&&(a=c.selection.getCursor(),";"==d.getLine(a.row)[a.column]))return{text:"",
selection:[1,1]}});this.add("macro","insertion",function(a,b,c,d,e){var b=c.getPrintMarginColumn(),b=Math.min(62,b),f=d.getDocument().$lines,h=c.getCursorPosition(),k=h.row,g=f[k],c=g.substring(0,h.column);if(/^\s*#\s*define[^\\]*$/.test(g)&&"\\"==e)return a=b-c.length+1,0<=a?{text:Array(a+1).join(" ")+"\\\n"+this.$getIndent(g)+d.getTabString(),selection:!1}:{text:"\\\n"+d.getTabString(),selection:!1};if(/^\s*#\s*define/.test(g)||this.codeModel.inMacro(f,k-1)){if("\\"==e&&/^\s*$/.test(g.substring(c.length,
g.length)))return a=b-c.length+1,0<=a?{text:Array(a+1).join(" ")+"\\",selection:!1}:{text:"\\",selection:!1};if("\n"==e){if(/^\s*$/.test(g)||/^\s*#\s*define/.test(g)&&!/\\\s*$/.test(g))return{text:"\n",selection:!1};if(/\\\s*$/.test(g)&&!/\\\s*$/.test(c))return{text:"",selection:[1,h.column,1,h.column]};d=d.getMode().getNextLineIndent(a,g+"\\",d.getTabString(),d.getTabSize(),k,!1);a=b-c.length+1;e=/\\\s*$/.test(c)?"":"\\";return 0<=a?{text:Array(a+1).join(" ")+e+"\n"+d,selection:!1}:{text:e+"\n"+
d,selection:!1}}}})};j.inherits(a,i);g.CStyleBehaviour=a;g.setAddNamespaceComment=function(a){b=a};g.getAddNamespaceComment=function(){return b};g.setFillinDoWhile=function(a){d=a};g.getFillinDoWhile=function(){return d}});define("mode/c_cpp_highlight_rules",function(c,g){var j=c("ace/lib/oop"),i=c("ace/lib/lang"),b=c("mode/doc_comment_highlight_rules").DocCommentHighlightRules,d=c("ace/mode/text_highlight_rules").TextHighlightRules,a=c("mode/tex_highlight_rules").TexHighlightRules,e=c("mode/r_highlight_rules").RHighlightRules,f=function(){function c(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var d=i.arrayToMap("alignas,alignof,and,and_eq,asm,auto,bitand,bitor,bool,break,case,catch,char,char16_t,char32_t,class,compl,const,constexpr,const_cast,continue,decltype,default,delete,do,double,dynamic_cast,else,enum,explicit,export,extern,false,float,for,friend,goto,if,inline,int,in,long,mutable,namespace,new,noexcept,not,not_eq,nullptr,or,or_eq,private,protected,public,register,reinterpret_cast,return,short,signed,sizeof,static,static_assert,static_cast,struct,switch,template,this,thread_local,throw,true,try,typedef,typeid,typeof,typename,union,unsigned,using,virtual,void,volatile,wchar_t,while,xor,xor_eq".split(",")),
f=i.arrayToMap(["NULL"]),g=">>=,<<=,new,delete,<<,>>,&&,||,==,!=,<=,>=,::,*=,+=,-=,/=,++,--,<>,&=,^=,%=,->,!,$,&,|,*,-,+,~,=".split(","),j=g.map(function(a){return c(a)}).join("|"),g=[",","()","[]","->*","->"].concat(g).map(function(a){return c(a)}),g=["new\\s*\\[\\]","delete\\s*\\[\\]"].concat(g),g="operator\\s*(?:"+g.join("|")+")|operator\\s+[\\w_]+";this.$rules={start:[{token:"comment.doc.tag",regex:"\\/\\/\\s*\\[\\[.*\\]\\].*$"},{token:"comment",regex:"\\/\\/'",next:"rd-start"},{token:"comment",
regex:"\\/\\/.*$"},b.getStartRule("doc-start"),{token:"comment",merge:!0,regex:"\\/\\*",next:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",merge:!0,regex:'["].*\\\\$',next:"qqstring"},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"string",merge:!0,regex:"['].*\\\\$",next:"qstring"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"0[bB][01']+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?(?:(?:[fF])|(?:(?:[uU]?(?:(?:l?l?)|(?:L?L?))?)|(?:(?:(?:l?l?)|(?:L?L?))[uU]?))|(?:_\\w+))?\\b"},
{token:"keyword.preproc",regex:"#\\s*include\\b",next:"include"},{token:"keyword.preproc",regex:"(?:"+"include,pragma,line,define,undef,ifdef,ifndef,if,else,elif,endif,warning,error".split(",").map(function(a){return"#\\s*"+a+"\\b"}).join("|")+")"},{token:"variable.language",regex:"\\b__\\S+__\\b"},{token:"keyword",regex:g},{token:function(a){return"this"==a?"variable.language":d.hasOwnProperty(a)?"keyword":f.hasOwnProperty(a)?"constant.language":"identifier"},regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},
{token:"keyword.operator",regex:j},{token:"punctuation.operator",regex:"\\?|\\:|\\,|\\;|\\.|\\\\"},{token:"paren.keyword.operator",regex:"[[({<]"},{token:"paren.keyword.operator",regex:"[\\])}>]"},{token:"text",regex:"\\s+"}],comment:[{token:"comment",regex:".*?\\*\\/",next:"start"},{token:"comment",merge:!0,regex:".+"}],qqstring:[{token:"string",regex:'(?:(?:\\\\.)|(?:[^"\\\\]))*?"',next:"start"},{token:"string",merge:!0,regex:".+"}],qstring:[{token:"string",regex:"(?:(?:\\\\.)|(?:[^'\\\\]))*?'",
next:"start"},{token:"string",merge:!0,regex:".+"}],include:[{token:"string",regex:/<.+>/,next:"start"},{token:"string",regex:/\".+\"/,next:"start"}]};j=(new a("comment")).getRules();for(g=0;g<j.start.length;g++)j.start[g].token+=".virtual-comment";this.addRules(j,"rd-");this.$rules["rd-start"].unshift({token:"text",regex:"^",next:"start"});this.$rules["rd-start"].unshift({token:"keyword",regex:"@(?!@)[^ ]*"});this.$rules["rd-start"].unshift({token:"comment",regex:"@@"});this.$rules["rd-start"].push({token:"comment",
regex:"[^%\\\\[({\\])}]+"});this.embedRules(b,"doc-",[b.getEndRule("start")]);this.$rules.start.unshift({token:"support.function.codebegin",regex:"^\\s*\\/\\*{3,}\\s+[Rr]\\s*$",next:"r-start"});this.addRules((new e).getRules(),"r-");this.$rules["r-start"].unshift({token:"support.function.codeend",regex:"\\*\\/",next:"start"})};j.inherits(f,d);g.c_cppHighlightRules=f});define("mode/c_cpp",function(c,g){var j=c("ace/lib/oop"),i=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("ace/range").Range;c("mode/r_highlight_rules");var a=c("mode/c_cpp_highlight_rules").c_cppHighlightRules,e=c("mode/c_cpp_matching_brace_outdent").MatchingBraceOutdent,f=c("mode/behaviour/cstyle").CStyleBehaviour,h=null;window.NodeWebkit||(h=c("mode/c_cpp_fold_mode").FoldMode);var k=c("mode/sweave_background_highlighter").SweaveBackgroundHighlighter,l=c("mode/r_code_model").RCodeModel,
o=c("mode/r_matching_brace_outdent").RMatchingBraceOutdent,z=c("mode/cpp_code_model").CppCodeModel;c("mode/token_cursor");var n=function(c,d,g){this.$session=g;this.$doc=d;this.$tokenizer=new b((new a).getRules());this.$r_outdent={};j.implement(this.$r_outdent,o);this.r_codeModel=new l(d,this.$tokenizer,/^r-/,/^\s*\/\*{3,}\s+(.*)\s*$/);this.codeModel=new z(g,this.$tokenizer);this.$behaviour=new f(this.codeModel);this.$outdent=new e(this.codeModel);this.$sweaveBackgroundHighlighter=new k(g,/^\s*\/\*{3,}\s+[Rr]\s*$/,
/^\s*\*\/$/,!0);window.NodeWebkit||(this.foldingRules=new h);this.$tokens=this.codeModel.$tokens;this.getLineSansComments=this.codeModel.getLineSansComments};j.inherits(n,i);(function(){this.wrapInsert=function(a,b,c,d){return this.cursorInRLanguageMode()?i.prototype.wrapInsert(a,b,c,d):b.call(a,c,d)};this.wrapRemove=function(a,b,c){return this.cursorInRLanguageMode()?i.prototype.wrapRemove(a,b,c):b.call(a,c)};this.insertChunkInfo={value:"/*** R\n\n*/\n",position:{row:1,column:0}};this.toggleCommentLines=
function(a,b,c,e){for(var f=!0,a=/^(\s*)\/\//,h=c;h<=e;h++)if(!a.test(b.getLine(h))){f=!1;break}if(f){f=new d(0,0,0,0);for(h=c;h<=e;h++)c=b.getLine(h).match(a),f.start.row=h,f.end.row=h,f.end.column=c[0].length,b.replace(f,c[1])}else b.indentRows(c,e,"//")};this.getLanguageMode=function(a){return this.$session.getState(a.row).match(/^r-/)?"R":"C_CPP"};this.cursorInRLanguageMode=function(){return"R"===this.getLanguageMode(this.$session.getSelection().getCursor())};this.inRLanguageMode=function(a){return a.match(/^r-/)};
this.getNextLineIndent=function(a,b,c,d,e,f){return this.inRLanguageMode(a)?this.r_codeModel.getNextLineIndent(e,b,a,c,d):this.codeModel.getNextLineIndent(e,b,a,c,d,f)};this.checkOutdent=function(a,b,c){return this.inRLanguageMode(a)?this.$r_outdent.checkOutdent(a,b,c):this.$outdent.checkOutdent(a,b,c)};this.autoOutdent=function(a,b,c){return this.inRLanguageMode(a)?this.$r_outdent.autoOutdent(a,b,c,this.r_codeModel):this.$outdent.autoOutdent(a,b,c)};this.$transformAction=this.transformAction;this.transformAction=
function(a,b,c,d,e){if(!this.inRLanguageMode(a))return this.$transformAction(a,b,c,d,e)}}).call(n.prototype);g.Mode=n});define("mode/c_cpp_fold_mode",function(c,g){var j=c("ace/lib/oop");c("ace/range");var i=c("ace/mode/folding/fold_mode").FoldMode,b=g.FoldMode=function(){};j.inherits(b,i);(function(){this.embeddedRComment=/^\s*\/\*{3,}\s+[Rr]\s*$/;this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/;this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/;this.getFoldWidget=function(b,a,c){b=b.getLine(c);return this.foldingStartMarker.test(b)&&!this.embeddedRComment.test(b)?"start":"markbeginend"==a&&this.foldingStopMarker&&
this.foldingStopMarker.test(b)?"end":""};this.getFoldWidgetRange=function(b,a,c){var f=b.getLine(c),h=f.match(this.foldingStartMarker);if(h)return a=h.index,h[1]?this.openingBracketBlock(b,h[1],c,a):b.getCommentFoldRange(c,a+h[0].length,1);if("markbeginend"===a&&(h=f.match(this.foldingStopMarker)))return a=h.index+h[0].length,h[1]?this.closingBracketBlock(b,h[1],c,a):b.getCommentFoldRange(c,a,-1)}}).call(b.prototype)});define("mode/python_highlight_rules",function(c,g){var j=c("ace/lib/oop"),i=c("ace/lib/lang"),b=c("ace/mode/text_highlight_rules").TextHighlightRules,d=function(){var a=i.arrayToMap("and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,not,or,pass,print,raise,return,try,while,with,yield".split(",")),b=i.arrayToMap("True,False,None,NotImplemented,Ellipsis,__debug__".split(",")),c=i.arrayToMap("abs,divmod,input,open,staticmethod,all,enumerate,int,ord,str,any,eval,isinstance,pow,sum,basestring,execfile,issubclass,print,super,binfile,iter,property,tuple,bool,filter,len,range,type,bytearray,float,list,raw_input,unichr,callable,format,locals,reduce,unicode,chr,frozenset,long,reload,vars,classmethod,getattr,map,repr,xrange,cmp,globals,max,reversed,zip,compile,hasattr,memoryview,round,__import__,complex,hash,min,set,apply,delattr,help,next,setattr,buffer,dict,hex,object,slice,coerce,dir,id,oct,sorted,intern".split(",")),
d=i.arrayToMap([]);this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"string",regex:'(?:r|u|ur|R|U|UR|Ur|uR)?"{3}(?:[^\\\\]|\\\\.)*?"{3}'},{token:"string",merge:!0,regex:'(?:r|u|ur|R|U|UR|Ur|uR)?"{3}.*$',next:"qqstring"},{token:"string",regex:'(?:r|u|ur|R|U|UR|Ur|uR)?"(?:[^\\\\]|\\\\.)*?"'},{token:"string",regex:"(?:r|u|ur|R|U|UR|Ur|uR)?'{3}(?:[^\\\\]|\\\\.)*?'{3}"},{token:"string",merge:!0,regex:"(?:r|u|ur|R|U|UR|Ur|uR)?'{3}.*$",next:"qstring"},{token:"string",regex:"(?:r|u|ur|R|U|UR|Ur|uR)?'(?:[^\\\\]|\\\\.)*?'"},
{token:"constant.numeric",regex:"(?:(?:(?:(?:(?:(?:(?:\\d+)?(?:\\.\\d+))|(?:(?:\\d+)\\.))|(?:\\d+))(?:[eE][+-]?\\d+))|(?:(?:(?:\\d+)?(?:\\.\\d+))|(?:(?:\\d+)\\.)))|\\d+)[jJ]\\b"},{token:"constant.numeric",regex:"(?:(?:(?:(?:(?:(?:\\d+)?(?:\\.\\d+))|(?:(?:\\d+)\\.))|(?:\\d+))(?:[eE][+-]?\\d+))|(?:(?:(?:\\d+)?(?:\\.\\d+))|(?:(?:\\d+)\\.)))"},{token:"constant.numeric",regex:"(?:(?:(?:[1-9]\\d*)|(?:0))|(?:0[oO]?[0-7]+)|(?:0[xX][\\dA-Fa-f]+)|(?:0[bB][01]+))[lL]\\b"},{token:"constant.numeric",regex:"(?:(?:(?:[1-9]\\d*)|(?:0))|(?:0[oO]?[0-7]+)|(?:0[xX][\\dA-Fa-f]+)|(?:0[bB][01]+))\\b"},
{token:function(k){return a.hasOwnProperty(k)?"keyword":b.hasOwnProperty(k)?"constant.language":d.hasOwnProperty(k)?"invalid.illegal":c.hasOwnProperty(k)?"support.function":"debugger"==k?"invalid.deprecated":"identifier"},regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|%|<<|>>|&|\\||\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:"text",regex:"\\s+"}],qqstring:[{token:"string",
regex:'(?:[^\\\\]|\\\\.)*?"{3}',next:"start"},{token:"string",merge:!0,regex:".+"}],qstring:[{token:"string",regex:"(?:[^\\\\]|\\\\.)*?'{3}",next:"start"},{token:"string",merge:!0,regex:".+"}]}};j.inherits(d,b);g.PythonHighlightRules=d});define("mode/python",function(c,g){var j=c("ace/lib/oop"),i=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("mode/python_highlight_rules").PythonHighlightRules,a=c("mode/pythonic_fold_mode").FoldMode,e=c("ace/range").Range,f=function(){this.$tokenizer=new b((new d).getRules());this.foldingRules=new a("\\:")};j.inherits(f,i);(function(){this.toggleCommentLines=function(a,b,c,d){for(var f=!0,a=/^(\s*)#/,h=c;h<=d;h++)if(!a.test(b.getLine(h))){f=!1;break}if(f){f=new e(0,0,0,0);for(h=c;h<=d;h++)c=
b.getLine(h).match(a),f.start.row=h,f.end.row=h,f.end.column=c[0].length,b.replace(f,c[1])}else b.indentRows(c,d,"#")};this.getNextLineIndent=function(a,b,c){var d=this.$getIndent(b),e=this.$tokenizer.getLineTokens(b,a).tokens;if(e.length&&"comment"==e[e.length-1].type)return d;"start"==a&&b.match(/^.*[\{\(\[\:]\s*$/)&&(d+=c);return d};var a={pass:1,"return":1,raise:1,"break":1,"continue":1};this.checkOutdent=function(b,c,d){if("\r\n"!==d&&"\r"!==d&&"\n"!==d)return!1;b=this.$tokenizer.getLineTokens(c.trim(),
b).tokens;if(!b)return!1;do c=b.pop();while(c&&("comment"==c.type||"text"==c.type&&c.value.match(/^\s+$/)));return!c?!1:"keyword"==c.type&&a[c.value]};this.autoOutdent=function(a,b,c){var c=c+1,a=this.$getIndent(b.getLine(c)),d=b.getTabString();a.slice(-d.length)==d&&b.remove(new e(c,a.length-d.length,c,a.length))}}).call(f.prototype);g.Mode=f});define("mode/pythonic_fold_mode",function(c,g){var j=c("ace/lib/oop"),i=c("ace/mode/folding/fold_mode").FoldMode,b=g.FoldMode=function(b){this.foldingStartMarker=RegExp("([\\[{])(?:\\s*)$|("+b+")(?:\\s*)(?:#.*)?$")};j.inherits(b,i);(function(){this.getFoldWidgetRange=function(b,a,c){if(a=b.getLine(c).match(this.foldingStartMarker))return a[1]?this.openingBracketBlock(b,a[1],c,a.index):a[2]?this.indentationBlock(b,c,a.index+a[2].length):this.indentationBlock(b,c)}}).call(b.prototype)});define("mode/sql_highlight_rules",function(c,g){var j=c("ace/lib/oop"),i=c("ace/lib/lang"),b=c("ace/mode/text_highlight_rules").TextHighlightRules,d=function(){var a=i.arrayToMap("select,from,where,and,or,group,by,order,limit,offset,having,as,case,when,else,end,type,left,right,join,on,outer,desc,asc".split(",")),b=i.arrayToMap(["true","false","null"]),c=i.arrayToMap("count,min,max,avg,sum,rank,now,coalesce".split(","));this.$rules={start:[{token:"comment",regex:"--.*$"},{token:"string",regex:'".*"'},
{token:"string",regex:"'.*'"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:function(d){d=d.toLowerCase();return a.hasOwnProperty(d)?"keyword":b.hasOwnProperty(d)?"constant.language":c.hasOwnProperty(d)?"support.function":"identifier"},regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\/|\\/\\/|%|<@>|@>|<@|&|\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"paren.lparen",regex:"[\\(]"},{token:"paren.rparen",regex:"[\\)]"},{token:"text",regex:"\\s+"}]}};
j.inherits(d,b);g.SqlHighlightRules=d});define("mode/sql",function(c,g){var j=c("ace/lib/oop"),i=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("mode/sql_highlight_rules").SqlHighlightRules,a=c("ace/range").Range,e=function(){this.$tokenizer=new b((new d).getRules())};j.inherits(e,i);(function(){this.toggleCommentLines=function(b,c,d,e){for(var g=!0,b=/^(\s*)--/,i=d;i<=e;i++)if(!b.test(c.getLine(i))){g=!1;break}if(g){g=new a(0,0,0,0);for(i=d;i<=e;i++)d=c.getLine(i).match(b),g.start.row=i,g.end.row=i,g.end.column=d[0].length,
c.replace(g,d[1])}else c.indentRows(d,e,"--")}}).call(e.prototype);g.Mode=e});define("mode/sh_highlight_rules",function(c,g){var j=c("ace/lib/oop"),i=c("ace/lib/lang"),b=c("ace/mode/text_highlight_rules").TextHighlightRules,d=function(){var a=i.arrayToMap("!,{,},case,do,done,elif,else,esac,fi,for,if,in,then,until,while,&,;,export,local,read,typeset,unset,elif,select,set".split(",")),b=i.arrayToMap("[,],alias,bg,bind,break,builtin,cd,command,compgen,complete,continue,dirs,disown,echo,enable,eval,exec,exit,fc,fg,getopts,hash,help,history,jobs,kill,let,logout,popd,printf,pushd,pwd,return,set,shift,shopt,source,suspend,test,times,trap,type,ulimit,umask,unalias,wait".split(","));
this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"string",regex:'"(?:[^\\\\]|\\\\.)*?"'},{token:"variable.language",regex:"(?:\\$(?:SHLVL|\\$|\\!|\\?))"},{token:"variable",regex:"(?:(?:\\$[a-zA-Z][a-zA-Z0-9_]*)|(?:[a-zA-Z][a-zA-Z0-9_]*=))"},{token:"support.function",regex:"(?:[a-zA-Z][a-zA-Z0-9_]*\\s*\\(\\))"},{token:"support.function",regex:"(?:&(?:\\d+))"},{token:"string",regex:"'(?:[^\\\\]|\\\\.)*?'"},{token:"constant.numeric",regex:"(?:(?:(?:(?:(?:(?:\\d+)?(?:\\.\\d+))|(?:(?:\\d+)\\.))|(?:\\d+)))|(?:(?:(?:\\d+)?(?:\\.\\d+))|(?:(?:\\d+)\\.)))"},
{token:"constant.numeric",regex:"(?:(?:[1-9]\\d*)|(?:0))\\b"},{token:function(c){return a.hasOwnProperty(c)?"keyword":b.hasOwnProperty(c)?"constant.language":"debugger"==c?"invalid.deprecated":"identifier"},regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|~|<|>|<=|=>|=|!="},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:"text",regex:"\\s+"}]}};j.inherits(d,b);g.ShHighlightRules=d});define("mode/sh",function(c,g){var j=c("ace/lib/oop"),i=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("mode/sh_highlight_rules").ShHighlightRules,a=c("ace/range").Range,e=function(){this.$tokenizer=new b((new d).getRules())};j.inherits(e,i);(function(){this.toggleCommentLines=function(b,c,d,e){for(var f=!0,b=/^(\s*)#/,g=d;g<=e;g++)if(!b.test(c.getLine(g))){f=!1;break}if(f){f=new a(0,0,0,0);for(g=d;g<=e;g++)d=c.getLine(g).match(b),f.start.row=g,f.end.row=g,f.end.column=d[0].length,c.replace(f,
d[1])}else c.indentRows(d,e,"#")};this.getNextLineIndent=function(a,b,c){var d=this.$getIndent(b),e=this.$tokenizer.getLineTokens(b,a).tokens;if(e.length&&"comment"==e[e.length-1].type)return d;"start"==a&&b.match(/^.*[\{\(\[\:]\s*$/)&&(d+=c);return d};var b={pass:1,"return":1,raise:1,"break":1,"continue":1};this.checkOutdent=function(a,c,d){if("\r\n"!==d&&"\r"!==d&&"\n"!==d)return!1;a=this.$tokenizer.getLineTokens(c.trim(),a).tokens;if(!a)return!1;do c=a.pop();while(c&&("comment"==c.type||"text"==
c.type&&c.value.match(/^\s+$/)));return!c?!1:"keyword"==c.type&&b[c.value]};this.autoOutdent=function(b,c,d){var d=d+1,b=this.$getIndent(c.getLine(d)),e=c.getTabString();b.slice(-e.length)==e&&c.remove(new a(d,b.length-e.length,d,b.length))}}).call(e.prototype);g.Mode=e});define("mode/yaml_highlight_rules",function(c,g){var j=c("ace/lib/oop"),i=c("ace/mode/text_highlight_rules").TextHighlightRules,b=function(){this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"comment",regex:"^---"},{token:"variable",regex:"[&\\*][a-zA-Z0-9-_]+"},{token:["identifier","text"],regex:"(\\w+\\s*:)(\\w*)"},{token:"keyword.operator",regex:"<<\\w*:\\w*"},{token:"keyword.operator",regex:"-\\s*(?=[{])"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",merge:!0,
regex:"[\\|>]\\w*",next:"qqstring"},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false|yes|no)\\b"},{token:"invalid.illegal",regex:"\\/\\/.*$"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],qqstring:[{token:"string",regex:"(?=(?:(?:\\\\.)|(?:[^:]))*?:)",next:"start"},{token:"string",merge:!0,regex:".+"}]}};
j.inherits(b,i);g.YamlHighlightRules=b});define("mode/yaml",function(c,g){var j=c("ace/lib/oop"),i=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("mode/yaml_highlight_rules").YamlHighlightRules,a=c("ace/mode/matching_brace_outdent").MatchingBraceOutdent,e=function(){this.$tokenizer=new b((new d).getRules());this.$outdent=new a};j.inherits(e,i);(function(){this.getNextLineIndent=function(a,b,c){var d=this.$getIndent(b);"start"==a&&b.match(/^.*[\{\(\[]\s*$/)&&(d+=c);return d};this.checkOutdent=function(a,b,c){return this.$outdent.checkOutdent(b,
c)};this.autoOutdent=function(a,b,c){this.$outdent.autoOutdent(b,c)}}).call(e.prototype);g.Mode=e});define("mode/xml",function(c,g){var j=c("ace/lib/oop"),i=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("mode/xml_highlight_rules").XmlHighlightRules,a=c("mode/xml_behavior").XmlBehaviour,e=c("mode/xml_fold_mode").FoldMode,f=function(){this.$tokenizer=new b((new d).getRules());this.$behaviour=new a;this.foldingRules=new e};j.inherits(f,i);(function(){this.getNextLineIndent=function(a,b){return this.$getIndent(b)}}).call(f.prototype);g.Mode=f});define("mode/xml_behavior",function(c,g){function j(a,b){var c=!0,d=a.type.split(".");b.split(".").forEach(function(a){if(-1==d.indexOf(a))return c=!1});return c}var i=c("ace/lib/oop"),b=c("ace/mode/behaviour").Behaviour,d=c("ace/mode/behaviour/cstyle").CstyleBehaviour,a=c("ace/token_iterator").TokenIterator,e=function(){this.inherit(d,["string_dquotes"]);this.add("autoclosing","insertion",function(b,c,d,e,g){if(">"==g){b=d.getCursorPosition();d=new a(e,b.row,b.column);e=d.getCurrentToken();c=!1;
if(!e||!j(e,"meta.tag")&&(!j(e,"text")||!e.value.match("/"))){do e=d.stepBackward();while(e&&(j(e,"string")||j(e,"keyword.operator")||j(e,"entity.attribute-name")||j(e,"text")))}else c=!0;if(e&&j(e,"meta.tag-name")&&!d.stepBackward().value.match("/"))return d=e.value,c&&(d=d.substring(0,b.column-e.start)),{text:"></"+d+">",selection:[1,1]}}});this.add("autoindent","insertion",function(a,b,c,d,e){if("\n"==e&&(b=c.getCursorPosition(),"</"==d.doc.getLine(b.row).substring(b.column,b.column+2)))return a=
this.$getIndent(d.doc.getLine(b.row))+d.getTabString(),d=this.$getIndent(d.doc.getLine(b.row)),{text:"\n"+a+"\n"+d,selection:[1,a.length,1,a.length]}})};i.inherits(e,b);g.XmlBehaviour=e});define("mode/xml_fold_mode",function(c,g){var j=c("ace/lib/oop"),i=c("ace/lib/lang"),b=c("ace/range").Range,d=c("ace/mode/folding/fold_mode").FoldMode,a=c("ace/token_iterator").TokenIterator,e=g.FoldMode=function(a){d.call(this);this.voidElements=a||{}};j.inherits(e,d);(function(){this.getFoldWidget=function(a,b,c){a=this._getFirstTagInLine(a,c);return a.closing?"markbeginend"==b?"end":"":!a.tagName||this.voidElements[a.tagName.toLowerCase()]||a.selfClosing||-1!==a.value.indexOf("/"+a.tagName)?"":
"start"};this._getFirstTagInLine=function(a,b){for(var c=a.getTokens(b),d="",e=0;e<c.length;e++)var g=c[e],d=0===g.type.indexOf("meta.tag")?d+g.value:d+i.stringRepeat(" ",g.value.length);return this._parseTag(d)};this.tagRe=/^(\s*)(<?(\/?)([-_a-zA-Z0-9:!]*)\s*(\/?)>?)/;this._parseTag=function(a){var b=this.tagRe.exec(a),c=this.tagRe.lastIndex||0;this.tagRe.lastIndex=0;return{value:a,match:b?b[2]:"",closing:b?!!b[3]:!1,selfClosing:b?!!b[5]||"/>"==b[2]:!1,tagName:b?b[4]:"",column:b[1]?c+b[1].length:
c}};this._readTagForward=function(a){var b=a.getCurrentToken();if(!b)return null;var c="",d;do if(0===b.type.indexOf("meta.tag")&&(d||(d={row:a.getCurrentTokenRow(),column:a.getCurrentTokenColumn()}),c+=b.value,-1!==c.indexOf(">")))return c=this._parseTag(c),c.start=d,c.end={row:a.getCurrentTokenRow(),column:a.getCurrentTokenColumn()+b.value.length},a.stepForward(),c;while(b=a.stepForward());return null};this._readTagBackward=function(a){var b=a.getCurrentToken();if(!b)return null;var c="",d;do if(0===
b.type.indexOf("meta.tag")&&(d||(d={row:a.getCurrentTokenRow(),column:a.getCurrentTokenColumn()+b.value.length}),c=b.value+c,-1!==c.indexOf("<")))return b=this._parseTag(c),b.end=d,b.start={row:a.getCurrentTokenRow(),column:a.getCurrentTokenColumn()},a.stepBackward(),b;while(b=a.stepBackward());return null};this._pop=function(a,b){for(;a.length;){var c=a[a.length-1];if(!b||c.tagName==b.tagName)return a.pop();if(this.voidElements[b.tagName])break;else if(this.voidElements[c.tagName])a.pop();else return null}};
this.getFoldWidgetRange=function(c,d,e){var g=this._getFirstTagInLine(c,e);if(!g.match)return null;d=[];if(g.closing||g.selfClosing){c=new a(c,e,g.column+g.match.length);for(g={row:e,column:g.column};e=this._readTagBackward(c);){if(e.selfClosing)if(d.length)continue;else return e.start.column+=e.tagName.length+2,e.end.column-=2,b.fromPoints(e.start,e.end);if(e.closing)d.push(e);else if(this._pop(d,e),0==d.length)return e.start.column+=e.tagName.length+2,b.fromPoints(e.start,g)}}else{c=new a(c,e,g.column);
for(g={row:e,column:g.column+g.tagName.length+2};e=this._readTagForward(c);){if(e.selfClosing)if(d.length)continue;else return e.start.column+=e.tagName.length+2,e.end.column-=2,b.fromPoints(e.start,e.end);if(e.closing){if(this._pop(d,e),0==d.length)return b.fromPoints(g,e.start)}else d.push(e)}}}}).call(e.prototype)});define("mode/xml_highlight_rules",function(c,g){var j=c("ace/lib/oop"),i=c("mode/xml_util"),b=c("ace/mode/text_highlight_rules").TextHighlightRules,d=function(){this.$rules={start:[{token:"text",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:"xml_pe",regex:"<\\?.*?\\?>"},{token:"comment",merge:!0,regex:"<\\!--",next:"comment"},{token:"xml_pe",regex:"<\\!.*?>"},{token:"meta.tag",regex:"<\\/?",next:"tag"},{token:"text",regex:"\\s+"},{token:"constant.character.entity",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"},
{token:"text",regex:"[^<]+"}],cdata:[{token:"text",regex:"\\]\\]>",next:"start"},{token:"text",regex:"\\s+"},{token:"text",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment",regex:".*?--\>",next:"start"},{token:"comment",merge:!0,regex:".+"}]};i.tag(this.$rules,"tag","start")};j.inherits(d,b);g.XmlHighlightRules=d});define("mode/xml_util",function(c,g){function j(c,b){return[{token:"string",merge:!0,regex:".*?"+c,next:b},{token:"string",merge:!0,regex:".+"}]}g.tag=function(c,b,d,a){c[b]=[{token:"text",regex:"\\s+"},{token:function(b){return a&&a[b]?"meta.tag.tag-name."+a[b]:"meta.tag.tag-name"},merge:!0,regex:"[-_a-zA-Z0-9:]+",next:b+"_embed_attribute_list"},{token:"empty",regex:"",next:b+"_embed_attribute_list"}];c[b+"_qstring"]=j("'",b+"_embed_attribute_list");c[b+"_qqstring"]=j('"',b+"_embed_attribute_list");
c[b+"_embed_attribute_list"]=[{token:"meta.tag",merge:!0,regex:"/?>",next:d},{token:"keyword.operator",regex:"="},{token:"entity.other.attribute-name",regex:"[-_a-zA-Z0-9:]+"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"text",regex:"\\s+"}].concat([{token:"string",regex:'".*?"'},{token:"string",merge:!0,regex:'["].*',next:b+"_qqstring"},{token:"string",regex:"'.*?'"},{token:"string",merge:!0,regex:"['].*",next:b+"_qstring"}])}});define("theme/default",function(c,g){c("ace/lib/dom");g.cssClass="ace-rs"});