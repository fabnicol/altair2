if(!String.prototype.trimRight){var trimEndRegexp=/\s\s*$/;String.prototype.trimRight=function(){return(""+this).replace(trimEndRegexp,"")}}
define("rstudio/loader",function(c,h){var j=c("ace/lib/oop");c("ace/lib/event");c("ace/lib/event_emitter");var i=c("ace/editor").Editor,b=c("ace/edit_session").EditSession,d=c("ace/undomanager").UndoManager,a=c("ace/range").Range,f=c("mode/utils"),e=function(e,a){i.call(this,e,a);this.setBehavioursEnabled(!0);this.$blockScrolling=Infinity};j.inherits(e,i);(function(){this.remove=function(e){return this.session.getMode().wrapRemove?this.session.getMode().wrapRemove(this,i.prototype.remove,e):i.prototype.remove.call(this,
e)};this.undo=function(){i.prototype.undo.call(this);this._dispatchEvent("undo")};this.redo=function(){i.prototype.redo.call(this);this._dispatchEvent("redo")}}).call(e.prototype);var g=function(e,a){b.call(this,e,a)};j.inherits(g,b);(function(){this.insert=function(e,a){return this.getMode().wrapInsert?this.getMode().wrapInsert(this,b.prototype.insert,e,a):b.prototype.insert.call(this,e,a)};this.reindent=function(e){var a=this.getMode();if(a.getNextLineIndent){for(var b=e.start.row,e=e.end.row,d=
b;d<=e;d++)if(0===d)this.applyIndent(d,"");else{var g=f.getPrimaryState(this,d-1);if(!("qstring"==g||"qqstring"==g)){var k=this.getLine(d-1);this.getLine(d);k=a.getNextLineIndent(g,k,this.getTabString(),d-1,!0);this.applyIndent(d,k);a.autoOutdent(g,this,d)}}a=a.codeModel;"undefined"!==typeof a&&(a=a.alignContinuationSlashes,"undefined"!==typeof a&&a(this.getDocument(),{start:b,end:e}))}};this.applyIndent=function(e,b){var d=this.getLine(e).match(/^\s*/g)[0].length;this.replace(new a(e,0,e,d),b)};
this.setDisableOverwrite=function(e){e?(this.setOverwrite(!1),this.setOverwrite=function(){},this.getOverwrite=function(){return!1}):(this.setOverwrite=b.prototype.setOverwrite,this.getOverwrite=b.prototype.getOverwrite)}}).call(g.prototype);var k=function(){d.call(this)};j.inherits(k,d);(function(){this.peek=function(){return this.$undoStack.length?this.$undoStack[this.$undoStack.length-1]:null}}).call(k.prototype);h.loadEditor=function(a){var b;function d(e){b.commands.removeCommand(e)}b=void 0;
var f=c("ace/virtual_renderer").VirtualRenderer,i=c("ace/mode/text").Mode;b=new e(new f(a,{}),new g(""));a=b.getSession();a.setMode(new i);a.setUndoManager(new k);d("findnext");d("findprevious");d("find");d("replace");d("togglecomment");d("gotoline");d("foldall");d("unfoldall");d("touppercase");d("tolowercase");return b}});define("mode/auto_brace_insert",function(c,h){var j=c("ace/range").Range,i=c("ace/mode/text").Mode;(function(){this.$complements={"(":")","[":"]",'"':'"',"{":"}"};this.$reOpen=/^[(["{]$/;this.$reClose=/^[)\]"}]$/;this.$reStop=/^[;,\s)\]}]$/;this.wrapInsert=function(b,d,a,f){if(!this.insertMatching)return d.call(b,a,f);var e=b.selection.getCursor();if(e=b.selection.isEmpty()&&a.row==e.row&&a.column==e.column){var g=j.fromPoints(a,{row:a.row,column:a.column+1}),k=b.doc.getTextRange(g);if(this.$reClose.test(k)&&
k==f){b.selection.moveCursorTo(g.end.row,g.end.column,!1);return}}g=null;e&&(g=this.$moveLeft(b.doc,a),g=b.doc.getTextRange(j.fromPoints(g,a)));d=d.call(b,a,f);if(e&&this.$reOpen.test(f)){if(a=j.fromPoints(d,{row:d.row,column:d.column+1}),a=b.doc.getTextRange(a),(this.$reStop.test(a)||0==a.length)&&this.allowAutoInsert(b,d,this.$complements[f]))b.doc.insert(d,this.$complements[f]),b.selection.moveCursorTo(d.row,d.column,!1)}else if(e&&"\n"===f&&(f=this.$moveRight(b.doc,d),f=b.doc.getTextRange(j.fromPoints(d,
f)),"{"===g&&"}"===f||"("===g&&")"===f||"["===g&&"]"===f))a=this.getIndentForOpenBrace?this.getIndentForOpenBrace(this.$moveLeft(b.doc,a)):this.$getIndent(b.doc.getLine(d.row-1)),b.doc.insert(d,"\n"+a),b.selection.moveCursorTo(d.row,d.column,!1);return d};this.allowAutoInsert=function(){return!0};this.smartAllowAutoInsert=function(b,d,a){return"'"!==a&&'"'!==a||0==d.column?!0:(b=this.codeModel.getTokenForPos(d,!1,!0))&&"string"===b.type&&b.column===d.column-1};this.wrapRemove=function(b,d,a){var f=
b.selection.getCursor(),e=b.session.getDocument();if(!this.insertMatching||"left"!=a||!b.selection.isEmpty()||b.$readOnly||0==f.column||e.getLine(f.row).length<=f.column)return d.call(b,a);var g=j.fromPoints(this.$moveLeft(e,f),f),f=j.fromPoints(f,this.$moveRight(e,f)),g=e.getTextRange(g),e=this.$reOpen.test(g)&&this.$complements[g]==e.getTextRange(f);d.call(b,a);e&&d.call(b,"right")};this.$moveLeft=function(b,d){if(0==d.row&&0==d.column)return d;var a=d.row,f=d.column;f?f--:(a--,f=b.getLine(a).length);
return{row:a,column:f}};this.$moveRight=function(b,d){var a=d.row,f=d.column;b.getLine(a).length!=f?f++:(a++,f=0);return a>=b.getLength()?d:{row:a,column:f}}}).call(i.prototype);h.setInsertMatching=function(b){i.prototype.insertMatching=b}});define("mode/token_utils",function(c,h){var j=function(c,b,d,a,f){this.$doc=c;this.$tokenizer=b;this.$tokens=d;this.$endStates=Array(c.getLength());this.$statePattern=a;this.$codeBeginPattern=f};(function(){this.getTokenForPos=function(c,b,d){this.$tokenizeUpToRow(c.row);if(this.$tokens.length<=c.row)return null;for(var a=this.$tokens[c.row],f=0;f<a.length;f++){var e=a[f];if(b&&c.column==e.column)return e;if(c.column<=e.column)break;if(d&&c.column==e.column+e.value.length||c.column<e.column+e.value.length)return e}return null};
this.$tokenizeUpToRow=function(c){for(var c=Math.min(c,this.$doc.getLength()-1),b=0,d=!0;b<=c;b++)if(!d||!this.$endStates[b]){var d=!1,a=0===b?"start":this.$endStates[b-1],f=this.$tokenizer.getLineTokens(this.$doc.getLine(b),a);this.$tokens[b]=!this.$statePattern||this.$statePattern.test(f.state)||this.$statePattern.test(a)?this.$filterWhitespaceAndComments(f.tokens):[];f.state===this.$endStates[b]?d=!0:this.$endStates[b]=f.state}d||b<this.$tokens.length&&this.$invalidateRow(b);return!0};this.$filterWhitespaceAndComments=
function(c){for(var c=c.filter(function(e){e=/\bcode(?:begin|end)\b/.test(e.type)||/\bsectionhead\b/.test(e.type)?!1:/^\s*$/.test(e.value)||e.type.match(/\b(?:ace_virtual-)?comment\b/);return!e}),b=c.length-1;0<=b;b--)if(1<c[b].value.length&&/\bparen\b/.test(c[b].type)){var d=c[b];c.splice(b,1);for(var a=d.value.length-1;0<=a;a--){var f={type:d.type,value:d.value.charAt(a),column:d.column+a};c.splice(b,0,f)}}return c};this.$invalidateRow=function(c){this.$tokens[c]=null;this.$endStates[c]=null};this.$insertNewRows=
function(c,b){for(var d=[c,0],a=0;a<b;a++)d.push(null);this.$tokens.splice.apply(this.$tokens,d);this.$endStates.splice.apply(this.$endStates,d)};this.$removeRows=function(c,b){this.$tokens.splice(c,b);this.$endStates.splice(c,b)};this.$walkParens=function(c,b,d){var a=/\bparen\b/;return c<b?function(){for(;c<=b;c++)for(var f=this.$tokens[c],e=0;e<f.length;e++)if(a.test(f[e].type)&&!d(f[e].value,{row:c,column:f[e].column}))return!1;return!0}.call(this):function(){c=Math.max(0,c);for(b=Math.max(0,
b);c>=b;c--)for(var f=this.$tokens[c],e=f.length-1;0<=e;e--)if(a.test(f[e].type)&&!d(f[e].value,{row:c,column:f[e].column}))return!1;return!0}.call(this)};this.$walkParensBalanced=function(c,b,d,a,f){var e=[],g=null;this.$walkParens(c,b,function(b,c){if(d&&d(e,b,c))return g=c,!1;if(/[\[({]/.test(b))if(e[e.length-1]===f[b])e.pop();else return!0;else e.push(b);return a&&a(e,b,c)?(g=c,!1):!0});return g};this.$findNextSignificantToken=function(c,b){if(0==this.$tokens.length)return null;for(var b=Math.min(b,
this.$tokens.length-1),d=c.row,a=c.column;d<=b;d++){for(var f=this.$tokens[d],e=0;e<f.length;e++)if(f[e].column+f[e].value.length>a)return{token:f[e],row:d,column:Math.max(f[e].column,a),offset:e};a=0}return null};this.findNextSignificantToken=function(c){return this.$findNextSignificantToken(c,this.$tokens.length-1)};this.$findPreviousSignificantToken=function(c,b){if(0==this.$tokens.length)return null;for(var b=Math.max(0,b),d=Math.min(c.row,this.$tokens.length-1);d>=b;d--){var a=this.$tokens[d];
if(0!=a.length){if(d!=c.row)return{row:d,column:a[a.length-1].column,token:a[a.length-1],offset:a.length-1};for(var f=a.length-1;0<=f;f--)if(a[f].column<c.column)return{row:d,column:a[f].column,token:a[f],offset:f}}}return null}}).call(j.prototype);h.TokenUtils=j});define("mode/token_cursor",function(c,h){var j=c("ace/lib/oop"),i=function(a,b,e){this.$tokens=a;this.$row=b||0;this.$offset=e||0};(function(){function a(e,a){function b(){return e.apply(this,a)}b.prototype=e.prototype;return new b}var b={"(":")","{":"}","<":">","[":"]",")":"(","}":"{",">":"<","]":"["};this.moveToStartOfRow=function(e){this.$row=e;this.$offset=0};this.moveToPreviousToken=function(){if(0>=this.$row&&0>=this.$offset)return this.$offset=this.$row=0,!1;if(0<this.$offset)return this.$offset--,
!0;for(var e=this.$row-1,a=0;0<=e;){var b=this.$tokens[e];if(b&&0!==b.length){a=b.length;break}e--}if(0>e)return!1;this.$row=e;this.$offset=a-1;return!0};this.moveToNextToken=function(e){"undefined"===typeof e&&(e=(this.$tokens||[]).length);if(this.$row>e)return!1;null==this.$tokens[this.$row]&&this.$codeModel&&this.$codeModel.$tokenizeUpToRow&&this.$codeModel.$tokenizeUpToRow.call(this.$codeModel,e);var a=this.$tokens[this.$row];if(a&&this.$offset<a.length-1)return this.$offset++,!0;for(var b=this.$row+
1;b<=e&&!((a=this.$tokens[b])&&0!==a.length);)b++;if(b>e)return!1;this.$row=b;this.$offset=0;return!0};this.peekBwd=function(e){"undefined"===typeof e&&(e=1);for(var a=this.cloneCursor(),b=0;b<e;b++)if(!a.moveToPreviousToken())return a.$invalidate();return a};this.peekFwd=function(e){"undefined"===typeof e&&(e=1);for(var a=this.cloneCursor(),b=0;b<e;b++)if(!a.moveToNextToken())return a.$invalidate();return a};this.$invalidate=function(){this.$column=this.$row=0;this.$tokens=[];return this};this.seekToNearestToken=
function(e,a){if(e.row>a)return!1;this.$row=e.row;var b=this.$tokens[this.$row]||[];for(this.$offset=0;this.$offset<b.length;this.$offset++)if(b[this.$offset].column>=e.column)return!0;return e.row<a?this.moveToNextToken(a):!1};this.bwdToNearestToken=function(e){this.$row=e.row;this.$offset=e.column;for(var a=this.$tokens[this.$row]||[];0<=this.$offset;this.$offset--){var b=a[this.$offset];if("undefined"!==typeof b&&b.column<=e.column)return!0}return this.moveToPreviousToken()};this.bwdToMatchingToken=
function(){var e=this.currentValue(),a=b[e];if(![")","}","]"].some(function(a){return a===e}))return!1;for(var d=0;this.moveToPreviousToken();)if(this.currentValue()===a){if(0===d)return!0;d--}else this.currentValue()===e&&d++;return!1};this.fwdToMatchingToken=function(){var e=this.currentValue(),a=b[e];if(!["(","{","["].some(function(a){return a===e}))return!1;for(var d=0;this.moveToNextToken();)if(this.currentValue()===a){if(0===d)return!0;d--}else this.currentValue()===e&&d++;return!1};this.equals=
function(e){return this.$row===e.$row&&this.$offset===e.$offset};this.bwdToMatchingTokenShortCircuit=function(e){var a=this.currentValue(),d=b[a];if(!"),},],>,',\"".split(",").some(function(e){return e===a}))return!1;for(var c=0;this.moveToPreviousToken()&&!e(this);)if(this.currentValue()===d){if(0===c)return!0;c--}else this.currentValue()===a&&c++;return!1};this.moveBackwardOverMatchingParens=function(){if(!this.moveToPreviousToken())return!1;if(")"!==this.currentValue())return this.moveToNextToken(),
!1;for(var e=!1,a=0;this.moveToPreviousToken();)if("("===this.currentValue()){if(0===a){e=!0;break}a--}else")"===this.currentValue()&&a++;return e};this.findToken=function(a,b){do{var d=this.currentToken();if(d&&a(d))return d}while(this.moveToNextToken(b));return null};this.findTokenBwd=function(a,b){do{var d=this.currentToken();if(d&&a(d))return d}while(this.moveToPreviousToken(b));return null};this.currentToken=function(){var a=(this.$tokens[this.$row]||[])[this.$offset];return"undefined"===typeof a?
{}:a};this.currentValue=function(){return this.currentToken().value};this.currentType=function(){return this.currentToken().type};this.currentPosition=function(){var a=this.currentToken();return null===a?null:{row:this.$row,column:a.column}};this.cloneCursor=function(){var e=[],b;for(b in this)this.hasOwnProperty(b)&&e.push(this[b]);return a(this.constructor,e)};this.isFirstSignificantTokenOnLine=function(){return 0===this.$offset};this.isLastSignificantTokenOnLine=function(){return this.$offset==
(this.$tokens[this.$row]||[]).length-1};this.bwdUntil=function(a){for(;!a(this);)this.moveToPreviousToken()};this.bwdWhile=function(a){for(;a(this);)this.moveToPreviousToken()};this.moveToPosition=function(a){var b=a.row,a=a.column,d=this.$tokens[b];null==d&&this.$codeModel&&this.$codeModel.$tokenizeUpToRow&&(this.$codeModel.$tokenizeUpToRow.call(this.$codeModel,b),d=this.$tokens[b]);if(d&&0<d.length&&d[0].column<a){for(var c=1;c<d.length&&!(d[c].column>=a);c++);this.$row=b;this.$offset=c-1;return!0}a=
this.cloneCursor();a.$row=b;a.$offset=0;return a.moveToPreviousToken()?(this.$row=a.$row,this.$offset=a.$offset,!0):!1};this.findOpeningBracket=function(a,b){"[object Array]"===Object.prototype.toString.call(a)||(a=[a]);var d=this.cloneCursor();do{var c=d.currentValue();if(b&&"{"===c)break;for(var f=0;f<a.length;f++)if(c===a[f])return this.$row=d.$row,this.$offset=d.$offset,!0;d.bwdToMatchingToken()}while(d.moveToPreviousToken());return!1};this.findOpeningBracketCountCommas=function(a,b){"[object Array]"===
Object.prototype.toString.call(a)||(a=[a]);var d=this.cloneCursor(),c=0;do{var f=d.currentValue();/,\s*$/.test(d.currentValue())&&"text"===d.currentType()&&(c+=f.length-f.replace(/,/g,"").length);if(b&&"{"===f)break;for(var u=0;u<a.length;u++)if(f===a[u])return this.$row=d.$row,this.$offset=d.$offset,c;d.bwdToMatchingToken()}while(d.moveToPreviousToken());return-1}}).call(i.prototype);var b=function(a,b,e){this.$tokens=a;this.$row=b||0;this.$offset=e||0};j.mixin(b.prototype,i.prototype);(function(){this.bwdOverConstNoexceptDecltype=
function(){var a=this.cloneCursor();if("{"!==a.currentValue()||!a.moveToPreviousToken())return!1;var b=a.cloneCursor();")"===b.currentValue()&&b.bwdToMatchingToken()&&b.moveToPreviousToken()&&"decltype"===b.currentValue()&&b.moveToPreviousToken()&&(a.$row=b.$row,a.$offset=b.$offset);b=a.cloneCursor();")"===b.currentValue()&&b.bwdToMatchingToken()&&b.moveToPreviousToken()&&"noexcept"===b.currentValue()&&(a.$row=b.$row,a.$offset=b.$offset);if("noexcept"===a.currentValue()&&!a.moveToPreviousToken()||
"const"===a.currentValue()&&!a.moveToPreviousToken()||")"===a.currentValue()&&!a.moveToNextToken())return!1;this.$row=a.$row;this.$offset=a.$offset;return!0};this.bwdToMatchingArrow=function(){if(">"!==this.currentValue())return!1;for(var a=0,b=this.cloneCursor();b.moveToPreviousToken();)if("<"===b.currentValue()){if(0===a)return this.$row=b.$row,this.$offset=b.$offset,!0;a--}else">"===b.currentValue()&&a++;return!1};this.bwdOverClassySpecifiers=function(){var a=this.currentValue();(":"===a||","===
a||"{"===a)&&this.moveToPreviousToken();do{this.bwdToMatchingArrow()&&this.moveToPreviousToken();var a=this.currentType(),b=this.currentValue();if(!("keyword"===a||"::"===b||"identifier"===a||"constant"===a))break;if("class"===b||"struct"===b||"enum"===b||":"===b||","===b)return!0}while(this.moveToPreviousToken());return!1};this.bwdOverClassInheritance=function(){var b=this.cloneCursor();return a(b,this)};var a=function(b,d){b.bwdOverClassySpecifiers();var c=b.currentValue();if(","===c)return a(b,
d);return":"===c?(d.$row=b.$row,d.$offset=b.$offset,!0):!1};this.bwdOverInitializationList=function(){return this.doBwdOverInitializationList(this.cloneCursor(),this)};this.doBwdOverInitializationList=function(a,b){a.moveBackwardOverMatchingParens();if(!a.moveBackwardOverMatchingParens()&&!a.moveToPreviousToken())return!1;for(;"keyword"===a.currentType();)if(!a.moveToPreviousToken())return!1;if(a.moveToPreviousToken()){var d=a.currentValue();if(","===d)return this.doBwdOverInitializationList(a,b);
if(":"===d){var c=a.peekBwd().currentValue();if(!["public","private","protected"].some(function(a){return a===c}))return b.$row=a.$row,b.$offset=a.$offset,!0}}return!1}}).call(b.prototype);var d=function(a,b,d,c){this.$tokens=a;this.$row=b||0;this.$offset=d||0;this.$codeModel=c};j.mixin(d.prototype,i.prototype);(function(){this.isValidAsIdentifier=function(){var a=this.currentType();return"identifier"===a||"symbol"===a||"keyword"===a||"string"===a||-1!==a.indexOf("constant")};this.isLookingAtInfixySymbol=
function(){var a=this.currentValue();return"$"===a||"@"===a||":"===a||-1!==this.currentType().indexOf("infix")?!0:!1};this.findStartOfEvaluationContext=function(){var a=this.cloneCursor();do if(!a.bwdToMatchingToken()){if(a.isValidAsIdentifier()){if(!a.moveToPreviousToken())break;if(a.isLookingAtInfixySymbol()){for(;a.isLookingAtInfixySymbol();)if(!a.moveToPreviousToken())return!1;if(!a.moveToNextToken())return!1;continue}if(!a.moveToNextToken())return!1;break}return!1}while(a.moveToPreviousToken());
this.$row=a.$row;this.$offset=a.$offset;return!0}}).call(d.prototype);h.TokenCursor=i;h.CppTokenCursor=b;h.RTokenCursor=d});define("mode/utils",function(c,h){(function(){var c=this;this.contains=function(c,b){for(var d=0;d<c.length;d++)if(c[d]===b)return!0;return!1};this.isArray=function(c){return"[object Array]"===Object.prototype.toString.call(c)};this.getPrimaryState=function(i,b){var d=i.getState(b);return c.isArray(d)?d[0]:d};this.primaryState=function(i){return c.isArray(i)?i[0]:i}}).call(h)});define("mode/r_background_highlighter",function(c,h){var j=c("ace/range").Range,i=function(b){this.$session=b;this.$doc=b.getDocument();var d=this;this.$doc.on("change",function(a){d.$onDocChange.apply(d,[a])});this.$rowState=Array(this.$doc.getLength());this.$markers=[];for(b=0;b<this.$doc.getLength();b++)this.$updateRow(b);this.$syncMarkers(0)};(function(){this.$updateRow=function(b){this.$rowState[b]=this.$doc.getLine(b).match("^\\s*#+'.*$")?!0:!1};this.$syncMarkers=function(b,d){"undefined"==
typeof d&&(d=this.$doc.getLength()-1);for(var a=b;a<=d;a++)!!this.$rowState[a]!=!!this.$markers[a]&&(this.$rowState[a]?this.$markers[a]=this.$session.addMarker(new j(a,0,a,this.$session.getLine(a).length),"ace_foreign_line","background",!1):(this.$session.removeMarker(this.$markers[a]),delete this.$markers[a]))};this.$insertNewRows=function(b,d){var a=Array(d+2);a[0]=b;a[1]=0;Array.prototype.splice.apply(this.$rowState,a)};this.$removeRows=function(b,d){this.$rowState.splice(b,d)};this.$onDocChange=
function(b){b=b.data;if("insertLines"===b.action){var d=b.range.end.row-b.range.start.row;this.$insertNewRows(b.range.start.row,d);for(var a=0;a<d;a++)this.$updateRow(b.range.start.row+a);this.$syncMarkers(b.range.start.row)}else"insertText"===b.action?this.$doc.isNewLine(b.text)?(this.$insertNewRows(b.range.end.row,1),this.$updateRow(b.range.start.row),this.$updateRow(b.range.start.row+1),this.$syncMarkers(b.range.start.row)):(this.$updateRow(b.range.start.row),this.$syncMarkers(b.range.start.row,
b.range.start.row)):"removeLines"===b.action?(this.$removeRows(b.range.start.row,b.range.end.row-b.range.start.row),this.$updateRow(b.range.start.row),this.$syncMarkers(b.range.start.row)):"removeText"===b.action&&(this.$doc.isNewLine(b.text)?(this.$removeRows(b.range.end.row,1),this.$updateRow(b.range.start.row),this.$syncMarkers(b.range.start.row)):(this.$updateRow(b.range.start.row),this.$syncMarkers(b.range.start.row,b.range.start.row)))}}).call(i.prototype);h.RBackgroundHighlighter=i});define("mode/r_highlight_rules",function(c,h){var j=c("ace/lib/oop"),i=c("ace/lib/lang"),b=c("ace/mode/text_highlight_rules").TextHighlightRules,d=c("mode/tex_highlight_rules").TexHighlightRules,a=function(){var a=i.arrayToMap("function,if,in,break,next,repeat,else,for,return,switch,while,try,tryCatch,stop,warning,require,library,attach,detach,source,setMethod,setGeneric,setGroupGeneric,setClass,setRefClass".split(",")),b=i.arrayToMap("NULL,NA,TRUE,FALSE,T,F,Inf,NaN,NA_integer_,NA_real_,NA_character_,NA_complex_".split(","));
this.$rules={start:[{token:"comment.sectionhead",regex:"#+(?!').*(?:----|====|####)\\s*$"},{token:"comment",regex:"#+'",next:"rd-start"},{token:"comment",regex:"#.*$"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"string",merge:!0,regex:'["]',next:"qqstring"},{token:"string",merge:!0,regex:"[']",next:"qstring"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+[Li]?\\b",merge:!1},{token:"constant.numeric",regex:"\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?[iL]?\\b",
merge:!1},{token:"constant.numeric",regex:"\\.\\d+(?:[eE][+\\-]?\\d*)?[iL]?\\b",merge:!1},{token:"constant.language.boolean",regex:"(?:TRUE|FALSE|T|F)\\b",merge:!1},{token:"identifier",regex:"`.*?`",merge:!1},{token:function(d){return a[d]?"keyword":b[d]?"constant.language":d.match(/^\.\.\d+$/)?"variable.language":"identifier"},regex:"[a-zA-Z.][a-zA-Z0-9._]*"},{token:"keyword.operator",regex:":::|::|%%|>=|<=|==|!=|\\->|<\\-|<<\\-|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||~|\\$|:|@",merge:!1},{token:"keyword.operator.infix",
regex:"%.*?%",merge:!1},{token:"paren.keyword.operator",merge:!1,regex:"[[({]"},{token:"paren.keyword.operator",merge:!1,regex:"[\\])}]"},{token:"text",regex:"\\s+",merge:!0}],qqstring:[{token:"string",regex:'(?:(?:\\\\.)|(?:[^"\\\\]))*?"',next:"start"},{token:"string",regex:".+",merge:!0}],qstring:[{token:"string",regex:"(?:(?:\\\\.)|(?:[^'\\\\]))*?'",next:"start"},{token:"string",regex:".+",merge:!0}]};for(var c=(new d("comment")).getRules(),k=0;k<c.start.length;k++)c.start[k].token+=".virtual-comment";
this.addRules(c,"rd-");this.$rules["rd-start"].unshift({token:"text",regex:"^",next:"start"});this.$rules["rd-start"].unshift({token:"keyword",regex:"@(?!@)[^ ]*"});this.$rules["rd-start"].unshift({token:"comment",regex:"@@"});this.$rules["rd-start"].push({token:"comment",regex:"[^%\\\\[({\\])}]+"})};j.inherits(a,b);h.RHighlightRules=a});define("mode/r_matching_brace_outdent",function(c,h){var j=c("ace/range").Range,i={};(function(){this.checkOutdent=function(b,d,a){return/^\s+$/.test(d)&&/^\s*[\{\}\)]/.test(a)||/^\s*}\s*$/.test(d)&&"\n"==a||/}\s*$/.test(d)&&/\n/.test(a)?!0:!1};this.autoOutdent=function(b,d,a,c){if(0===a)return 0;var b=d.getLine(a),e=b.match(/^(\s*[\}\)])/);if(e){var e=e[1].length,g=d.findMatchingBracket({row:a,column:e});if(!g||g.row==a)return 0;g=c.getIndentForOpenBrace(g);d.replace(new j(a,0,a,e-1),g)}if(e=b.match(/^(\s*\{)/))e=
e[1].length,g=c.getBraceIndent(a-1),d.replace(new j(a,0,a,e-1),g)}}).call(i);h.RMatchingBraceOutdent=i});define("mode/r_code_model",function(c,h){function j(a,b){for(var d=0;d<b.length;d++)if(a===b[d])return!0;return!1}var i=c("ace/range").Range,b=c("ace/token_iterator").TokenIterator,d=c("mode/token_cursor").RTokenCursor,a=!1,f=c("mode/r_scope_tree").ScopeManager,e=c("mode/r_scope_tree").ScopeNode,g=function(a,b,d,c){this.$session=a;this.$doc=a.getDocument();this.$tokenizer=b;this.$tokens=Array(this.$doc.getLength());this.$endStates=Array(this.$doc.getLength());this.$statePattern=d;this.$codeBeginPattern=
c;this.$scopes=new f(e);var g=this;this.$doc.on("change",function(a){g.$onDocChange.apply(g,[a])})};(function(){function c(a){return"keyword"==a.type&&"function"==a.value}function e(a){return/\boperator\b/.test(a.type)&&/^(=|<-|<<-)$/.test(a.value)}function f(a){return/\bidentifier\b/.test(a.type)}function g(a){var b=a.cloneCursor();if("{"!==b.currentValue()||!b.moveBackwardOverMatchingParens()||!b.moveToPreviousToken()||!c(b.currentToken()))return!1;a.$row=b.$row;a.$offset=b.$offset;return!0}function w(a){for(;a.findOpeningBracket("(")&&
a.moveToPreviousToken();)if(j(a.currentValue(),["if","for","while"]))return!0;return!1}function q(a){var b=a.cloneCursor();if(!c(b.currentToken())||!b.moveToPreviousToken()||!e(b.currentToken())||!b.moveToPreviousToken())return!1;a.$row=b.$row;a.$offset=b.$offset;return!0}function h(a){return/\binfix\b/.test(a.type)}function l(a){return/,\s*$/.test(a.currentValue())&&"text"===a.currentType()}function D(a){if(c(a.currentToken())&&!a.moveToNextToken()||"("===a.currentValue()&&!a.moveToNextToken()||
")"===a.currentValue())return[];var b=[];for(f(a.currentToken())&&b.push(a.currentValue());a.moveToNextToken();)if(!a.fwdToMatchingToken()){if(")"===a.currentValue())break;if(l(a)){for(;l(a)&&a.moveToNextToken(););f(a.currentToken())&&b.push(a.currentValue())}}return b}this.getTokenCursor=function(){return new d(this.$tokens,0,0,this)};this.$complements={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{"};var m=function(a){a=a.trim();return a=a.replace(/[\n\s]+/g," ")};this.getFunctionsInScope=function(a){this.$buildScopeTreeUpToRow(a.row);
return this.$scopes.getFunctionsInScope(a)};this.getAllFunctionScopes=function(a){"undefined"===typeof a&&(a=this.$doc.getLength());this.$buildScopeTreeUpToRow(a);return this.$scopes.getAllFunctionScopes()};this.getDplyrJoinContextFromInfixChain=function(a){var a=a.cloneCursor(),b="";"identifier"===a.currentType()&&(b=a.currentValue());var d="left";"="===a.currentValue()&&(d="right");if("identifier"===a.currentType()){if(!a.moveToPreviousToken())return null;"="===a.currentValue()&&(d="right")}if(!a.findOpeningBracket("(",
!0)||!a.moveToPreviousToken())return null;for(;a.findOpeningBracket("(",!0)&&a.moveToPreviousToken();)if(/_join$/.test(a.currentValue())){var c=a.currentValue();if(!a.moveToNextToken())break;if(!a.moveToNextToken())break;var e=a.currentValue(),m="";if(!1===this.moveToDataObjectFromInfixChain(a))break;m=a.currentValue();return{token:b,leftData:m,rightData:e,verb:c,cursorPos:d}}return null};this.getDataFromInfixChain=function(a){var b=this.moveToDataObjectFromInfixChain(a),d=[],c=[],e="",m=!1;!1!==
b&&(b.excludeArgsFromObject&&(m=b.excludeArgsFromObject),e=a.currentValue(),d=b.additionalArgs,c=b.excludeArgs);return{name:e,additionalArgs:d,excludeArgs:c,excludeArgsFromObject:m}};var v="mutate,summarise,summarize,rename,transmute,select,rename_vars,inner_join,left_join,right_join,semi_join,anti_join,outer_join,full_join".split(","),B=function(a,b,d,c){if(!a.moveToNextToken()||"("!==a.currentValue()||!a.moveToNextToken()||")"===a.currentValue())return!1;"identifier"===a.currentType()&&b.additionalArgs.push(a.currentValue());
if("rename"===c){if(!a.moveToNextToken())return!1;b.excludeArgs.push(a.currentValue())}"select"===c&&(b.excludeArgsFromObject=!0);do{if(")"===a.currentValue())break;if(a.$row>d.$row||a.$row===d.$row&&a.$offset>=d.$offset)break;if(a.fwdToMatchingToken()){if(!a.moveToNextToken())break}else if(l(a)){if(!a.moveToNextToken())return!1;"identifier"===a.currentType()&&b.additionalArgs.push(a.currentValue());if(!a.moveToNextToken())return!1;if("="===a.currentValue()&&j(c,["rename","rename_vars"])){if(!a.moveToNextToken())return!1;
"identifier"===a.currentType()&&b.excludeArgs.push(a.currentValue())}}}while(a.moveToNextToken());return!0},A=function(a){for(var b=a.cloneCursor();b.findOpeningBracket("(",!1)&&b.moveToPreviousToken();){if(!b.moveToPreviousToken())break;if(":"===b.currentValue()){for(;":"===b.currentValue();)if(!b.moveToPreviousToken())return!1;if(!b.moveToPreviousToken())break}if(h(b.currentToken()))return a.$row=b.$row,a.$offset=b.$offset,!0}return!1};this.moveToDataObjectFromInfixChain=function(a){var b=a.cloneCursor();
if(!A(b))return!1;for(var d={additionalArgs:[],excludeArgs:[]};;){if(0===b.$row&&0===b.$offset)return a.$row=0,a.$offset=0,d;b.moveBackwardOverMatchingParens();if(!b.moveToPreviousToken())return!1;var c=b.currentValue();v.some(function(a){return a===c})&&B(b.cloneCursor(),d,a,c);if(!b.moveToPreviousToken())return 0===b.$row&&0===b.$offset?(a.$row=0,a.$offset=0,d):!1;if(":"===b.currentValue()){for(;":"===b.currentValue();)if(!b.moveToPreviousToken())return!1;if(!b.moveToPreviousToken())return!1}if(!h(b.currentToken()))break}if(!b.moveToNextToken())return!1;
a.$row=b.$row;a.$offset=b.$offset;return d};this.getVariablesInScope=function(a){var b=this.getTokenCursor();if(!b.moveToPosition(a))return[];a=b.cloneCursor();!a.findOpeningBracket("(",!0)||!a.moveToPreviousToken()?a=!1:"function"!==a.currentValue()?a=!1:(b.$row=a.$row,b.$offset=a.$offset,a=!0);a&&q(b)&&b.findStartOfEvaluationContext();a={};do if(!b.bwdToMatchingToken()){var d=a,c=b.cloneCursor();if(!("for"!==c.currentValue()||!c.moveToNextToken()||"("!==c.currentValue())&&c.moveToNextToken()){var m=
c.currentValue();c.moveToNextToken()&&"in"===c.currentValue()&&(d[m]="variable")}e(b.currentToken())&&(d="variable",c=b.cloneCursor(),c.moveToNextToken()&&"function"===c.currentValue()&&(d="function"),c=b.cloneCursor(),c.moveToPreviousToken()&&f(c.currentToken())&&(c=c.currentValue(),a[c]=d))}while(b.moveToPreviousToken());var b=[],g;for(g in a)b.push({token:g,type:a[g]});b.sort();return b};this.$buildScopeTreeUpToRow=function(a){function b(a,d){if("undefined"===typeof a)return"";var c=a.exec(d);
if(!c)return null;var e=c[1].split(",");if(0==e.length)return null;if(!/=/.test(e[0]))return e[0].replace(/(^\s+)|(\s+$)/g,"");for(var m=0;m<e.length;m++)if(c=/^\s*label\s*=\s*(.*)$/.exec(e[m]))return c=c[1].replace(/(^\s+)|(\s+$)/g,""),c=(e=/^(['"])(.*)\1$/.exec(c))?e[2]:c,c;return null}a=Math.min(a+30,this.$doc.getLength()-1);this.$tokenizeUpToRow(a);var d=this.getTokenCursor();if(d.seekToNearestToken(this.$scopes.parsePos,a)){do{this.$scopes.parsePos=d.currentPosition();this.$scopes.parsePos.column+=
d.currentValue().length;var c=d.currentToken().type;if(/\bsectionhead\b/.test(c))c=""+/^#+'?[-=#\s]*(.*?)\s*[-=#]+\s*$/.exec(d.currentValue())[1],0===c.length&&(c="(Untitled)"),50<c.length&&(c=c.substring(0,50)+"..."),this.$scopes.onSectionHead(c,d.currentPosition());else if(/\bcodebegin\b/.test(c)){var c=d.currentPosition(),e={row:c.row+1,column:0},f=this.$scopes.getTopLevelScopeCount()+1,n=b(this.$codeBeginPattern,d.currentValue()),f="Chunk "+f;n&&(f+=": "+n);this.$scopes.onChunkStart(n,f,c,e)}else if(/\bcodeend\b/.test(c)){for(c=
d.currentPosition();this.$scopes.onScopeEnd(c););c.column+=d.currentValue().length;this.$scopes.onChunkEnd(c)}else if("{"===d.currentValue()){var n=d.cloneCursor(),f=n.currentPosition(),v;if(g(n)){c=n.cloneCursor();c.moveToNextToken();var k=c.currentPosition(),e=null;if(q(n)&&(v=n.cloneCursor(),n.findStartOfEvaluationContext()))var e=n.currentPosition(),w=v.currentPosition(),e=this.$doc.getTextRange(new i(e.row,e.column,w.row,w.column+v.currentValue().length));v=n.currentPosition();n.isFirstSignificantTokenOnLine()&&
(v.column=0);n=this.$doc.getTextRange(new i(k.row,k.column,f.row,f.column));n=null===e?m("<function>"+n):m(e+n);c=D(c);this.$scopes.onFunctionScopeStart(n,v,d.currentPosition(),e,c)}else v=d.currentPosition(),d.isFirstSignificantTokenOnLine()&&(v.column=0),this.$scopes.onScopeStart(v)}else"}"===d.currentValue()&&(c=d.currentPosition(),d.isLastSignificantTokenOnLine()?c.column=this.$getLine(c.row).length+1:c.column++,this.$scopes.onScopeEnd(c))}while(d.moveToNextToken(a))}};this.$getFoldToken=function(a,
b,d){this.$tokenizeUpToRow(d);if(this.$statePattern&&!this.$statePattern.test(this.$endStates[d]))return"";a=this.$tokens[d];if(1==a.length&&/\bsectionhead\b/.test(a[0].type))return a[0];for(var d=0,c=null,e=null,m=0;m<a.length;m++){var f=a[m];if(/\bparen\b/.test(f.type))switch(f.value){case "{":d++;1==d&&(c=f);break;case "}":d--,0==d&&(c=null),0>d&&(e=f,d=0)}}return c?c:"markbeginend"==b&&e?e:1<=a.length&&(/\bcodebegin\b/.test(a[0].type)||/\bcodeend\b/.test(a[0].type))?a[0]:null};this.getFoldWidget=
function(a,b,d){a=this.$getFoldToken(a,b,d);return null==a?"":"{"==a.value?"start":"}"==a.value?"end":/\bcodebegin\b/.test(a.type)?"start":/\bcodeend\b/.test(a.type)?"end":/\bsectionhead\b/.test(a.type)?"start":""};this.getFoldWidgetRange=function(a,d,c){var e=this.$getFoldToken(a,d,c);if(e){d={row:c,column:e.column+1};if("{"==e.value)return a=a.$findClosingBracket(e.value,d),!a?void 0:i.fromPoints(d,a);if("}"==e.value)return a=a.$findOpeningBracket(e.value,d),!a?void 0:i.fromPoints({row:a.row,column:a.column+
1},{row:d.row,column:d.column-1});if(/\bcodebegin\b/.test(e.type))for(var d=new b(a,c,0),m;m=d.stepForward();){if(/\bcode(begin|end)\b/.test(m.type))return m=/\bcodebegin\b/.test(m.type),d=d.getCurrentTokenRow(),a=m?{row:d-1,column:a.getLine(d-1).length}:{row:d,column:a.getLine(d).length},i.fromPoints({row:c,column:e.column+e.value.length},a)}else if(/\bcodeend\b/.test(e.type))for(d=new b(a,c,0);e=d.stepBackward();){if(/\bcodebegin\b/.test(e.type))return d=d.getCurrentTokenRow(),i.fromPoints({row:d,
column:a.getLine(d).length},{row:c,column:a.getLine(c).length})}else if(/\bsectionhead\b/.test(e.type)&&(e=/([-=#])\1+\s*$/.exec(e.value))){d.column+=e.index-1;for(e=new b(a,c,0);(m=e.stepForward())&&!/\bsectionhead\b/.test(m.type);)c=e.getCurrentTokenRow();return i.fromPoints(d,{row:c,column:a.getLine(c).length})}}};this.getCurrentScope=function(a,b){b||(b=function(){return!0});if(!a)return"";this.$buildScopeTreeUpToRow(a.row);var d=this.$scopes.getActiveScopes(a);if(d)for(var c=d.length-1;0<=c;c--)if(b(d[c]))return d[c];
return null};this.getScopeTree=function(){this.$buildScopeTreeUpToRow(this.$doc.getLength()-1);return this.$scopes.getScopeList()};this.findFunctionDefinitionFromUsage=function(a,b){this.$buildScopeTreeUpToRow(this.$doc.getLength()-1);return this.$scopes.findFunctionDefinitionFromUsage(a,b)};this.getIndentForOpenBrace=function(a){if(this.$tokenizeUpToRow(a.row)){var b=this.getTokenCursor();if(b.seekToNearestToken(a,a.row)&&"{"==b.currentValue()&&b.moveBackwardOverMatchingParens())return this.$getIndent(this.$getLine(b.currentPosition().row))}return this.$getIndent(this.$getLine(a.row))};
this.getIndentForRow=function(a){return this.getNextLineIndent("start",this.$getLine(a),this.$session.getTabString())};this.getNextLineIndent=function(b,d,c,m){if("qstring"==b||"qqstring"==b)return"";"number"!==typeof m&&(m=this.$session.getSelection().getCursor().row-1);var f=this.$session.getTabSize(),g=Array(f+1).join(" ");this.$lineOverrides=null;this.$doc.getLine(m)!==d&&(this.$lineOverrides={},this.$lineOverrides[m]=d,this.$invalidateRow(m));try{var D=0>m?"":this.$getIndent(this.$getLine(m));
if(!this.$tokenizeUpToRow(m)||this.$statePattern&&!this.$statePattern.test(b))return D;var v={row:m,column:this.$getLine(m).length},k=this.$findPreviousSignificantToken(v,m-10),b="",D=!1;if(k&&/\boperator\b/.test(k.token.type)&&!/\bparen\b/.test(k.token.type))b=c,D=!0;else if(k&&/\bparen\b/.test(k.token.type)&&/\)$/.test(k.token.value)){var u=this.$walkParensBalanced(k.row,k.row-10,null,function(a){return 0===a.length});if(null!=u){var B=this.$findPreviousSignificantToken(u,0);if(B&&"keyword"===B.token.type&&
/^(if|while|for|function)$/.test(B.token.value))return this.$getIndent(this.$getLine(B.row))+c}}else if(k&&"keyword"===k.token.type&&("repeat"===k.token.value||"else"===k.token.value))return this.$getIndent(this.$getLine(k.row))+c;var l=this.getTokenCursor();if(!l.moveToPosition(v))return"";do{var p=l.currentValue();if(!l.bwdToMatchingToken()){if("{"===p)break;if(["[","("].some(function(a){return a===l.currentValue()})){var q=l.currentPosition(),v=null;a&&(v=this.$findNextSignificantToken({row:q.row,
column:q.column+1},m));if(v){for(var d=this.$getLine(v.row),h=d.replace(/[^\s].*$/,""),i=v.column-h.length,H=Math.floor(i/f),f=i-f*H,q="",d=0;d<H;d++)q+=c;for(c=0;c<f;c++)q+=" ";for(var c=h+q,A=c.replace("\t",g).length,K,d=v.row+1;d<=m;d++)if(/[^\s]/.test(this.$getLine(d))){var L=this.$endStates[d-1];if(!("qstring"===L||"qqstring"===L)){K=this.$getLine(d).replace(/[^\s].*$/,"");var G=K.replace("\t",g).length;G<A&&(c=K,A=G)}}return w(l)?c:c+b}return this.getIndentForOpenBrace(q)+c+b}}}while(l.moveToPreviousToken());
if(!l.moveToPosition(v))return"";do if(!l.bwdToMatchingToken()){if("{"===l.currentValue())return this.getIndentForOpenBrace(l.currentPosition())+c+b;if(e(l.currentToken())){for(;e(l.currentToken())&&l.moveToPreviousToken();){if(!l.findStartOfEvaluationContext())break;var x=l.cloneCursor();if(x.moveToPreviousToken()&&("else"===x.currentValue()||"repeat"===x.currentValue()||")"===x.currentValue()&&x.bwdToMatchingToken()&&x.moveToPreviousToken()&&(p=x.currentValue(),["if","for","while","repeat","else"].some(function(a){return a===
p}))))return this.$getIndent(this.$doc.getLine(x.$row))+b+b;e(l.peekBwd().currentToken())&&l.moveToPreviousToken()}return this.$getIndent(this.$getLine(l.$row))+b}}while(l.moveToPreviousToken());if(D){g=0;l=this.getTokenCursor();l.moveToPosition(v);l.moveToPreviousToken();do{if(j(l.currentValue(),["if","else"])){b+=c;break}if(/\bconstant\b|\bidentifier\b/.test(l.currentType())){if(!l.moveToPreviousToken())break;if(j(l.currentValue(),["if","else"])){b+=c;break}if(")"===l.currentValue()){if(!l.bwdToMatchingToken())break;
if(!l.moveToPreviousToken())break;if(j(l.currentValue(),["if","else"])){b+=c;break}}if(!/\boperator\b/.test(l.currentType()))break}else if(!l.findStartOfEvaluationContext())break}while(l.moveToPreviousToken()&&20>g++)}var y=this.$findNextSignificantToken({row:0,column:0},m);return y?this.$getIndent(this.$getLine(y.row))+b:""+b}finally{this.$lineOverrides&&(this.$lineOverrides=null,this.$invalidateRow(m))}};this.getBraceIndent=function(a){var b=this.getTokenCursor(),d={row:a,column:this.$getLine(a).length};
if(!b.moveToPosition(d))return"";if(")"===b.currentValue()){if(b.bwdToMatchingToken()&&b.moveToPreviousToken()&&(d=b.currentValue(),j(d,["if","while","for","function"])))return this.$getIndent(this.$getLine(b.$row))}else if(j(b.currentValue(),["else","repeat","<-","<<-","="])||-1!==b.currentType().indexOf("infix")||"keyword.operator"===b.currentType())return this.$getIndent(this.$getLine(b.$row));return this.getIndentForRow(a)};this.getTokenForPos=function(a,b,d){this.$tokenizeUpToRow(a.row);if(this.$tokens.length<=
a.row)return null;for(var c=this.$tokens[a.row],e=0;e<c.length;e++){var m=c[e];if(b&&a.column==m.column)return m;if(a.column<=m.column)break;if(d&&a.column==m.column+m.value.length||a.column<m.column+m.value.length)return m}return null};this.$tokenizeUpToRow=function(a){for(var a=Math.min(a,this.$endStates.length-1),b=0,d=!0;b<=a;b++)if(!d||!this.$endStates[b]){var d=!1,c=0===b?"start":this.$endStates[b-1],e=this.$tokenizer.getLineTokens(this.$getLine(b),c);this.$tokens[b]=!this.$statePattern||this.$statePattern.test(e.state)||
this.$statePattern.test(c)?this.$filterWhitespaceAndComments(e.tokens):[];e.state===this.$endStates[b]?d=!0:this.$endStates[b]=e.state}d||b<this.$tokens.length&&this.$invalidateRow(b);return!0};this.$onDocChange=function(a){a=a.data;"insertLines"===a.action?this.$insertNewRows(a.range.start.row,a.range.end.row-a.range.start.row):"insertText"===a.action?this.$doc.isNewLine(a.text)?(this.$invalidateRow(a.range.start.row),this.$insertNewRows(a.range.end.row,1)):this.$invalidateRow(a.range.start.row):
"removeLines"===a.action?(this.$removeRows(a.range.start.row,a.range.end.row-a.range.start.row),this.$invalidateRow(a.range.start.row)):"removeText"===a.action&&(this.$doc.isNewLine(a.text)&&this.$removeRows(a.range.end.row,1),this.$invalidateRow(a.range.start.row));this.$scopes.invalidateFrom(a.range.start)};this.$invalidateRow=function(a){this.$tokens[a]=null;this.$endStates[a]=null};this.$insertNewRows=function(a,b){for(var d=[a,0],c=0;c<b;c++)d.push(null);this.$tokens.splice.apply(this.$tokens,
d);this.$endStates.splice.apply(this.$endStates,d)};this.$removeRows=function(a,b){this.$tokens.splice(a,b);this.$endStates.splice(a,b)};this.$getIndent=function(a){return(a=/^([ \t]*)/.exec(a))?a[1]:""};this.$getLine=function(a){return this.$lineOverrides&&"undefined"!=typeof this.$lineOverrides[a]?this.$lineOverrides[a]:this.$doc.getLine(a)};this.$walkParens=function(a,b,d){var c=/\bparen\b/;return a<b?function(){for(;a<=b;a++)for(var e=this.$tokens[a],m=0;m<e.length;m++)if(c.test(e[m].type)&&!d(e[m].value,
{row:a,column:e[m].column}))return!1;return!0}.call(this):function(){a=Math.max(0,a);for(b=Math.max(0,b);a>=b;a--)for(var e=this.$tokens[a],m=e.length-1;0<=m;m--)if(c.test(e[m].type)&&!d(e[m].value,{row:a,column:e[m].column}))return!1;return!0}.call(this)};this.$walkParensBalanced=function(a,b,d,c){var e=[],m=null,f=this;this.$walkParens(a,b,function(a,b){if(d&&d(e,a,b))return m=b,!1;if(/[\[({]/.test(a))if(e[e.length-1]===f.$complements[a])e.pop();else return!0;else e.push(a);return c&&c(e,a,b)?(m=
b,!1):!0});return m};this.$findNextSignificantToken=function(a,b){if(0==this.$tokens.length)return null;for(var b=Math.min(b,this.$tokens.length-1),d=a.row,c=a.column;d<=b;d++){for(var e=this.$tokens[d],m=0;m<e.length;m++)if(e[m].column+e[m].value.length>c)return{token:e[m],row:d,column:Math.max(e[m].column,c),offset:m};c=0}return null};this.findNextSignificantToken=function(a){return this.$findNextSignificantToken(a,this.$tokens.length-1)};this.$findPreviousSignificantToken=function(a,b){if(0===
this.$tokens.length)return null;for(var b=Math.max(0,b),d=Math.min(a.row,this.$tokens.length-1);d>=b;d--){var c=this.$tokens[d];if(0!==c.length){if(d!=a.row)return{row:d,column:c[c.length-1].column,token:c[c.length-1],offset:c.length-1};for(var e=c.length-1;0<=e;e--)if(c[e].column<a.column)return{row:d,column:c[e].column,token:c[e],offset:e}}}};this.$filterWhitespaceAndComments=function(a){for(var a=a.filter(function(a){a=/\bcode(?:begin|end)\b/.test(a.type)||/\bsectionhead\b/.test(a.type)?!1:/^\s*$/.test(a.value)||
a.type.match(/\b(?:ace_virtual-)?comment\b/);return!a}),b=a.length-1;0<=b;b--)if(1<a[b].value.length&&/\bparen\b/.test(a[b].type)){var d=a[b];a.splice(b,1);for(var c=d.value.length-1;0<=c;c--){var e={type:d.type,value:d.value.charAt(c),column:d.column+c};a.splice(b,0,e)}}return a}}).call(g.prototype);h.RCodeModel=g;h.setVerticallyAlignFunctionArgs=function(b){a=b};h.getVerticallyAlignFunctionArgs=function(){return a}});define("mode/r_scope_tree",function(c,h){function j(b,a){return b.row!=a.row?b.row-a.row:b.column-a.column}var i=function(d){this.$ScopeNodeFactory=d;this.parsePos={row:0,column:0};this.$root=new this.$ScopeNodeFactory("(Top Level)",this.parsePos,null,b.TYPE_ROOT)};(function(){this.onSectionHead=function(a,d){var c=this.getActiveScopes(d);if(2==c.length&&c[1].isSection())this.$root.closeScope(d,b.TYPE_SECTION);else if(1!=c.length)return;this.$root.addNode(new this.$ScopeNodeFactory(a,d,d,b.TYPE_SECTION))};
this.onChunkStart=function(a,d,c,g){this.$root.closeScope(c,b.TYPE_CHUNK);d=new this.$ScopeNodeFactory(d,g,c,b.TYPE_CHUNK);d.chunkLabel=a;this.$root.addNode(d);this.printScopeTree()};this.onChunkEnd=function(a){a=this.$root.closeScope(a,b.TYPE_CHUNK);this.printScopeTree();return a};this.onFunctionScopeStart=function(a,d,c,g,k){this.$root.addNode(new this.$ScopeNodeFactory(a,c,d,b.TYPE_BRACE,{name:g,args:k}));this.printScopeTree()};this.onScopeStart=function(a){this.$root.addNode(new this.$ScopeNodeFactory(null,
a,null,b.TYPE_BRACE));this.printScopeTree()};this.onScopeEnd=function(a){a=this.$root.closeScope(a,b.TYPE_BRACE);this.printScopeTree();return a};this.getActiveScopes=function(a){return this.$root.findNode(a)};this.getScopeList=function(){return this.$root.$children};this.findFunctionDefinitionFromUsage=function(a,b){return this.$root.findFunctionDefinitionFromUsage(a,b)};this.getFunctionsInScope=function(a,b){return this.$root.getFunctionsInScope(a,b)};this.invalidateFrom=function(a){a={row:Math.max(0,
a.row-1),column:0};0<j(this.parsePos,a)&&(this.parsePos=this.$root.invalidateFrom(a));this.printScopeTree()};this.getTopLevelScopeCount=function(){return this.$root.$children.length};this.printScopeTree=function(){this.$root.printDebug()};this.getAllFunctionScopes=function(){var a=[];d(this.$root,a);return a};var d=function(a,b){a.isFunction()&&b.push(a);for(var c=a.$children,g=0;g<c.length;g++)d(c[g],b)}}).call(i.prototype);var b=function(b,a,c,e,g){this.label=b;this.start=a;this.preamble=c||a;this.end=
null;this.scopeType=e;this.parentScope=null;this.attributes=g;this.$children=[]};b.TYPE_ROOT=1;b.TYPE_BRACE=2;b.TYPE_CHUNK=3;b.TYPE_SECTION=4;(function(){this.isRoot=function(){return this.scopeType==b.TYPE_ROOT};this.isBrace=function(){return this.scopeType==b.TYPE_BRACE};this.isChunk=function(){return this.scopeType==b.TYPE_CHUNK};this.isSection=function(){return this.scopeType==b.TYPE_SECTION};this.isFunction=function(){return this.isBrace()&&!!this.label};this.addNode=function(b){!b.end||window.alert("[ASSERTION FAILED] New node is already closed");
0==b.$children.length||window.alert("[ASSERTION FAILED] New node already had children");this.end=null;var a=this.$binarySearch(b.preamble);0<=a?this.$children[a].addNode(b):(a=-(a+1),a<this.$children.length&&(b.$children=this.$children.splice(a,this.$children.length-a)),b.parentScope=this,this.$children.push(b))};this.closeScope=function(b,a){if(0==this.$children.length)return null;var c=this.$children[this.$children.length-1];if(c.end)return null;var e=c.closeScope(b,a);if(e)return e;return a==c.scopeType?
(c.end=b,c.$forceDescendantsClosed(b),c):null};this.$forceDescendantsClosed=function(b){if(0!=this.$children.length){var a=this.$children[this.$children.length-1];a.end||(a.$forceDescendantsClosed(b),a.end=b)}};this.findNode=function(b){var a=this.$binarySearch(b);return 0<=a&&(b=this.$children[a].findNode(b))?(this.label&&b.unshift(this),b):this.label?[this]:null};this.$getFunctionStack=function(b){var a=this.$binarySearch(b),b=0<=a?this.$children[a].$getFunctionStack(b):[];this.isFunction()&&b.push(this);
return b};this.findFunctionDefinitionFromUsage=function(b,a){for(var c=this.$getFunctionStack(b),e=0;e<c.length;e++)for(var g=c[e],k=0;k<g.$children.length;k++)if(g.$children[k].label==a)return g.$children[k];return null};this.getFunctionsInScope=function(b){for(var b=this.$getFunctionStack(b),a=[],c=0;c<b.length;c++)a.push({name:b[c].attributes.name,args:b[c].attributes.args.slice()});return a};this.invalidateFrom=function(b){var a=this.$binarySearch(b);0<=a?0>=j(b,this.$children[a].start)?b=this.$children[a].preamble:
(b=this.$children[a].invalidateFrom(b),a++):a=-(a+1);a<this.$children.length&&this.$children.splice(a,this.$children.length-a);this.end=null;return b};this.$binarySearch=function(b,a,c){"undefined"===typeof a&&(a=0);"undefined"===typeof c&&(c=this.$children.length);if(a===c)return-(a+1);var e=Math.floor((a+c)/2),g=this.$children[e].comparePosition(b);return 0===g?e:0>g?this.$binarySearch(b,a,e):this.$binarySearch(b,e+1,c)};this.comparePosition=function(b){return 0>j(b,this.preamble)?-1:null!=this.end&&
0<=j(b,this.end)?1:0};this.printDebug=function(b){"undefined"===typeof b&&(b="");for(var a=0;a<this.$children.length;a++)this.$children[a].printDebug(b+"    ")}}).call(b.prototype);h.ScopeManager=i;h.ScopeNode=b});define("mode/r",function(c,h){c("ace/editor");c("ace/edit_session");c("ace/range");var j=c("ace/lib/oop"),i=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("ace/mode/text_highlight_rules").TextHighlightRules,a=c("mode/r_highlight_rules").RHighlightRules,f=c("mode/r_code_model").RCodeModel,e=c("mode/r_matching_brace_outdent").RMatchingBraceOutdent;c("mode/auto_brace_insert");var g=c("ace/unicode"),k=function(c,g){this.$tokenizer=c?new b((new d).getRules()):new b((new a).getRules());this.foldingRules=
this.codeModel=new f(g,this.$tokenizer,null);this.$outdent={};j.implement(this.$outdent,e)};j.inherits(k,i);(function(){this.checkOutdent=function(a,b,c){return this.$outdent.checkOutdent(a,b,c)};this.autoOutdent=function(a,b,c){return this.$outdent.autoOutdent(a,b,c,this.codeModel)};this.tokenRe=RegExp("^["+g.packages.L+g.packages.Mn+g.packages.Mc+g.packages.Nd+g.packages.Pc+"._]+","g");this.nonTokenRe=RegExp("^(?:[^"+g.packages.L+g.packages.Mn+g.packages.Mc+g.packages.Nd+g.packages.Pc+"._]|s])+",
"g");this.$complements={"(":")","[":"]",'"':'"',"'":"'","{":"}"};this.$reOpen=/^[(["'{]$/;this.$reClose=/^[)\]"'}]$/;this.getNextLineIndent=function(a,b,c,d){return this.codeModel.getNextLineIndent(a,b,c,d)};this.allowAutoInsert=this.smartAllowAutoInsert;this.getIndentForOpenBrace=function(a){return this.codeModel.getIndentForOpenBrace(a)};this.$getIndent=function(a){return(a=a.match(/^(\s+)/))?a[1]:""};this.transformAction=function(a,b,c,d,e){return"insertion"===b&&"\n"===e&&(a=c.getSelectionRange().start,
(d=/^((\s*#+')\s*)/.exec(d.doc.getLine(a.row)))&&c.getSelectionRange().start.column>=d[2].length)?{text:"\n"+d[1]}:!1}}).call(k.prototype);h.Mode=k});define("mode/markdown_highlight_rules",function(c,h){function j(a,b){return{token:"support.function",regex:"^\\s*```"+a+"\\s*$",push:b+"start"}}var i=c("ace/lib/oop"),b=c("ace/lib/lang"),d=c("ace/mode/text_highlight_rules").TextHighlightRules,a=c("ace/mode/javascript_highlight_rules").JavaScriptHighlightRules,f=c("ace/mode/xml_highlight_rules").XmlHighlightRules,e=c("ace/mode/html_highlight_rules").HtmlHighlightRules,g=c("ace/mode/css_highlight_rules").CssHighlightRules,k=function(a){return"(?:[^"+
b.escapeRegExp(a)+"\\\\]|\\\\.)*"},n=function(){b.arrayToMap("title,author,date,rtl,depends,autosize,width,height,transition,transition-speed,font-family,css,class,navigation,incremental,left,right,id,audio,video,type,at,help-doc,help-topic,source,console,console-input,execute,pause".split(","));this.$rules={basic:[{token:"constant.language.escape",regex:/\\[\\`*_{}\[\]()#+\-.!]/},{token:["support.function","support.function","support.function"],regex:"(`+)(.*?[^`])(\\1)"},{token:"text,constant,text,url,string,text".split(","),
regex:'^([ ]{0,3}\\[)([^\\]]+)(\\]:\\s*)([^ ]+)(\\s*(?:["][^"]+["])?(\\s*))$'},{token:["text","keyword","text","constant","text"],regex:"(\\[)("+k("]")+")(\\]s*\\[)("+k("]")+")(\\])"},{token:"text,keyword,text,markup.underline,string,text".split(","),regex:"(\\[)("+k("]")+')(\\]\\()((?:[^\\)\\s\\\\]|\\\\.|\\s(?=[^"]))*)(\\s*"'+k('"')+'"\\s*)?(\\))'},{token:["constant.numeric","constant.numeric","constant.numeric"],regex:"([*]{2}|[_]{2}(?=\\S))(.*?\\S[*_]*)(\\1)"},{token:["constant.language.boolean",
"constant.language.boolean","constant.language.boolean"],regex:"([*]|[_](?=\\S))(.*?\\S[*_]*)(\\1)"},{token:["text","keyword","text"],regex:"(<)((?:https?|ftp|dict):[^'\">\\s]+|(?:mailto:)?[-.\\w]+\\@[-a-z0-9]+(?:\\.[-a-z0-9]+)*\\.[a-z]+)(>)"}],start:[{token:"empty_line",regex:"^$",next:"allowBlock"},{token:["support.function","support.function","support.function"],regex:"(`+)([^\\r]*?[^`])(\\1)"},{token:"markup.heading.1",regex:"^\\={3,}\\s*$",next:"fieldblock"},{token:"markup.heading.1",regex:"^=+(?=\\s*$)"},
{token:"markup.heading.2",regex:"^\\-+(?=\\s*$)"},{token:function(a){return"markup.heading."+a.length},regex:/^#{1,6}(?=\s*[^ #]|\s+#.)/,next:"header"},j("(?:javascript|js)","jscode-"),j("xml","xmlcode-"),j("html","htmlcode-"),j("css","csscode-"),{token:"support.function",regex:"^\\s*```\\s*\\S*(?:{.*?\\})?\\s*$",next:"githubblock"},{token:"string.blockquote",regex:"^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",next:"blockquote"},{token:"text,constant,text,url,string,text".split(","),regex:'^([ ]{0,3}\\[)([^\\]]+)(\\]:\\s*)([^ ]+)(\\s*(?:["][^"]+["])?(\\s*))$'},
{token:["text","keyword","text","constant","text"],regex:"(\\[)((?:[[^\\]]*\\]|[^\\[\\]])*)(\\][ ]?(?:\\n[ ]*)?\\[)(.*?)(\\])"},{token:"text,keyword,text,markup.underline,string,text".split(","),regex:'(\\[)(\\[[^\\]]*\\]|[^\\[\\]]*)(\\]\\([ \\t]*)(<?(?:(?:[^\\(]*?\\([^\\)]*?\\)\\S*?)|(?:.*?))>?)((?:[ \t]*"(?:.*?)"[ \\t]*)?)(\\))'},{token:"constant",regex:"^[ ]{0,2}(?:[ ]?\\*[ ]?){3,}\\s*$"},{token:"constant",regex:"^[ ]{0,2}(?:[ ]?\\-[ ]?){3,}\\s*$"},{token:"constant",regex:"^[ ]{0,2}(?:[ ]?\\_[ ]?){3,}\\s*$"},
{token:"markup.list",regex:"\\\\\\[",next:"mathjaxnativedisplay"},{token:"markup.list",regex:"\\\\\\(",next:"mathjaxnativeinline"},{token:"text",regex:"\\\\\\$"},{token:"markup.list",regex:"\\${2}",next:"mathjaxdisplay"},{token:["markup.list","support.function","markup.list"],regex:"(\\$)((?!\\s)[^$]*[^$\\s])(\\$)(?![\\w\\d`])"},{token:["constant.numeric","constant.numeric","constant.numeric"],regex:"([*]{2}|[_]{2}(?=\\S))([^\\r]*?\\S[*_]*)(\\1)"},{token:["constant.language.boolean","constant.language.boolean",
"constant.language.boolean"],regex:"([*]|[_](?=\\S))([^\\r]*?\\S[*_]*)(\\1)"},{token:["text","keyword","text"],regex:"(<)((?:https?|ftp|dict):[^'\">\\s]+|(?:mailto:)?[-.\\w]+\\@[-a-z0-9]+(?:\\.[-a-z0-9]+)*\\.[a-z]+)(>)"},{token:"keyword",regex:"\\\\(?:[a-zA-z0-9]+|[^a-zA-z0-9])"},{token:["paren.keyword.operator","text","paren.keyword.operator"],regex:"(\\{)([^\\}]*)(\\})"},{token:"markup.list",regex:"\\[-?\\@[\\w\\d-]+\\]"},{token:"markup.list",regex:"-?\\@[\\w\\d-]+"},{token:"text",regex:"[^\\*_%$`\\[#<>\\\\]+"},
{token:"text",regex:"\\\\"},{token:"constant",regex:"^ {0,2}(?:(?: ?\\* ?){3,}|(?: ?\\- ?){3,}|(?: ?\\_ ?){3,})\\s*$",next:"allowBlock"},{token:"text",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock-start"},{include:"basic"}],allowBlock:[{token:"support.function",regex:"^ {4}.+",next:"allowBlock"},{token:"empty",regex:"",next:"start"}],header:[{regex:"$",next:"start"},{include:"basic"},{defaultToken:"heading"}],"listblock-start":[{token:"text",regex:/(?:\[[ x]\])?/,next:"listblock"}],listblock:[{token:"empty_line",
regex:"^$",next:"start"},{token:"text",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock-start"},{include:"basic",noEscape:!0},{token:"support.function",regex:"^\\s*```\\s*[a-zA-Z]*(?:{.*?\\})?\\s*$",next:"githubblock"},{defaultToken:"text"}],blockquote:[{token:"empty_line",regex:"^\\s*$",next:"start"},{token:"string.blockquote",regex:"^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",next:"blockquote"},{include:"basic",noEscape:!0},{defaultToken:"string.blockquote"}],githubblock:[{token:"support.function",
regex:"^\\s*```",next:"start"},{token:"support.function",regex:".+"}]};this.embedRules(a,"jscode-",[{token:"support.function",regex:"^\\s*```",next:"pop"}]);this.embedRules(e,"htmlcode-",[{token:"support.function",regex:"^\\s*```",next:"pop"}]);this.embedRules(g,"csscode-",[{token:"support.function",regex:"^\\s*```",next:"pop"}]);this.embedRules(f,"xmlcode-",[{token:"support.function",regex:"^\\s*```",next:"pop"}]);this.normalizeRules()};i.inherits(n,d);h.MarkdownHighlightRules=n});define("mode/markdown_folding",function(c,h){var j=c("ace/lib/oop"),i=c("ace/mode/folding/fold_mode").FoldMode,b=c("ace/range").Range,d=h.FoldMode=function(){},a=c("mode/utils");j.inherits(d,i);(function(){this.foldingStartMarker=/^(?:[=-]+\s*$|#{1,6} |`{3})/;this.getFoldWidget=function(b,c,d){c=b.getLine(d);return!this.foldingStartMarker.test(c)?"":"`"==c[0]&&"start"===a.getPrimaryState(b,d)?"end":"start"};this.getFoldWidgetRange=function(c,d,g){function k(a){return(h=c.getTokens(a)[0])&&0===h.type.lastIndexOf(l,
0)}function n(){var a=h.value[0];return"="==a?6:"-"==a?5:7-h.value.search(/[^#]/)}var p=c.getLine(g),d=p.length,u=c.getLength(),w=g,q=g;if(p.match(this.foldingStartMarker)){if("`"==p[0]){if("start"!==a.getPrimaryState(c,g)){for(;++g<u&&!(p=c.getLine(g),"`"==p[0]&"```"==p.substring(0,3)););return new b(w,d,g,0)}for(;0<g--&&!(p=c.getLine(g),"`"==p[0]&"```"==p.substring(0,3)););return new b(g,p.length,w,0)}var h,l="markup.heading";if(k(g)){for(q=n();++g<u&&!(k(g)&&n()>=q););q=g-(!h||-1==["=","-"].indexOf(h.value[0])?
1:2);if(q>w)for(;q>w&&/^\s*$/.test(c.getLine(q));)q--;if(q>w)return g=c.getLine(q).length,new b(w,d,q,g)}}}}).call(d.prototype)});define("mode/markdown",function(c,h){var j=c("ace/lib/oop"),i=c("ace/mode/text").Mode,b=c("ace/mode/javascript").Mode,d=c("ace/mode/xml").Mode,a=c("ace/mode/html").Mode,f=c("mode/markdown_highlight_rules").MarkdownHighlightRules,e=c("mode/markdown_folding").FoldMode,g=function(){this.HighlightRules=f;this.createModeDelegates({"js-":b,"xml-":d,"html-":a});this.foldingRules=new e};j.inherits(g,i);(function(){this.type="text";this.blockComment={start:"<\!--",end:"--\>"};this.getNextLineIndent=function(a,
b){if("listblock"==a){var c=/^(\s*)(?:([-+*])|(\d+)\.)(\s+)/.exec(b);if(!c)return"";var d=c[2];d||(d=parseInt(c[3],10)+1+".");return c[1]+d+c[4]}return this.$getIndent(b)};this.$id="mode/markdown"}).call(g.prototype);h.Mode=g});define("mode/tex_highlight_rules",function(c,h){var j=c("ace/lib/oop");c("ace/lib/lang");var i=c("ace/mode/text_highlight_rules").TextHighlightRules,b=function(b){b||(b="text");this.$rules={start:[{token:"comment",regex:"%.*$"},{token:b,regex:"\\\\[$&%#\\{\\}]"},{token:"keyword",regex:"\\\\(?:documentclass|usepackage|newcounter|setcounter|addtocounter|value|arabic|stepcounter|newenvironment|renewenvironment|ref|vref|eqref|pageref|label|cite[a-zA-Z]*|tag|begin|end|bibitem)\\b",next:"nospell"},{token:"keyword",
regex:"\\\\(?:[a-zA-z0-9]+|[^a-zA-z0-9])"},{token:"paren.keyword.operator",regex:"[[({]"},{token:"paren.keyword.operator",regex:"[\\])}]"},{token:b,regex:"\\s+"}],nospell:[{token:"comment",regex:"%.*$",next:"start"},{token:"nospell."+b,regex:"\\\\[$&%#\\{\\}]"},{token:"keyword",regex:"\\\\(?:documentclass|usepackage|newcounter|setcounter|addtocounter|value|arabic|stepcounter|newenvironment|renewenvironment|ref|vref|eqref|pageref|label|cite[a-zA-Z]*|tag|begin|end|bibitem)\\b"},{token:"keyword",regex:"\\\\(?:[a-zA-z0-9]+|[^a-zA-z0-9])",
next:"start"},{token:"paren.keyword.operator",regex:"[[({]"},{token:"paren.keyword.operator",regex:"[\\])]"},{token:"paren.keyword.operator",regex:"}",next:"start"},{token:"nospell."+b,regex:"\\s+"},{token:"nospell."+b,regex:"\\w+"}]}};j.inherits(b,i);h.TexHighlightRules=b});define("mode/tex",function(c,h){var j=c("ace/lib/oop"),i=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("ace/mode/text_highlight_rules").TextHighlightRules,a=c("mode/tex_highlight_rules").TexHighlightRules,f=c("ace/mode/matching_brace_outdent").MatchingBraceOutdent,e=function(c){this.$tokenizer=c?new b((new d).getRules()):new b((new a).getRules());this.$outdent=new f};j.inherits(e,i);(function(){this.getNextLineIndent=function(a,b){return this.$getIndent(b)};this.allowAutoInsert=function(){return!1}}).call(e.prototype);
h.Mode=e});define("mode/sweave_background_highlighter",function(c,h){var j=c("ace/range").Range,i=function(b,c,a,f){this.$session=b;this.$doc=b.getDocument();this.$reCode=c;this.$reText=a;this.$textIsTerminator=f;var e=this;this.$doc.on("change",function(a){e.$onDocChange.apply(e,[a])});this.$rowState=Array(this.$doc.getLength());this.$markers=[];for(c=0;c<this.$doc.getLength();c++)this.$updateRow(c);var b=b.getMarkers(!1),g;for(g in b)c=b[g],c.range&&"ace_foreign_line sweave_background_highlight"===c.clazz&&
"background"==c.type&&(this.$markers[c.range.start.row]=g);this.$syncMarkers(0)};(function(){this.$updateRow=function(b){var c=this.$doc.getLine(b),a="text",f="text";if(c.match(this.$reCode))a="begin",f="r";else if(!this.$textIsTerminator&&c.match(this.$reText))a="end",f="text";else if(0<b){var e=this.$rowState[b-1];if("begin"===e||"r"===e)c.match(this.$reText)?(a="end",f="text"):f=a="r"}this.$rowState[b]=a;for(b+=1;b<this.$rowState.length;b++){c=this.$rowState[b];if("begin"===c)break;if("end"===
c){this.$textIsTerminator&&"text"===f&&(this.$rowState[b]="text");break}if(this.$textIsTerminator&&"r"===f&&this.$doc.getLine(b).match(this.$reText)){this.$updateRow(b);break}if(this.$rowState[b]===f)break;this.$rowState[b]=f}};this.$syncMarkers=function(b,c){for(var a="undefined"==typeof c?this.$doc.getLength():b+c,f=this.$doc.getLength()-1,e=b;e<=f;e++){var g="text"!=this.$rowState[e];if(!!g!=!!this.$markers[e])this.$markers[e]&&this.$session.removeMarker(this.$markers[e]),g?this.$markers[e]=this.$session.addMarker(new j(e,
0,e+1,0),"ace_foreign_line sweave_background_highlight","background",!1):delete this.$markers[e];else if(e>a)break}};this.$insertNewRows=function(b,c){var a=Array(c+2);a[0]=b;a[1]=0;Array.prototype.splice.apply(this.$rowState,a)};this.$removeRows=function(b,c){this.$rowState.splice(b,c)};this.$onDocChange=function(b){b=b.data;if("insertLines"===b.action){var c=b.range.end.row-b.range.start.row;this.$insertNewRows(b.range.start.row,c);for(var a=0;a<c;a++)this.$updateRow(b.range.start.row+a);this.$syncMarkers(b.range.start.row)}else"insertText"===
b.action?this.$doc.isNewLine(b.text)?(this.$insertNewRows(b.range.end.row,1),this.$updateRow(b.range.start.row),this.$updateRow(b.range.start.row+1),this.$syncMarkers(b.range.start.row)):(this.$updateRow(b.range.start.row),this.$syncMarkers(b.range.start.row,1)):"removeLines"===b.action?(this.$removeRows(b.range.start.row,b.range.end.row-b.range.start.row),this.$updateRow(b.range.start.row),this.$syncMarkers(b.range.start.row)):"removeText"===b.action&&(this.$doc.isNewLine(b.text)?(this.$removeRows(b.range.end.row,
1),this.$updateRow(b.range.start.row),this.$syncMarkers(b.range.start.row)):(this.$updateRow(b.range.start.row),this.$syncMarkers(b.range.start.row,1)))}}).call(i.prototype);h.SweaveBackgroundHighlighter=i});define("mode/sweave_highlight_rules",function(c,h){var j=c("ace/lib/oop"),i=c("mode/tex_highlight_rules").TexHighlightRules,b=c("mode/r_highlight_rules").RHighlightRules,d=c("ace/mode/text_highlight_rules").TextHighlightRules,a=function(){this.$rules=(new i).getRules();this.$rules.start.unshift({token:"comment.codebegin",regex:"^\\s*\\<\\<.*\\>\\>=.*$",next:"r-start"});this.$rules.start.unshift({token:"comment",regex:"^\\s*@(?:\\s.*)?$"});this.addRules((new b).getRules(),"r-");this.$rules["r-start"].unshift({token:"comment.codeend",
regex:"^\\s*@(?:\\s.*)?$",next:"start"});this.$rules["r-start"].unshift({token:"comment.codebegin",regex:"^\\<\\<.*\\>\\>=.*$",next:"r-start"})};j.inherits(a,d);h.SweaveHighlightRules=a});define("mode/sweave",function(c,h){var j=c("ace/lib/oop"),i=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("ace/mode/text_highlight_rules").TextHighlightRules,a=c("mode/sweave_background_highlighter").SweaveBackgroundHighlighter,f=c("mode/sweave_highlight_rules").SweaveHighlightRules,e=c("mode/r_code_model").RCodeModel,g=c("mode/r_matching_brace_outdent").RMatchingBraceOutdent,k=c("ace/unicode"),n=c("mode/utils"),p=function(c,g){this.$tokenizer=c?new b((new d).getRules()):new b((new f).getRules());
this.foldingRules=this.codeModel=new e(g,this.$tokenizer,/^r-/,/<<(.*?)>>/);this.$sweaveBackgroundHighlighter=new a(g,/^\s*\<\<.*\>\>=.*$/,/^\s*@(?:\s.*)?$/,!1);this.$session=g};j.inherits(p,i);(function(){j.implement(this,g);this.tokenRe=RegExp("^["+k.packages.L+k.packages.Mn+k.packages.Mc+k.packages.Nd+k.packages.Pc+"_]+","g");this.nonTokenRe=RegExp("^(?:[^"+k.packages.L+k.packages.Mn+k.packages.Mc+k.packages.Nd+k.packages.Pc+"_]|s])+","g");this.$complements={"(":")","[":"]",'"':'"',"'":"'","{":"}"};
this.$reOpen=/^[(["'{]$/;this.$reClose=/^[)\]"'}]$/;this.insertChunkInfo={value:"<<>>=\n\n@\n",position:{row:0,column:2}};this.getLanguageMode=function(a){return n.getPrimaryState(this.$session,a.row).match(/^r-/)?"R":"TeX"};this.getNextLineIndent=function(a,b,c){a=n.primaryState(a);return this.codeModel.getNextLineIndent(a,b,c)};this.allowAutoInsert=this.smartAllowAutoInsert}).call(p.prototype);h.Mode=p});define("mode/rdoc_highlight_rules",function(c,h){var j=c("ace/lib/oop");c("ace/lib/lang");var i=c("ace/mode/text_highlight_rules").TextHighlightRules,b=function(){this.$rules={start:[{token:"comment",regex:"%.*$"},{token:"text",regex:"\\\\[$&%#\\{\\}]"},{token:"keyword",regex:"\\\\(?:name|alias|method|S3method|S4method|item|code|preformatted|kbd|pkg|var|env|option|command|author|email|url|source|cite|acronym|href|code|preformatted|link|eqn|deqn|keyword|usage|examples|dontrun|dontshow|figure|if|ifelse|Sexpr|RdOpts|inputencoding|usepackage)\\b",
next:"nospell"},{token:"keyword",regex:"\\\\(?:[a-zA-z0-9]+|[^a-zA-z0-9])"},{token:"paren.keyword.operator",regex:"[[({]"},{token:"paren.keyword.operator",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],nospell:[{token:"comment",regex:"%.*$",next:"start"},{token:"nospell.text",regex:"\\\\[$&%#\\{\\}]"},{token:"keyword",regex:"\\\\(?:name|alias|method|S3method|S4method|item|code|preformatted|kbd|pkg|var|env|option|command|author|email|url|source|cite|acronym|href|code|preformatted|link|eqn|deqn|keyword|usage|examples|dontrun|dontshow|figure|if|ifelse|Sexpr|RdOpts|inputencoding|usepackage)\\b"},
{token:"keyword",regex:"\\\\(?:[a-zA-z0-9]+|[^a-zA-z0-9])",next:"start"},{token:"paren.keyword.operator",regex:"[[({]"},{token:"paren.keyword.operator",regex:"[\\])]"},{token:"paren.keyword.operator",regex:"}",next:"start"},{token:"nospell.text",regex:"\\s+"},{token:"nospell.text",regex:"\\w+"}]}};j.inherits(b,i);h.RDocHighlightRules=b});define("mode/rdoc",function(c,h){var j=c("ace/lib/oop"),i=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("ace/mode/text_highlight_rules").TextHighlightRules,a=c("mode/rdoc_highlight_rules").RDocHighlightRules,f=c("ace/mode/matching_brace_outdent").MatchingBraceOutdent,e=function(c){this.$tokenizer=c?new b((new d).getRules()):new b((new a).getRules());this.$outdent=new f};j.inherits(e,i);(function(){this.getNextLineIndent=function(a,b){return this.$getIndent(b)}}).call(e.prototype);h.Mode=
e});define("mode/rmarkdown_highlight_rules",function(c,h){var j=c("ace/lib/oop"),i=c("mode/r_highlight_rules").RHighlightRules,b=c("mode/c_cpp_highlight_rules").c_cppHighlightRules,d=c("mode/markdown_highlight_rules").MarkdownHighlightRules,a=c("ace/mode/text_highlight_rules").TextHighlightRules,f=function(){this.$rules=(new d).getRules();this.$rules.start.unshift({token:"support.function.codebegin",regex:"^(?:[ ]{4})?`{3,}\\s*\\{r(?:.*)\\}\\s*$",next:"r-start"});this.addRules((new i).getRules(),"r-");
this.$rules["r-start"].unshift({token:"support.function.codeend",regex:"^(?:[ ]{4})?`{3,}\\s*$",next:"start"});this.$rules.start.unshift({token:"support.function.codebegin",regex:"^(?:[ ]{4})?`{3,}\\s*\\{r(?:.*)engine\\='Rcpp'(?:.*)\\}\\s*$",next:"r-cpp-start"});this.addRules((new b).getRules(),"r-cpp-");this.$rules["r-cpp-start"].unshift({token:"support.function.codeend",regex:"^(?:[ ]{4})?`{3,}\\s*$",next:"start"})};j.inherits(f,a);h.RMarkdownHighlightRules=f});define("mode/rmarkdown",function(c,h){var j=c("ace/lib/oop"),i=c("mode/markdown").Mode,b=c("ace/tokenizer").Tokenizer,d=c("mode/rmarkdown_highlight_rules").RMarkdownHighlightRules,a=c("ace/mode/matching_brace_outdent").MatchingBraceOutdent,f=c("mode/r_matching_brace_outdent").RMatchingBraceOutdent,e=c("mode/sweave_background_highlighter").SweaveBackgroundHighlighter,g=c("mode/r_code_model").RCodeModel,k=c("ace/mode/folding/markdown").FoldMode,n=c("mode/utils"),p=function(c,n){var q=this;this.$session=
n;this.$tokenizer=new b((new d).getRules());this.$outdent=new a;this.$r_outdent={};j.implement(this.$r_outdent,f);this.codeModel=new g(n,this.$tokenizer,/^r-/,/^(?:[ ]{4})?`{3,}\s*\{r(.*)\}\s*$/);var h=new k;this.foldingRules={getFoldWidget:function(a,b,c){return"Markdown"==q.getLanguageMode({row:c,column:0})?h.getFoldWidget(a,b,c):q.codeModel.getFoldWidget(a,b,c)},getFoldWidgetRange:function(a,b,c){return"Markdown"==q.getLanguageMode({row:c,column:0})?h.getFoldWidgetRange(a,b,c):q.codeModel.getFoldWidgetRange(a,
b,c)}};this.$sweaveBackgroundHighlighter=new e(n,/^(?:[ ]{4})?`{3,}\s*\{r(?:.*)\}\s*$/,/^(?:[ ]{4})?`{3,}\s*$/,!0)};j.inherits(p,i);(function(){this.insertChunkInfo={value:"```{r}\n\n```\n",position:{row:0,column:5}};this.getLanguageMode=function(a){a=n.getPrimaryState(this.$session,a.row);return a.match(/^r-cpp-(?!r-)/)?"C_CPP":a.match(/^r-/)?"R":"Markdown"};this.inCppLanguageMode=function(a){return a.match(/^r-cpp-(?!r-)/)};this.inMarkdownLanguageMode=function(a){return!a.match(/^r-/)};this.getNextLineIndent=
function(a,b,c){a=n.primaryState(a);if(this.inCppLanguageMode(a)){var d=this.$getIndent(b),e=this.$tokenizer.getLineTokens(b,a),g=e.tokens,e=e.state;if(g.length&&"comment"==g[g.length-1].type)return d;if("r-cpp-start"==a)(a=b.match(/^.*[\{\(\[]\s*$/))&&(d+=c);else if("r-cpp-doc-start"==a){if("start"==e)return"";if(a=b.match(/^\s*(\/?)\*/))a[1]&&(d+=" "),d+="* "}return d}return this.codeModel.getNextLineIndent(a,b,c)};this.checkOutdent=function(a,b,c){a=n.primaryState(a);return this.inCppLanguageMode(a)?
this.$outdent.checkOutdent(b,c):this.$r_outdent.checkOutdent(a,b,c)};this.autoOutdent=function(a,b,c){a=n.primaryState(a);return this.inCppLanguageMode(a)?this.$outdent.autoOutdent(b,c):this.$r_outdent.autoOutdent(a,b,c,this.codeModel)};this.transformAction=function(a,b,c,d,e){a=n.primaryState(a);if("insertion"===b)if("\n"===e&&this.inCppLanguageMode(a)){if(a=c.getSelectionRange().start,(d=/^((\s*\/\/+')\s*)/.exec(d.doc.getLine(a.row)))&&c.getSelectionRange().start.column>=d[2].length)return{text:"\n"+
d[1]}}else if("R"===e&&this.inCppLanguageMode(a)&&(a=c.getSelectionRange().start,(d=/^(\s*\/\*{3,}\s*)/.exec(d.doc.getLine(a.row)))&&c.getSelectionRange().start.column>=d[1].length))return{text:"R\n\n*/\n",selection:[1,0,1,0]};return!1}}).call(p.prototype);h.Mode=p});define("mode/rhtml_highlight_rules",function(c,h){var j=c("ace/lib/oop"),i=c("mode/r_highlight_rules").RHighlightRules,b=c("ace/mode/html_highlight_rules").HtmlHighlightRules,d=c("ace/mode/text_highlight_rules").TextHighlightRules,a=function(){this.$rules=(new b).getRules();this.$rules.start.unshift({token:"support.function.codebegin",regex:"^<\!--\\s*begin.rcode\\s*(?:.*)",next:"r-start"});this.addRules((new i).getRules(),"r-");this.$rules["r-start"].unshift({token:"support.function.codeend",regex:"^\\s*end.rcode\\s*--\>",
next:"start"})};j.inherits(a,d);h.RHtmlHighlightRules=a});define("mode/rhtml",function(c,h){var j=c("ace/lib/oop"),i=c("ace/mode/html").Mode,b=c("ace/tokenizer").Tokenizer,d=c("mode/rhtml_highlight_rules").RHtmlHighlightRules,a=c("mode/sweave_background_highlighter").SweaveBackgroundHighlighter,f=c("mode/r_code_model").RCodeModel,e=c("mode/utils"),g=function(c,e){this.$session=e;this.$tokenizer=new b((new d).getRules());this.foldingRules=this.codeModel=new f(e,this.$tokenizer,/^r-/,/^<\!--\s*begin.rcode\s*(.*)/);this.$sweaveBackgroundHighlighter=new a(e,
/^<\!--\s*begin.rcode\s*(?:.*)/,/^\s*end.rcode\s*--\>/,!0)};j.inherits(g,i);(function(){this.insertChunkInfo={value:"<\!--begin.rcode\n\nend.rcode--\>\n",position:{row:0,column:15}};this.getLanguageMode=function(a){return e.getPrimaryState(this.$session,a.row).match(/^r-/)?"R":"HTML"};this.getNextLineIndent=function(a,b,c){return this.codeModel.getNextLineIndent(a,b,c)}}).call(g.prototype);h.Mode=g});define("mode/dcf_highlight_rules",function(c,h){var j=c("ace/lib/oop"),i=c("ace/mode/text_highlight_rules").TextHighlightRules,b=function(){this.$rules={start:[{token:["keyword","text"],regex:"^([\\w-]+)(\\:)"},{token:"text",regex:".+"}]}};j.inherits(b,i);h.DcfHighlightRules=b});define("mode/dcf",function(c,h){var j=c("ace/lib/oop"),i=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("mode/dcf_highlight_rules").DcfHighlightRules,a=function(){this.$tokenizer=new b((new d).getRules())};j.inherits(a,i);(function(){this.getNextLineIndent=function(a,b){return this.$getIndent(b)}}).call(a.prototype);h.Mode=a});define("mode/mermaid_highlight_rules",function(c,h){var j=c("ace/lib/oop"),i=c("ace/mode/text_highlight_rules").TextHighlightRules,b=function(){this.$rules={start:[{token:"keyword",merge:!1,regex:"^\\s*graph\\s+(?:TB|BT|RL|LR|TD)\\s*$"},{token:"keyword",merge:!1,regex:"^\\s*(?:sequenceDiagram|participant|subgraph|loop|alt(?:\\s+is)?|opt|else(?:\\s+is)?|end|style|linkStyle|classDef|class)"},{token:"keyword.operator",merge:!1,regex:">|\\->|\\-\\->|\\-\\-\\-|\\-\\-|\\-\\.\\->|\\-\\.|\\.\\->|==>|==|\\->>|\\-\\->>|\\-x|\\-\\-x"},
{token:"paren.keyword.operator",merge:!1,regex:"[[({\\|]"},{token:"paren.keyword.operator",merge:!1,regex:"[\\])}]"},{token:"markup.list",merge:!1,regex:"Note\\s+(?:left|right)\\s+of"},{token:"markup.list",merge:!1,regex:"<br/>"},{token:"text",regex:"\\s+",merge:!0}]}};j.inherits(b,i);h.MermaidHighlightRules=b});define("mode/mermaid",function(c,h){var j=c("ace/lib/oop"),i=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("mode/mermaid_highlight_rules").MermaidHighlightRules,a=function(){this.$tokenizer=new b((new d).getRules())};j.inherits(a,i);(function(){this.getNextLineIndent=function(a,b){return this.$getIndent(b)}}).call(a.prototype);h.Mode=a});define("mode/cpp_scope_tree",function(c,h){var j=c("ace/lib/oop"),i=c("mode/r_scope_tree"),b=i.ScopeManager,d=i.ScopeNode,a=function(a,b,c,d,n,h){this.label=a;this.start=b;this.preamble=c||b;this.end=null;this.scopeType=d;this.scopeCategory=n;this.attributes=h;this.parentScope=null;this.$children=[]};j.mixin(a.prototype,d.prototype);a.CATEGORY_CLASS=1;a.CATEGORY_NAMESPACE=2;a.CATEGORY_FUNCTION=3;a.CATEGORY_LAMBDA=4;a.CATEGORY_ANON=5;(function(){this.isClass=function(){return this.scopeType==d.TYPE_BRACE&&
this.scopeCategory==a.CATEGORY_CLASS};this.isNamespace=function(){return this.scopeType==d.TYPE_BRACE&&this.scopeCategory==a.CATEGORY_NAMESPACE};this.isFunction=function(){return this.scopeType==d.TYPE_BRACE&&this.scopeCategory==a.CATEGORY_FUNCTION};this.isLambda=function(){return this.scopeType==d.TYPE_BRACE&&this.scopeCategory==a.CATEGORY_LAMBDA}}).call(a.prototype);i=function(a){this.$ScopeNodeFactory=a;this.parsePos={row:0,column:0};this.$root=new a("(Top Level)",this.parsePos,null,d.TYPE_ROOT,
null)};j.mixin(i.prototype,b.prototype);(function(){this.onClassScopeStart=function(b,c,g){this.$root.addNode(new this.$ScopeNodeFactory(b,g,c,d.TYPE_BRACE,a.CATEGORY_CLASS));this.printScopeTree()};this.onNamespaceScopeStart=function(b,c,g){this.$root.addNode(new this.$ScopeNodeFactory(b,g,c,d.TYPE_BRACE,a.CATEGORY_NAMESPACE));this.printScopeTree()};this.onFunctionScopeStart=function(b,c,g){this.$root.addNode(new this.$ScopeNodeFactory(b,g,c,d.TYPE_BRACE,a.CATEGORY_FUNCTION));this.printScopeTree()};
this.onLambdaScopeStart=function(b,c,g){this.$root.addNode(new this.$ScopeNodeFactory(b,g,c,d.TYPE_BRACE,a.CATEGORY_LAMBDA));this.printScopeTree()};this.onScopeStart=function(a){this.$root.addNode(new this.$ScopeNodeFactory(null,a,null,d.TYPE_BRACE));this.printScopeTree()};this.onScopeEnd=function(a){a=this.$root.closeScope(a,d.TYPE_BRACE);this.printScopeTree();return a}}).call(i.prototype);h.CppScopeManager=i;h.CppScopeNode=a});define("mode/cpp_code_model",function(c,h){c("ace/lib/oop");var j=c("ace/range").Range,i=c("mode/token_utils").TokenUtils;c("ace/token_iterator");var b=c("mode/token_cursor").CppTokenCursor,d=c("mode/cpp_scope_tree").CppScopeNode,a=c("mode/cpp_scope_tree").CppScopeManager,f=c("mode/r_code_model").getVerticallyAlignFunctionArgs,e=c("mode/utils"),g=function(b,c,e,g){this.$session=b;this.$doc=b.getDocument();this.$tokenizer=c;this.$tokens=Array(this.$doc.getLength());this.$statePattern=e;this.$codeBeginPattern=
g;this.$tokenUtils=new i(this.$doc,this.$tokenizer,this.$tokens,this.$statePattern,this.$codeBeginPattern);this.$scopes=new a(d);var f=this;this.$doc.on("change",function(a){f.$onDocChange.apply(f,[a])})};(function(){this.getTokenCursor=function(){return new b(this.$tokens)};var a=function(a,b){for(;;){var c=a.currentValue(),d=b.$doc.getLine(a.$row);if(["{","}",";"].some(function(a){return a===c}))break;if(":"===c){var e=a.peekBwd().currentValue();if(["public","private","protected"].some(function(a){return a===
e}))break}if(/^\s*#/.test(d))break;if(!a.moveToPreviousToken())break}},c="if,else,for,do,while,struct,class,try,catch,switch".split(","),d=function(a){a=a.trim();return a=a.replace(/[\n\s]+/g," ")},g=function(a,b){var c=d(a),e=b;"undefined"===typeof e&&(e=80);c.length>e&&(c=c.substring(0,e)+"...");return c};this.$complements={"<":">",">":"<","{":"}","}":"{","[":"]","]":"[","(":")",")":"(","'":"'",'"':'"'};this.alignContinuationSlashes=function(a,b){"undefined"===typeof b&&(b={start:0,end:a.getLength()});
var c=a.$lines;if(!(c instanceof Array))return!1;for(var d=b.start;d<b.end;d++)if(q.test(c[d])){for(var e=d,d=d+1;q.test(c[d])&&d<=b.end;)d++;for(var g=d,f=c.slice(e,g).map(function(a){return a.lastIndexOf("\\")}),n=Math.max.apply(null,f),l=0;l<g-e;l++){var k={row:e+l,column:f[l]},h=Array(n-f[l]+1).join(" ");a.insert(k,h)}}return!0};this.allIndicesOf=function(a,b){for(var c=[],d=0;d<a.length;d++)a[d]==b&&c.push(d);return c};this.getRowForMatchingEOLArrows=function(a,b,c){for(var a=0,d="",e=1;100>
e;e++){d=this.getLineSansComments(b,c-e);if(/;\s*$/.test(d))break;if(/<\s*$/.test(d)&&!/<<\s*$/.test(d)){if(0===a)return c-e;a--}else/^\s*>/.test(d)&&!/^\s*>>/.test(d)&&a++}return-1};var h=/^\s*#\s*define/,q=/\\\s*$/,i=/^\s*[+\-/&^%$!<\>.?|=~]|^\s*\*[^/]|^\s*\/[^\*]/,l=/[+\-*&^%$!<\>.?|=~]\s*$|\*[^/]\s*$|\/[^\*]\s*$/;this.inMacro=function(a,b){var c=a[b];return 0>b?!1:q.test(c)?h.test(c)?!0:this.inMacro(a,b-1):!1};this.$buildScopeTreeUpToRow=function(b){b=Math.min(b+30,this.$doc.getLength()-1);this.$tokenUtils.$tokenizeUpToRow(b);
var c=this.getTokenCursor();if(c.seekToNearestToken(this.$scopes.parsePos,b)){do{this.$scopes.parsePos=c.currentPosition();this.$scopes.parsePos.column+=c.currentValue().length;var e=c.currentToken().type;if(/\bsectionhead\b/.test(e))e=""+/^\/\/'?[-=#\s]*(.*?)\s*[-=#]+\s*$/.exec(c.currentValue())[1],0==e.length&&(e="(Untitled)"),50<e.length&&(e=e.substring(0,50)+"..."),this.$scopes.onSectionHead(e,c.currentPosition());else if(/\bcodebegin\b/.test(e)){var e=c.currentPosition(),f={row:e.row+1,column:0};
this.$scopes.getTopLevelScopeCount();this.$scopes.onChunkStart("(R Code Chunk)","(R Code Chunk)",e,f)}else if(/\bcodeend\b/.test(e)){for(e=c.currentPosition();this.$scopes.onScopeEnd(e););e.column+=c.currentValue().length;this.$scopes.onChunkEnd(e)}else if("{"===c.currentValue())if(e=c.cloneCursor(),f=e.currentPosition(),e.isFirstSignificantTokenOnLine()&&(f.column=0),"namespace"===e.peekBwd(2).currentValue())e.moveToPreviousToken(),this.$scopes.onNamespaceScopeStart("namespace "+e.currentValue(),
e.currentPosition(),c.currentPosition());else if("namespace"===e.peekBwd().currentValue())this.$scopes.onNamespaceScopeStart("anonymous namespace",f,c.currentPosition());else if("class"===e.peekBwd(2).currentValue()||"struct"===e.peekBwd(2).currentValue()||e.bwdOverClassInheritance()){e.moveToPreviousToken();var n=e.cloneCursor();a(n,this);n=n.peekFwd().currentPosition();f=this.$session.getTextRange(new j(n.row,n.column,f.row,f.column));f=d(f);this.$scopes.onClassScopeStart(f,e.currentPosition(),
c.currentPosition())}else if(e.bwdOverConstNoexceptDecltype()&&e.bwdOverInitializationList()&&e.moveBackwardOverMatchingParens()||e.moveBackwardOverMatchingParens())if("identifier"===e.peekBwd().currentType()||"]"===e.peekBwd().currentValue()||/^operator/.test(e.peekBwd().currentValue()))if("]"===e.peekBwd().currentValue())e=e.currentPosition(),e=this.$session.getTextRange(new j(e.row,e.column,f.row,f.column-1)),e=d("lambda "+e),this.$scopes.onLambdaScopeStart(e,f,c.currentPosition());else{if(e.moveToPreviousToken()){var l=
"",f=e.currentValue(),n="",h=this.$scopes.getActiveScopes(e.currentPosition());null!=h&&(h=h[h.length-1],h.isClass()&&h.label==="class "+f?"~"===e.peekBwd().currentValue()&&(f="~"+f):(l=e.cloneCursor(),a(l,this),l.moveToNextToken(),l=l.currentPosition(),h=e.currentPosition(),l=this.$session.getTextRange(new j(l.row,l.column,h.row,h.column))));var i=e.peekFwd(),h=i.currentPosition();i.fwdToMatchingToken()&&("const"===i.peekFwd().currentValue()&&i.moveToNextToken(),"noexcept"===i.peekFwd().currentValue()&&
i.moveToNextToken(),"noexcept"===i.currentValue()&&"("===i.peekFwd().currentValue()&&(i.moveToNextToken(),i.fwdToMatchingToken()),(i=i.peekFwd().currentPosition())&&(n=this.$session.getTextRange(new j(h.row,h.column,i.row,i.column))));this.$scopes.onFunctionScopeStart(0<l.length?g(f.trim()+n.trim()+": "+l.trim()):g(f.trim()+n.trim()),e.currentPosition(),c.currentPosition())}}else this.$scopes.onScopeStart(f);else this.$scopes.onScopeStart(f);else"}"===c.currentValue()&&(e=c.currentPosition(),c.isLastSignificantTokenOnLine()?
e.column=this.$doc.getLine(e.row).length+1:e.column++,this.$scopes.onScopeEnd(e))}while(c.moveToNextToken(b))}};this.getCurrentScope=function(a,b){b||(b=function(){return!0});if(!a)return"";this.$buildScopeTreeUpToRow(a.row);var c=this.$scopes.getActiveScopes(a);if(c)for(var d=c.length-1;0<=d;d--)if(b(c[d]))return c[d];return null};this.getScopeTree=function(){this.$buildScopeTreeUpToRow(this.$doc.getLength()-1);return this.$scopes.getScopeList()};this.getRowForOpenBraceIndent=function(a,b,d){if(1>=
a.getDocument().$lines.length)return-1;if(this.$tokenUtils.$tokenizeUpToRow(b))try{for(var e=Array(this.$tokens.length),g=0;g<this.$tokens.length;g++)if(null!=this.$tokens[g]&&0<this.$tokens[g].length){var f=this.$tokens[g];"\\"===f[f.length-1].value&&(e[g]=this.$tokens[g].splice(f.length-1,1)[0])}var l=this.getTokenCursor();if(d){var h=a.getSelection().getCursor();if(!l.moveToPosition(h))return 0}else{l.$row=b;g=l.$tokens[b].length-1;for(g=l.$tokens[b].length-1;0<=g&&!(l.$offset=g,"{"===l.currentValue());g--);
}if("{"===l.peekBwd().currentValue()||";"===l.currentValue())return-1;l.bwdOverInitializationList();l.bwdOverClassInheritance();if("{"===l.currentValue()&&!l.moveToPreviousToken()||"{"===l.currentValue())return-1;for(;"keyword"===l.currentType();){var k=l.currentValue();if(c.some(function(a){return a===k})||0===l.$row&&0===l.$offset)return l.$row;if(!l.moveToPreviousToken())return-1}if(":"===l.currentValue()){var i=l.peekBwd().currentValue();if(["public","private","protected"].some(function(a){return a===
i}))return l.moveToNextToken(),l.$row}if(":"===l.currentValue())for(;l.moveToPreviousToken();){if(l.bwdToMatchingToken())if("keyword"===l.peekBwd().currentType())continue;else break;if("identifier"===l.currentType())break}if(")"===l.currentValue()&&!l.bwdToMatchingToken()||"("===l.currentValue()&&!l.moveToPreviousToken())return-1;"="===l.currentValue()&&l.moveToPreviousToken();return l.$row}finally{for(g=0;g<e.length;g++)"undefined"!==typeof e[g]&&this.$tokens[g].push(e[g])}return-1};this.getLineSansComments=
function(a,b,c){if(0>b)return"";for(var a=a.getLine(b),d=/(?!\\)\"/g,e=a,g=null,b=[];g=d.exec(e);)b.push(g.index);if(0<b.length&&0===b.length%2)for(d=0;d<b.length/2;d+=2)e=b[d+1],a=a.substring(0,b[d]+1)+a.substring(e,a.length);b=a.indexOf("//");-1!=b&&(a=a.substring(0,b));q.test(a)&&(a=a.substring(0,a.lastIndexOf("\\")));c&&(a=a.replace(/\bconst\b/,"").replace(/\bnoexcept\b/,""));return a};this.findStartOfCommentBlock=function(a,b,c){for(var d=0,e=/^\s*\/+\*/;0<=b&&d<c;){if(e.test(a[b]))return b;
--b;++d}return-1};this.getNextLineIndent=function(a,c,d,g,n){var k=f(),j=this.$session,p=j.getTabSize(),u=j.getDocument();"number"!==typeof g&&(g=j.getSelection().getCursor().row-1);if(-1===g)return c=u.getLine(0),0<c.length?this.$getIndent(c):"";if(0===c.length||/^\s*#/.test(c))return this.getNextLineIndent(e.getPrimaryState(j,g-1),u.getLine(g-1),d,g-1,n);var z=this.$getIndent(c),s=this.$getUnindent(c,p),r=u.$lines,F;F=0<g?r[g-1]:"";if("comment"==a||"doc-start"==a){E&&E.row==g&&(c=c.substring(0,
E.column));if(/^\s*$/.test(c))return this.$getIndent(r[g]);E=this.findStartOfCommentBlock(r,g,200);if(null!==E)return this.$getIndent(r[E])+" "}if("start"==a){a=null;if(h.test(c))return/\\\s*$/.test(c)?z+d:z;if(/^\s*#\s*\S/.test(c))return z;if(this.inMacro(r,g-1)&&!q.test(c))return s;var c=this.getLineSansComments(u,g),E=j.getSelection().getCursor();E&&E.row==g&&!n&&(c=c.substring(0,E.column));F=this.getLineSansComments(u,g-1);if("string"!==typeof c)return"";if(0===c.length||/^\s*$/.test(c))return this.$getIndent(r[g]);
if(/\*\/\s*$/.test(c)&&(s=this.findStartOfCommentBlock(r,g,200),0<=s))return this.$getIndent(r[s]);if(/^\s*<</.test(c)){for(c=g-1;/^\s*<</.test(r[c]);)c--;return this.$getIndent(r[c])}if(/^\s*\./.test(c)){for(c=g-1;/^\s*\./.test(r[c]);)c--;return this.$getIndent(r[c])}if(/\bnamespace\b.*\{\s*$/.test(c)||/\bswitch\b.*\{\s*$/.test(c))return z;if(c.match(/\(\s*$/))return-1!==c.indexOf("=")||/^\s*(return\s+)?[a-zA-Z0-9_.->:]+\(\s*$/.test(c)?z+d:z+d+d;if(/^\s*(class|struct).*\{\s*$/.test(c)||/^\s*(class|struct)\s+.+:\s*$/.test(c))return z+
d;if((a=c.match(/(^\s*(?:class|struct)\s+.*\w[^:]):[^:]\s*.+/))&&!/,\s*/.test(c)||(a=c.match(/^(\s*(class|struct).*:\s*).*,\s*$/)))return k?Array(a[1].length+1).join(" "):z+d;if(a=c.match(/^(\s*:\s*)(\w+).*,\s*$/))return k?Array(a[1].length+1).join(" "):z+d;if(a=c.match(/^(\s*)[:,]\s*[\w\s]*$/))return k?Array(a[1].length+1).join(" "):z+d;if(/<\s*$/.test(c))return z+d;if(/^\s*\".*\"\s*$/.test(c)||/^\s*template\s*<.*>\s*$/.test(c)&&c.split(">").length==c.split("<").length)return z;if(/([\[\{\(<]).+,\s*$/.exec(c)){a=
["(","{","[","<"];for(s=0;s<a.length;s++){var J=a[s],I=this.$complements[J],J=this.allIndicesOf(c,J);if(J.length&&(I=this.allIndicesOf(c,I),I=J.length-I.length-1,!(0>I))){r=J[I];return k?(c=c.substr(r+1).match(/([^\s])/),Array(r+c.index+2).join(" ")):z+d}}}for(s=g-1;0<=s&&/^\s*$|^\s*#/.test(F);)F=this.getLineSansComments(u,s),s--;if((i.test(c)||l.test(c))&&(i.test(F)||l.test(F)))return this.$getIndent(c);if(this.$tokenUtils.$tokenizeUpToRow(g+2))try{for(var N=Array(this.$tokens.length),s=0;s<this.$tokens.length;s++)if(null!=
this.$tokens[s]&&0<this.$tokens[s].length){var P=this.$tokens[s];"\\"===P[P.length-1].value&&(N[s]=this.$tokens[s].splice(P.length-1,1)[0])}var o=new b(this.$tokens,g,this.$tokens[g].length-1);for(n||o.moveToPosition(E);0>o.$offset&&0<o.$row;)o.$row--,o.$offset=o.$tokens[o.$row].length-1;for(;0<o.$row&&/^\s*#/.test(u.getLine(o.$row));)o.$row--,o.$offset=o.$tokens[o.$row].length-1;var n="",R=o.cloneCursor(),M=R.currentValue(),O=R.currentType();if("constant"===O||"keyword"===O||"identifier"===O||["{",
")",">",":"].some(function(a){return a===M}))n=d;for(;";"===o.currentValue()&&o.moveToPreviousToken(););var Q=o.cloneCursor();if(k&&o.isLastSignificantTokenOnLine()&&("keyword.operator"===o.currentType()||"punctuation.operator"===o.currentType())){var K=o.cloneCursor();K.$offset=0;if("keyword"===K.currentType()){var L=c.split("(").length-c.split(")").length;if(0<L){var G=c.match(/.*?\(\s*(\S)/);if(G)return Array(G[0].length).join(" ")}}}if(","===o.currentValue()){if(k){var x=o.peekBwd();if("]"===
x.currentValue()&&x.bwdToMatchingToken())return Array(x.currentPosition().column+1).join(" ");L=c.split("(").length-c.split(")").length;if(0<L&&(G=c.match(/.*?\(\s*(\S)/)))return Array(G[0].length).join(" ")}if(/[,(]\s*$/.test(c)&&/[,(]\s*$/.test(F))return this.$getIndent(c);var y=o.cloneCursor();return y.findOpeningBracket("{",!1)&&y.bwdOverClassySpecifiers()&&"enum"===y.currentValue()?this.$getIndent(r[y.$row])+d:-1!==c.indexOf("=")?this.$getIndent(c)+d:this.$getIndent(c)}if("keyword.operator"===
O&&":"!==M)return this.$getIndent(r[g])+d;for(;;){if("undefined"===typeof o.currentValue())return"undefined"!==typeof Q.currentValue()?this.$getIndent(r[Q.$row])+n:n;Q=o.cloneCursor();if(";"===o.currentValue()&&o.moveToNextToken()){for(g=o.$row;null!=r[g]&&/^\s*#/.test(r[g]);)++g;return this.$getIndent(r[g])+n}if(["for","while","do","try"].some(function(a){return a===o.currentValue()})&&";"!==M)return this.$getIndent(r[o.$row])+n;x=o.peekBwd();if(":"===o.currentValue()){if(["public","private","protected"].some(function(a){return a===
x.currentValue()}))return this.$getIndent(r[x.$row])+d;var S=r[o.$row];if(/^\s*case/.test(S))return this.$getIndent(S)+d;if(")"===x.currentValue()&&(y=x.cloneCursor(),y.bwdToMatchingToken())){var T=y.peekBwd(1),U=y.peekBwd(2);if(null!==T&&"identifier"===T.currentType()&&null!==U&&!/\boperator\b/.test(U.currentType()))return this.$getIndent(r[y.peekBwd().$row])+n}}if("]"===o.currentValue()&&"("===o.peekFwd().currentValue()&&(y=o.cloneCursor(),y.bwdToMatchingToken()))return this.$getIndent(r[y.$row])+
n;if("("===o.currentValue()&&"for"===x.currentValue()&&";"===M)return o.peekFwd().cloneCursor(),k?Array(o.peekFwd().currentPosition().column+1).join(" "):this.$getIndent(r[o.peekFwd().$row])+d;if(k&&"("===o.currentValue()&&!o.isLastSignificantTokenOnLine())return o.moveToNextToken(),Array(o.currentPosition().column+1+p).join(" ");if("if"===o.currentValue()||"else"===o.currentValue()||"template"===o.currentValue()&&"<"===o.peekFwd().currentValue())return this.$getIndent(r[o.$row])+n;if("{"===o.currentValue()){var V=
this.getRowForOpenBraceIndent(j,o.$row);return 0<=V?(c=this.getLineSansComments(u,V),z=this.$getIndent(c),/\bnamespace\b/.test(c)?z:z+d):this.$getIndent(r[o.$row])+d}if(0===o.$row&&0===o.$offset)return this.$getIndent(r[0])+n;if(">"===o.currentValue()&&(y=o.cloneCursor(),y.bwdToMatchingArrow()&&"template"===y.peekBwd().currentValue()))return">"===M&&(n=""),this.$getIndent(r[y.$row])+n;o.bwdToMatchingToken();if(!o.moveToPreviousToken())break;for(;0<o.$row&&/^\s*#/.test(r[o.$row]);)o.$row--,o.$offset=
this.$tokens[o.$row].length-1}}finally{for(s=0;s<N.length;s++)"undefined"!==typeof N[s]&&this.$tokens[s].push(N[s])}}return z};this.$onDocChange=function(a){a=a.data;"insertLines"===a.action?this.$tokenUtils.$insertNewRows(a.range.start.row,a.range.end.row-a.range.start.row):"insertText"===a.action?this.$doc.isNewLine(a.text)?(this.$tokenUtils.$invalidateRow(a.range.start.row),this.$tokenUtils.$insertNewRows(a.range.end.row,1)):this.$tokenUtils.$invalidateRow(a.range.start.row):"removeLines"===a.action?
(this.$tokenUtils.$removeRows(a.range.start.row,a.range.end.row-a.range.start.row),this.$tokenUtils.$invalidateRow(a.range.start.row)):"removeText"===a.action&&(this.$doc.isNewLine(a.text)&&this.$tokenUtils.$removeRows(a.range.end.row,1),this.$tokenUtils.$invalidateRow(a.range.start.row));this.$scopes.invalidateFrom(a.range.start)};this.$getIndent=function(a){return(a=/^([ \t]*)/.exec(a))?a[1]:""};this.$padIndent=function(a,b,c){b=Array(b+1).join(" ");b=a.replace("\t",b);return b>=c?a:a+Array(c-b+
1).join(" ")};this.$getUnindent=function(a,b){var c=this.$getIndent(a);if(null===c||0===c.length)return"";var d=c.indexOf("\t");if(-1!=d)return c.substring(0,d)+c.substring(d+1,c.length);for(var e=d=0;e<b&&e<c.length;e++)" "===c[e]&&d++;return c.substring(d,c.length)}}).call(g.prototype);h.CppCodeModel=g});define("mode/doc_comment_highlight_rules",function(c,h){var j=c("ace/lib/oop"),i=c("ace/mode/text_highlight_rules").TextHighlightRules,b=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"[@\\\\][\\w\\d_]+"},{token:"comment.doc",merge:!0,regex:"\\s+"},{token:"comment.doc",merge:!0,regex:"TODO"},{token:"comment.doc",merge:!0,regex:"[^@\\\\\\*]+"},{token:"comment.doc",merge:!0,regex:"."}]}};j.inherits(b,i);b.getStartRule=function(b){return{token:"comment.doc",merge:!0,regex:"\\/\\*[\\*\\!]",
next:b}};b.getEndRule=function(b){return{token:"comment.doc",merge:!0,regex:"\\*\\/",next:b}};h.DocCommentHighlightRules=b});define("mode/c_cpp_matching_brace_outdent",function(c,h){var j=c("ace/range").Range,i=c("mode/token_cursor").CppTokenCursor,b=function(a){this.codeModel=a},d=!0,a=!0,f=!0,e=!0,g=!0,k=!0,n=!0,p=!0,u=!0,w=!0,q=!0,H=!0;(function(){this.setIndent=function(a,b,c,d,e){var a=a.getDocument(),d="string"===typeof d?d:"",g=a.$lines[c],c=this.$getIndent(a.$lines[b]),g=this.$getIndent(g);("function"!==typeof e||e(c,g))&&a.replace(new j(b,0,b,c.length),g+d)};this.checkOutdent=function(a,b,c){return"start"==a&&
(":"===c||/^\s*[#\{\}\>\]\)<.:]/.test(c)||"="===c)?!0:"comment"==a&&"/"==c?!0:!1};this.escapeRegExp=function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};this.alignStartToken=function(a,b,c,d,e){if(null===e||null===d)return!1;return RegExp("^\\s*"+this.escapeRegExp(a)).test(d)&&(a=e.indexOf(a),0<=a)?(b=b.getDocument(),d=this.$getIndent(d),a=Array(a+1).join(" "),b.replace(new j(c,0,c,d.length),a),!0):!1};this.alignEquals=function(a,b,c,d){if(null===d||null===c)return!1;var e=
c.indexOf("=");if(e!==c.lastIndexOf("="))return!1;var g=d.indexOf("=");if(-1!==e&&-1!==g&&/,\s*$/.test(d)){a=a.getDocument();c=this.$getIndent(c);if(c.length>=g)return!1;e=g-e;if(0>=e)return!1;e=Array(c.length+e+1).join(" ");a.replace(new j(b,0,b,c.length),e);return!0}return!1};this.autoOutdent=function(b,c,h){var b=c.doc,p=b.getLine(h),B=null;0<h&&(B=b.getLine(h-1));this.$getIndent(p);if(!(w&&this.alignStartToken("<<",c,h,p,B)||u&&this.alignStartToken(">>",c,h,p,B)))if(!n||!this.alignStartToken(".",
c,h,p,B)){if(d&&/^\s*:/.test(b.getLine(h))&&!/^\s*::/.test(b.getLine(h))&&this.codeModel.$tokenUtils.$tokenizeUpToRow(h)){var A=new i(this.codeModel.$tokens,h,0),t=-1,C=A.cloneCursor();if(")"===C.peekBwd().currentValue()||"keyword"===C.peekBwd().currentType()){do{var A=C.currentType(),W=C.currentValue();if("identifier"===A||";"===W){t=C.$row;break}"keyword"!==A&&C.bwdToMatchingToken()}while(C.moveToPreviousToken())}else A.moveToPreviousToken(),A.bwdOverClassySpecifiers()&&(t=A.$row);0<=t&&this.setIndent(c,
h,t,c.getTabString(),function(a,b){return a===b})}if(k&&/^\s*>/.test(p)&&!/^\s*>>/.test(p)&&(t=this.codeModel.getRowForMatchingEOLArrows(c,b,h),0<=t)){this.setIndent(c,h,t);return}if(e&&/^\s*\}/.test(p)&&(t=c.findMatchingBracket({row:h,column:p.indexOf("}")+1}),null!==t)){if(/^\s*\{/.test(b.$lines[t.row])){this.setIndent(c,h,t.row);return}t=this.codeModel.getRowForOpenBraceIndent(c,t.row);if(0<=t){this.setIndent(c,h,t);return}}if(a&&/^\s*\)/.exec(p)&&(t=c.findMatchingBracket({row:h,column:p.indexOf(")")+
1}))){this.setIndent(c,h,t.row);return}if(g&&/^\s*\]/.exec(p)&&(t=c.findMatchingBracket({row:h,column:p.indexOf("]")+1}))){this.setIndent(c,h,t.row);return}if(q&&/^\s*public\s*:\s*$|^\s*private\s*:\s*$|^\s*protected\s*:\s*$/.test(p)&&(C=c.$findOpeningBracket("}",{row:h,column:p.length},RegExp(/paren\.keyword\.operator/)))){t=this.codeModel.getRowForOpenBraceIndent(c,C.row);0<=t?this.setIndent(c,h,t):this.setIndent(c,h,C.row);return}if(H&&(/^\s*case.+:/.test(p)||/^\s*default\s*:/.test(p)))if(C=c.$findOpeningBracket("}",
{row:h,column:/(\S)/.exec(p).index+1})){t=this.codeModel.getRowForOpenBraceIndent(c,C.row);0<=t?this.setIndent(c,h,t):this.setIndent(c,h,C.row);return}if(f&&/^\s*\{/.test(p)&&!/;\s*$/.test(B)){if(this.codeModel.$tokenUtils.$tokenizeUpToRow(h)&&(A=new i(this.codeModel.$tokens),A.$row=h,A.$offset=0,A.moveToPreviousToken()&&"="===A.currentValue()))return;B=this.codeModel.getRowForOpenBraceIndent(c,h);if(0<=B){this.setIndent(c,h,B);return}}/^\s*#/.test(p)&&(c=this.$getIndent(p),b.replace(new j(h,0,h,
c.length),""))}};this.$getIndent=function(a){return(a=a.match(/^(\s+)/))?a[1]:""}}).call(b.prototype);h.MatchingBraceOutdent=b;h.getOutdentColon=function(){return d};h.setOutdentColon=function(a){d=a};h.getOutdentRightParen=function(){return a};h.setOutdentRightParen=function(b){a=b};h.getOutdentLeftBrace=function(){return f};h.setOutdentLeftBrace=function(a){f=a};h.getOutdentRightBrace=function(){return e};h.setOutdentRightBrace=function(a){e=a};h.getOutdentRightBracket=function(){return g};h.setOutdentRightBracket=
function(a){g=a};h.getOutdentRightArrow=function(){return k};h.setOutdentRightArrow=function(a){k=a};h.getAlignDots=function(){return n};h.setAlignDots=function(a){n=a};h.getAlignEquals=function(){return p};h.setAlignEquals=function(a){p=a};h.getAlignStreamIn=function(){return u};h.setAlignStreamIn=function(a){u=a};h.getAlignStreamOut=function(){return w};h.setAlignStreamOut=function(a){w=a};h.getAlignClassAccessModifiers=function(){return q};h.setAlignClassAccessModifiers=function(a){q=a};h.getAlignCase=
function(){return H};h.setAlignCase=function(a){H=a}});define("mode/behaviour/cstyle",function(c,h){var j=c("ace/lib/oop"),i=c("ace/mode/behaviour").Behaviour;c("mode/cpp_code_model");c("mode/token_cursor");c("ace/mode/text");var b=!0,d=!0,a=function(a){var c=a.$complements,g=function(a,b,d,g){var f=c[a];if(b==a)return b=d.getSelectionRange(),g=g.doc.getTextRange(b),""!==g?{text:a+g+f,selection:!1}:{text:a+f,selection:[1,1]};if(b==f&&(a=d.getCursorPosition(),g.doc.getLine(a.row)[a.column]==f&&null!==g.findMatchingBracket({row:a.row,column:a.column+1})))return{text:"",
selection:[1,1]}},h=function(a,b,d){var g=c[a],f=d.doc.getTextRange(b);if(!b.isMultiLine()&&f==a&&d.doc.getLine(b.start.row).substring(b.start.column+1,b.start.column+2)==g)return b.end.column++,b};this.add("R","insertion",function(a,b,c,d,e){if("R"===e||"r"===e)if(a=c.getCursorPosition(),d=(new String(d.doc.getLine(a.row))).match(/^(\s*)\/\*{3,}\s/))return{text:"R\n"+d[1]+"\n"+d[1]+"*/",selection:[1,d[1].length,1,d[1].length]}});this.add("newline","insertion",function(b,c,d,e,g){if("\n"===g){var g=
d.selection.getCursor().row,h=d.selection.getCursor().column,c=e.getTabString(),k=d.getCursorPosition(),d=e.doc.getLine(k.row);if(!this.codeModel.inMacro(e.getDocument().$lines,g-1)){var i=/^(\s*\/\/'\s*)/.exec(d);if(i&&h>=i[1].length)return{text:"\n"+i[1]};if("comment"==b||"doc-start"==b)if(k&&k.row==g&&(d=d.substring(0,k.column)),b=/^(\s*\*+\s*)/.exec(d))return{text:"\n"+b[1],selection:[1,b[1].length,1,b[1].length]};if(/^\s*\/\*/.test(d)&&-1===d.indexOf("*/"))return e=this.$getIndent(d),c=e+" * ",
{text:"\n"+c+"\n"+e+" */",selection:[1,c.length,1,c.length]};for(b=h-1;/\s/.test(d[b]);)--b;b=d[b];h=d[h];if(i=d.match(/\s*namespace\s*\w*\s*{/))return e=this.$getIndent(d),{text:"\n"+e+"\n"+e,selection:[1,e.length,1,e.length]};if("("==b&&")"==h||"["==b&&"]"==h)return g=this.$getIndent(d),e=g+c,{text:"\n"+e+"\n"+g,selection:[1,e.length,1,e.length]};if("{"==b&&"}"==h){if(/^\s*{/.test(d))return g=this.$getIndent(d),e=g+e.getTabString(),{text:"\n"+e+"\n"+g,selection:[1,e.length,1,e.length]};g=a.getRowForOpenBraceIndent(e,
g);if(null!==g&&0<=g)return g=this.$getIndent(e.getDocument().getLine(g)),e=g+e.getTabString(),{text:"\n"+e+"\n"+g,selection:[1,e.length,1,e.length]};g=this.$getIndent(d);e=g+c;return{text:"\n"+e+"\n"+g,selection:[1,e.length,1,e.length]}}}}});this.add("braces","insertion",function(c,e,h,k,i){if(this.insertMatching){if("{"==i&&(c=h.getSelectionRange(),""===k.doc.getTextRange(c))){var c=h.selection.getCursor().row,j=h.selection.getCursor().column,l=k.getDocument(),e=this.codeModel.getLineSansComments(l,
c,!0),D="";if(0<c)for(var D=this.codeModel.getLineSansComments(l,c-1,!0),m=c-1;0<=m&&/^\s*$/.test(D);m--)D=this.codeModel.getLineSansComments(l,m,!0);j=e.substring(0,j);h.getCursorPosition();(l=e.match(/\/\//))&&(e=e.substr(0,l.index-1));if(b){l=/\s*namespace\s*$/.test(j);if(j=j.match(/\s*namespace\s+(\S+)\s*/))return{text:"{} // namespace "+j[1],selection:[1,1]};if(l)return{text:"{} // anonymous namespace",selection:[1,1]}}if(e.match(/\=\s*$/)&&-1===e.indexOf(";"))return{text:"{};",selection:[1,
1]};if(/\)\s*$/.test(e)||/\)\s*$/.test(D)&&/^\s*$/.test(e)||e.match(/#define\s+\w+/))return{text:"{}",selection:[1,1]};if(d&&(/^\s*do\s*$/.test(e)||/^\s*do\s*$/.test(D)&&/^\s*$/.test(e)))return{text:"{} while ();",selection:[1,1]};if(/^\s*if\s*$/.test(e)||/else\s*$/.test(e))return{text:"{}",selection:[1,1]};if(0<=a.getRowForOpenBraceIndent(k,c,!0)&&-1===e.indexOf(";")||/\S+\s*$/.test(e)&&-1===e.indexOf(";"))return{text:"{};",selection:[1,1]}}return g("{",i,h,k)}});this.add("braces","deletion",function(a,
b,c,d,e){if(this.insertMatching&&(a=d.doc.getTextRange(e),!e.isMultiLine()&&"{"==a)){a=d.doc.getLine(e.start.row);if(/^\s*do\s*\{\} while \(\);\s*$/.test(a)||/^\s*namespace\s*\{\} \/\/ end anonymous namespace\s*$/.test(a)||/^\s*namespace\s+.+\{\} \/\/ end namespace .+\s*$/.test(a))return e.end.column=a.length,e;d=a.substring(e.end.column,e.end.column+1);a=a.substring(e.end.column+1,e.end.column+2);if("}"==d)return e.end.column++,";"==a&&e.end.column++,e}});this.add("parens","insertion",function(a,
b,c,d,e){return!this.insertMatching?void 0:g("(",e,c,d)});this.add("parens","deletion",function(a,b,c,d,e){return!this.insertMatching?void 0:h("(",e,d)});this.add("brackets","insertion",function(a,b,c,d,e){return!this.insertMatching?void 0:g("[",e,c,d)});this.add("brackets","deletion",function(a,b,c,d,e){return!this.insertMatching?void 0:h("[",e,d)});this.add("string_dquotes","insertion",function(a,b,c,d,e){if(this.insertMatching&&('"'==e||"'"==e)){a=c.getSelectionRange();b=d.doc.getTextRange(a);
if(""!==b)return{text:e+b+e,selection:!1};c=c.getCursorPosition();b=d.doc.getLine(c.row);if("\\"==b.substring(c.column-1,c.column))return null;for(var d=d.getTokens(a.start.row),g=0,f,h=-1,k=0;k<d.length;k++){f=d[k];"string"==f.type?h=-1:0>h&&(h=f.value.indexOf(e));if(f.value.length+g>a.start.column)break;g+=d[k].value.length}if(!f||0>h&&"comment"!==f.type&&("string"!==f.type||a.start.column!==f.value.length+g-1&&f.value.lastIndexOf(e)===f.value.length-1))return{text:e+e,selection:[1,1]};if(f&&"string"===
f.type&&b.substring(c.column,c.column+1)==e)return{text:"",selection:[1,1]}}});this.add("string_dquotes","deletion",function(a,b,c,d,e){if(this.insertMatching&&(a=d.doc.getTextRange(e),!e.isMultiLine()&&('"'==a||"'"==a)))if(d=d.doc.getLine(e.start.row).substring(e.start.column+1,e.start.column+2),'"'===d||"'"===d)return e.end.column++,e});this.add("punctuation.operator","insertion",function(a,b,c,d,e){if(this.insertMatching&&";"===e&&(a=c.selection.getCursor(),";"==d.getLine(a.row)[a.column]))return{text:"",
selection:[1,1]}});this.add("macro","insertion",function(a,b,c,d,e){var b=c.getPrintMarginColumn(),b=Math.min(62,b),g=d.getDocument().$lines,f=c.getCursorPosition(),h=f.row,k=g[h],c=k.substring(0,f.column);if(/^\s*#\s*define[^\\]*$/.test(k)&&"\\"==e)return a=b-c.length+1,0<=a?{text:Array(a+1).join(" ")+"\\\n"+this.$getIndent(k)+d.getTabString(),selection:!1}:{text:"\\\n"+d.getTabString(),selection:!1};if(/^\s*#\s*define/.test(k)||this.codeModel.inMacro(g,h-1)){if("\\"==e&&/^\s*$/.test(k.substring(c.length,
k.length)))return a=b-c.length+1,0<=a?{text:Array(a+1).join(" ")+"\\",selection:!1}:{text:"\\",selection:!1};if("\n"==e){if(/^\s*$/.test(k)||/^\s*#\s*define/.test(k)&&!/\\\s*$/.test(k))return{text:"\n",selection:!1};if(/\\\s*$/.test(k)&&!/\\\s*$/.test(c))return{text:"",selection:[1,f.column,1,f.column]};d=d.getMode().getNextLineIndent(a,k+"\\",d.getTabString(),h,!1);a=b-c.length+1;e=/\\\s*$/.test(c)?"":"\\";return 0<=a?{text:Array(a+1).join(" ")+e+"\n"+d,selection:!1}:{text:e+"\n"+d,selection:!1}}}})};
j.inherits(a,i);h.CStyleBehaviour=a;h.setAddNamespaceComment=function(a){b=a};h.getAddNamespaceComment=function(){return b};h.setFillinDoWhile=function(a){d=a};h.getFillinDoWhile=function(){return d}});define("mode/c_cpp_highlight_rules",function(c,h){var j=c("ace/lib/oop"),i=c("ace/lib/lang"),b=c("mode/doc_comment_highlight_rules").DocCommentHighlightRules,d=c("ace/mode/text_highlight_rules").TextHighlightRules,a=c("mode/tex_highlight_rules").TexHighlightRules,f=c("mode/r_highlight_rules").RHighlightRules,e=function(){function c(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var d=i.arrayToMap("alignas,alignof,and,and_eq,asm,auto,bitand,bitor,bool,break,case,catch,char,char16_t,char32_t,class,compl,const,constexpr,const_cast,continue,decltype,default,delete,do,double,dynamic_cast,else,enum,explicit,export,extern,false,float,for,friend,goto,if,inline,int,in,long,mutable,namespace,new,noexcept,not,not_eq,nullptr,or,or_eq,private,protected,public,register,reinterpret_cast,return,short,signed,sizeof,static,static_assert,static_cast,struct,switch,template,this,thread_local,throw,true,try,typedef,typeid,typeof,typename,union,unsigned,using,virtual,void,volatile,wchar_t,while,xor,xor_eq".split(",")),
e=i.arrayToMap(["NULL"]),h=">>=,<<=,new,delete,<<,>>,&&,||,==,!=,<=,>=,::,*=,+=,-=,/=,++,--,<>,&=,^=,%=,->,!,$,&,|,*,-,+,~,=".split(","),j=h.map(function(a){return c(a)}).join("|"),h=[",","()","[]","->*","->"].concat(h).map(function(a){return c(a)}),h=["new\\s*\\[\\]","delete\\s*\\[\\]"].concat(h),h="operator\\s*(?:"+h.join("|")+")|operator\\s+[\\w_]+";this.$rules={start:[{token:"comment.doc.tag",regex:"\\/\\/\\s*\\[\\[.*\\]\\].*$"},{token:"comment",regex:"\\/\\/'",next:"rd-start"},{token:"comment",
regex:"\\/\\/.*$"},b.getStartRule("doc-start"),{token:"comment",merge:!0,regex:"\\/\\*",next:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",merge:!0,regex:'["].*\\\\$',next:"qqstring"},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"string",merge:!0,regex:"['].*\\\\$",next:"qstring"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"0[bB][01']+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?(?:(?:[fF])|(?:(?:[uU]?(?:(?:l?l?)|(?:L?L?))?)|(?:(?:(?:l?l?)|(?:L?L?))[uU]?))|(?:_\\w+))?\\b"},
{token:"keyword.preproc",regex:"#\\s*include\\b",next:"include"},{token:"keyword.preproc",regex:"(?:"+"include,pragma,line,define,undef,ifdef,ifndef,if,else,elif,endif,warning,error".split(",").map(function(a){return"#\\s*"+a+"\\b"}).join("|")+")"},{token:"variable.language",regex:"\\b__\\S+__\\b"},{token:"keyword",regex:h},{token:function(a){return"this"==a?"variable.language":d.hasOwnProperty(a)?"keyword":e.hasOwnProperty(a)?"constant.language":"identifier"},regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},
{token:"keyword.operator",merge:!1,regex:j},{token:"punctuation.operator",merge:!1,regex:"\\?|\\:|\\,|\\;|\\.|\\\\"},{token:"paren.keyword.operator",merge:!1,regex:"[[({<]"},{token:"paren.keyword.operator",merge:!1,regex:"[\\])}>]"},{token:"text",regex:"\\s+"}],comment:[{token:"comment",regex:".*?\\*\\/",next:"start"},{token:"comment",merge:!0,regex:".+"}],qqstring:[{token:"string",regex:'(?:(?:\\\\.)|(?:[^"\\\\]))*?"',next:"start"},{token:"string",merge:!0,regex:".+"}],qstring:[{token:"string",regex:"(?:(?:\\\\.)|(?:[^'\\\\]))*?'",
next:"start"},{token:"string",merge:!0,regex:".+"}],include:[{token:"string",regex:/<.+>/,next:"start"},{token:"string",regex:/\".+\"/,next:"start"}]};j=(new a("comment")).getRules();for(h=0;h<j.start.length;h++)j.start[h].token+=".virtual-comment";this.addRules(j,"rd-");this.$rules["rd-start"].unshift({token:"text",regex:"^",next:"start"});this.$rules["rd-start"].unshift({token:"keyword",regex:"@(?!@)[^ ]*"});this.$rules["rd-start"].unshift({token:"comment",regex:"@@"});this.$rules["rd-start"].push({token:"comment",
regex:"[^%\\\\[({\\])}]+"});this.embedRules(b,"doc-",[b.getEndRule("start")]);this.$rules.start.unshift({token:"support.function.codebegin",regex:"^\\s*\\/\\*{3,}\\s+[Rr]\\s*$",next:"r-start"});this.addRules((new f).getRules(),"r-");this.$rules["r-start"].unshift({token:"support.function.codeend",regex:"\\*\\/",next:"start"})};j.inherits(e,d);h.c_cppHighlightRules=e});define("mode/c_cpp",function(c,h){var j=c("ace/lib/oop"),i=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("ace/range").Range;c("mode/r_highlight_rules");var a=c("mode/c_cpp_highlight_rules").c_cppHighlightRules,f=c("mode/c_cpp_matching_brace_outdent").MatchingBraceOutdent,e=c("mode/behaviour/cstyle").CStyleBehaviour,g=null;window.NodeWebkit||(g=c("mode/c_cpp_fold_mode").FoldMode);var k=c("mode/sweave_background_highlighter").SweaveBackgroundHighlighter,n=c("mode/r_code_model").RCodeModel,
p=c("mode/r_matching_brace_outdent").RMatchingBraceOutdent,u=c("mode/cpp_code_model").CppCodeModel;c("mode/token_cursor");var w=c("mode/utils"),q=function(c,d){this.$session=d;this.$doc=d.getDocument();this.$tokenizer=new b((new a).getRules());this.$r_outdent={};j.implement(this.$r_outdent,p);this.r_codeModel=new n(d,this.$tokenizer,/^r-/,/^\s*\/\*{3,}\s+(.*)\s*$/);this.codeModel=new u(d,this.$tokenizer);this.$behaviour=new e(this.codeModel);this.$outdent=new f(this.codeModel);this.$sweaveBackgroundHighlighter=
new k(d,/^\s*\/\*{3,}\s+[Rr]\s*$/,/^\s*\*\/$/,!0);window.NodeWebkit||(this.foldingRules=new g);this.$tokens=this.codeModel.$tokens;this.getLineSansComments=this.codeModel.getLineSansComments};j.inherits(q,i);(function(){this.wrapInsert=function(a,b,c,d){return this.cursorInRLanguageMode()?i.prototype.wrapInsert(a,b,c,d):b.call(a,c,d)};this.wrapRemove=function(a,b,c){return this.cursorInRLanguageMode()?i.prototype.wrapRemove(a,b,c):b.call(a,c)};this.insertChunkInfo={value:"/*** R\n\n*/\n",position:{row:1,
column:0}};this.toggleCommentLines=function(a,b,c,e){for(var g=!0,a=/^(\s*)\/\//,f=c;f<=e;f++)if(!a.test(b.getLine(f))){g=!1;break}if(g){g=new d(0,0,0,0);for(f=c;f<=e;f++)c=b.getLine(f).match(a),g.start.row=f,g.end.row=f,g.end.column=c[0].length,b.replace(g,c[1])}else b.indentRows(c,e,"//")};this.getLanguageMode=function(a){return w.getPrimaryState(this.$session,a.row).match(/^r-/)?"R":"C_CPP"};this.cursorInRLanguageMode=function(){return"R"===this.getLanguageMode(this.$session.getSelection().getCursor())};
this.inRLanguageMode=function(a){return a.match(/^r-/)};this.getNextLineIndent=function(a,b,c,d,e){a=w.primaryState(a);return this.inRLanguageMode(a)?this.r_codeModel.getNextLineIndent(a,b,c,d):this.codeModel.getNextLineIndent(a,b,c,d,e)};this.checkOutdent=function(a,b,c){return this.inRLanguageMode(a)?this.$r_outdent.checkOutdent(a,b,c):this.$outdent.checkOutdent(a,b,c)};this.autoOutdent=function(a,b,c){return this.inRLanguageMode(a)?this.$r_outdent.autoOutdent(a,b,c,this.r_codeModel):this.$outdent.autoOutdent(a,
b,c)};this.$transformAction=this.transformAction;this.transformAction=function(a,b,c,d,e){a=w.primaryState(a);if(!this.inRLanguageMode(a))return this.$transformAction(a,b,c,d,e)}}).call(q.prototype);h.Mode=q});define("mode/c_cpp_fold_mode",function(c,h){var j=c("ace/lib/oop");c("ace/range");var i=c("ace/mode/folding/fold_mode").FoldMode,b=h.FoldMode=function(){};j.inherits(b,i);(function(){this.embeddedRComment=/^\s*\/\*{3,}\s+[Rr]\s*$/;this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/;this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/;this.getFoldWidget=function(b,a,c){b=b.getLine(c);return this.foldingStartMarker.test(b)&&!this.embeddedRComment.test(b)?"start":"markbeginend"==a&&this.foldingStopMarker&&
this.foldingStopMarker.test(b)?"end":""};this.getFoldWidgetRange=function(b,a,c){var e=b.getLine(c),g=e.match(this.foldingStartMarker);if(g)return a=g.index,g[1]?this.openingBracketBlock(b,g[1],c,a):b.getCommentFoldRange(c,a+g[0].length,1);if("markbeginend"===a&&(g=e.match(this.foldingStopMarker)))return a=g.index+g[0].length,g[1]?this.closingBracketBlock(b,g[1],c,a):b.getCommentFoldRange(c,a,-1)}}).call(b.prototype)});define("mode/xml",function(c,h){var j=c("ace/lib/oop"),i=c("ace/mode/text").Mode,b=c("ace/tokenizer").Tokenizer,d=c("mode/xml_highlight_rules").XmlHighlightRules,a=c("mode/xml_behavior").XmlBehaviour,f=c("mode/xml_fold_mode").FoldMode,e=function(){this.$tokenizer=new b((new d).getRules());this.$behaviour=new a;this.foldingRules=new f};j.inherits(e,i);(function(){this.getNextLineIndent=function(a,b){return this.$getIndent(b)}}).call(e.prototype);h.Mode=e});define("mode/xml_behavior",function(c,h){function j(a,b){var c=!0,d=a.type.split(".");b.split(".").forEach(function(a){if(-1==d.indexOf(a))return c=!1});return c}var i=c("ace/lib/oop"),b=c("ace/mode/behaviour").Behaviour,d=c("ace/mode/behaviour/cstyle").CstyleBehaviour,a=c("ace/token_iterator").TokenIterator,f=function(){this.inherit(d,["string_dquotes"]);this.add("autoclosing","insertion",function(b,c,d,f,h){if(">"==h){b=d.getCursorPosition();d=new a(f,b.row,b.column);f=d.getCurrentToken();c=!1;
if(!f||!j(f,"meta.tag")&&(!j(f,"text")||!f.value.match("/"))){do f=d.stepBackward();while(f&&(j(f,"string")||j(f,"keyword.operator")||j(f,"entity.attribute-name")||j(f,"text")))}else c=!0;if(f&&j(f,"meta.tag-name")&&!d.stepBackward().value.match("/"))return d=f.value,c&&(d=d.substring(0,b.column-f.start)),{text:"></"+d+">",selection:[1,1]}}});this.add("autoindent","insertion",function(a,b,c,d,f){if("\n"==f&&(b=c.getCursorPosition(),"</"==d.doc.getLine(b.row).substring(b.column,b.column+2)))return a=
this.$getIndent(d.doc.getLine(b.row))+d.getTabString(),d=this.$getIndent(d.doc.getLine(b.row)),{text:"\n"+a+"\n"+d,selection:[1,a.length,1,a.length]}})};i.inherits(f,b);h.XmlBehaviour=f});define("mode/xml_fold_mode",function(c,h){var j=c("ace/lib/oop"),i=c("ace/lib/lang"),b=c("ace/range").Range,d=c("ace/mode/folding/fold_mode").FoldMode,a=c("ace/token_iterator").TokenIterator,f=h.FoldMode=function(a){d.call(this);this.voidElements=a||{}};j.inherits(f,d);(function(){this.getFoldWidget=function(a,b,c){a=this._getFirstTagInLine(a,c);return a.closing?"markbeginend"==b?"end":"":!a.tagName||this.voidElements[a.tagName.toLowerCase()]||a.selfClosing||-1!==a.value.indexOf("/"+a.tagName)?"":
"start"};this._getFirstTagInLine=function(a,b){for(var c=a.getTokens(b),d="",f=0;f<c.length;f++)var h=c[f],d=0===h.type.indexOf("meta.tag")?d+h.value:d+i.stringRepeat(" ",h.value.length);return this._parseTag(d)};this.tagRe=/^(\s*)(<?(\/?)([-_a-zA-Z0-9:!]*)\s*(\/?)>?)/;this._parseTag=function(a){var b=this.tagRe.exec(a),c=this.tagRe.lastIndex||0;this.tagRe.lastIndex=0;return{value:a,match:b?b[2]:"",closing:b?!!b[3]:!1,selfClosing:b?!!b[5]||"/>"==b[2]:!1,tagName:b?b[4]:"",column:b[1]?c+b[1].length:
c}};this._readTagForward=function(a){var b=a.getCurrentToken();if(!b)return null;var c="",d;do if(0===b.type.indexOf("meta.tag")&&(d||(d={row:a.getCurrentTokenRow(),column:a.getCurrentTokenColumn()}),c+=b.value,-1!==c.indexOf(">")))return c=this._parseTag(c),c.start=d,c.end={row:a.getCurrentTokenRow(),column:a.getCurrentTokenColumn()+b.value.length},a.stepForward(),c;while(b=a.stepForward());return null};this._readTagBackward=function(a){var b=a.getCurrentToken();if(!b)return null;var c="",d;do if(0===
b.type.indexOf("meta.tag")&&(d||(d={row:a.getCurrentTokenRow(),column:a.getCurrentTokenColumn()+b.value.length}),c=b.value+c,-1!==c.indexOf("<")))return b=this._parseTag(c),b.end=d,b.start={row:a.getCurrentTokenRow(),column:a.getCurrentTokenColumn()},a.stepBackward(),b;while(b=a.stepBackward());return null};this._pop=function(a,b){for(;a.length;){var c=a[a.length-1];if(!b||c.tagName==b.tagName)return a.pop();if(this.voidElements[b.tagName])break;else if(this.voidElements[c.tagName])a.pop();else return null}};
this.getFoldWidgetRange=function(c,d,f){var h=this._getFirstTagInLine(c,f);if(!h.match)return null;d=[];if(h.closing||h.selfClosing){c=new a(c,f,h.column+h.match.length);for(h={row:f,column:h.column};f=this._readTagBackward(c);){if(f.selfClosing)if(d.length)continue;else return f.start.column+=f.tagName.length+2,f.end.column-=2,b.fromPoints(f.start,f.end);if(f.closing)d.push(f);else if(this._pop(d,f),0==d.length)return f.start.column+=f.tagName.length+2,b.fromPoints(f.start,h)}}else{c=new a(c,f,h.column);
for(h={row:f,column:h.column+h.tagName.length+2};f=this._readTagForward(c);){if(f.selfClosing)if(d.length)continue;else return f.start.column+=f.tagName.length+2,f.end.column-=2,b.fromPoints(f.start,f.end);if(f.closing){if(this._pop(d,f),0==d.length)return b.fromPoints(h,f.start)}else d.push(f)}}}}).call(f.prototype)});define("mode/xml_highlight_rules",function(c,h){var j=c("ace/lib/oop"),i=c("mode/xml_util"),b=c("ace/mode/text_highlight_rules").TextHighlightRules,d=function(){this.$rules={start:[{token:"text",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:"xml_pe",regex:"<\\?.*?\\?>"},{token:"comment",merge:!0,regex:"<\\!--",next:"comment"},{token:"xml_pe",regex:"<\\!.*?>"},{token:"meta.tag",regex:"<\\/?",next:"tag"},{token:"text",regex:"\\s+"},{token:"constant.character.entity",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"},
{token:"text",regex:"[^<]+"}],cdata:[{token:"text",regex:"\\]\\]>",next:"start"},{token:"text",regex:"\\s+"},{token:"text",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment",regex:".*?--\>",next:"start"},{token:"comment",merge:!0,regex:".+"}]};i.tag(this.$rules,"tag","start")};j.inherits(d,b);h.XmlHighlightRules=d});define("mode/xml_util",function(c,h){function j(c,b){return[{token:"string",merge:!0,regex:".*?"+c,next:b},{token:"string",merge:!0,regex:".+"}]}h.tag=function(c,b,d,a){c[b]=[{token:"text",regex:"\\s+"},{token:function(b){return a&&a[b]?"meta.tag.tag-name."+a[b]:"meta.tag.tag-name"},merge:!0,regex:"[-_a-zA-Z0-9:]+",next:b+"_embed_attribute_list"},{token:"empty",regex:"",next:b+"_embed_attribute_list"}];c[b+"_qstring"]=j("'",b+"_embed_attribute_list");c[b+"_qqstring"]=j('"',b+"_embed_attribute_list");
c[b+"_embed_attribute_list"]=[{token:"meta.tag",merge:!0,regex:"/?>",next:d},{token:"keyword.operator",regex:"="},{token:"entity.other.attribute-name",regex:"[-_a-zA-Z0-9:]+"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"text",regex:"\\s+"}].concat([{token:"string",regex:'".*?"'},{token:"string",merge:!0,regex:'["].*',next:b+"_qqstring"},{token:"string",regex:"'.*?'"},{token:"string",merge:!0,regex:"['].*",next:b+"_qstring"}])}});define("theme/default",function(c,h){c("ace/lib/dom");h.cssClass="ace-rs"});